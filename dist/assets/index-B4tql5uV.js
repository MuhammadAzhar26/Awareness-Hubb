function af(a,r){for(var n=0;n<r.length;n++){const l=r[n];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in a)){const u=Object.getOwnPropertyDescriptor(l,o);u&&Object.defineProperty(a,o,u.get?u:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function lf(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function of(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var r=a.default;if(typeof r=="function"){var n=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(a).forEach(function(l){var o=Object.getOwnPropertyDescriptor(a,l);Object.defineProperty(n,l,o.get?o:{enumerable:!0,get:function(){return a[l]}})}),n}var jo={exports:{}},zs={},_o={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function v0(){if(oh)return de;oh=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function N(P,U,le){this.props=P,this.context=U,this.refs=w,this.updater=le||j}N.prototype.isReactComponent={},N.prototype.setState=function(P,U){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,U,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=N.prototype;function E(P,U,le){this.props=P,this.context=U,this.refs=w,this.updater=le||j}var R=E.prototype=new $;R.constructor=E,_(R,N.prototype),R.isPureReactComponent=!0;var I=Array.isArray,F=Object.prototype.hasOwnProperty,W={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function se(P,U,le){var ce,he={},fe=null,we=null;if(U!=null)for(ce in U.ref!==void 0&&(we=U.ref),U.key!==void 0&&(fe=""+U.key),U)F.call(U,ce)&&!Z.hasOwnProperty(ce)&&(he[ce]=U[ce]);var ye=arguments.length-2;if(ye===1)he.children=le;else if(1<ye){for(var je=Array(ye),Ze=0;Ze<ye;Ze++)je[Ze]=arguments[Ze+2];he.children=je}if(P&&P.defaultProps)for(ce in ye=P.defaultProps,ye)he[ce]===void 0&&(he[ce]=ye[ce]);return{$$typeof:a,type:P,key:fe,ref:we,props:he,_owner:W.current}}function ge(P,U){return{$$typeof:a,type:P.type,key:U,ref:P.ref,props:P.props,_owner:P._owner}}function ue(P){return typeof P=="object"&&P!==null&&P.$$typeof===a}function Se(P){var U={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return U[le]})}var _e=/\/+/g;function ve(P,U){return typeof P=="object"&&P!==null&&P.key!=null?Se(""+P.key):U.toString(36)}function Ge(P,U,le,ce,he){var fe=typeof P;(fe==="undefined"||fe==="boolean")&&(P=null);var we=!1;if(P===null)we=!0;else switch(fe){case"string":case"number":we=!0;break;case"object":switch(P.$$typeof){case a:case r:we=!0}}if(we)return we=P,he=he(we),P=ce===""?"."+ve(we,0):ce,I(he)?(le="",P!=null&&(le=P.replace(_e,"$&/")+"/"),Ge(he,U,le,"",function(Ze){return Ze})):he!=null&&(ue(he)&&(he=ge(he,le+(!he.key||we&&we.key===he.key?"":(""+he.key).replace(_e,"$&/")+"/")+P)),U.push(he)),1;if(we=0,ce=ce===""?".":ce+":",I(P))for(var ye=0;ye<P.length;ye++){fe=P[ye];var je=ce+ve(fe,ye);we+=Ge(fe,U,le,je,he)}else if(je=v(P),typeof je=="function")for(P=je.call(P),ye=0;!(fe=P.next()).done;)fe=fe.value,je=ce+ve(fe,ye++),we+=Ge(fe,U,le,je,he);else if(fe==="object")throw U=String(P),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return we}function Je(P,U,le){if(P==null)return P;var ce=[],he=0;return Ge(P,ce,"","",function(fe){return U.call(le,fe,he++)}),ce}function Qe(P){if(P._status===-1){var U=P._result;U=U(),U.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=U)}if(P._status===1)return P._result.default;throw P._result}var Ee={current:null},H={transition:null},ee={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:H,ReactCurrentOwner:W};function q(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:Je,forEach:function(P,U,le){Je(P,function(){U.apply(this,arguments)},le)},count:function(P){var U=0;return Je(P,function(){U++}),U},toArray:function(P){return Je(P,function(U){return U})||[]},only:function(P){if(!ue(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},de.Component=N,de.Fragment=n,de.Profiler=o,de.PureComponent=E,de.StrictMode=l,de.Suspense=p,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,de.act=q,de.cloneElement=function(P,U,le){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ce=_({},P.props),he=P.key,fe=P.ref,we=P._owner;if(U!=null){if(U.ref!==void 0&&(fe=U.ref,we=W.current),U.key!==void 0&&(he=""+U.key),P.type&&P.type.defaultProps)var ye=P.type.defaultProps;for(je in U)F.call(U,je)&&!Z.hasOwnProperty(je)&&(ce[je]=U[je]===void 0&&ye!==void 0?ye[je]:U[je])}var je=arguments.length-2;if(je===1)ce.children=le;else if(1<je){ye=Array(je);for(var Ze=0;Ze<je;Ze++)ye[Ze]=arguments[Ze+2];ce.children=ye}return{$$typeof:a,type:P.type,key:he,ref:fe,props:ce,_owner:we}},de.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},de.createElement=se,de.createFactory=function(P){var U=se.bind(null,P);return U.type=P,U},de.createRef=function(){return{current:null}},de.forwardRef=function(P){return{$$typeof:m,render:P}},de.isValidElement=ue,de.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:Qe}},de.memo=function(P,U){return{$$typeof:g,type:P,compare:U===void 0?null:U}},de.startTransition=function(P){var U=H.transition;H.transition={};try{P()}finally{H.transition=U}},de.unstable_act=q,de.useCallback=function(P,U){return Ee.current.useCallback(P,U)},de.useContext=function(P){return Ee.current.useContext(P)},de.useDebugValue=function(){},de.useDeferredValue=function(P){return Ee.current.useDeferredValue(P)},de.useEffect=function(P,U){return Ee.current.useEffect(P,U)},de.useId=function(){return Ee.current.useId()},de.useImperativeHandle=function(P,U,le){return Ee.current.useImperativeHandle(P,U,le)},de.useInsertionEffect=function(P,U){return Ee.current.useInsertionEffect(P,U)},de.useLayoutEffect=function(P,U){return Ee.current.useLayoutEffect(P,U)},de.useMemo=function(P,U){return Ee.current.useMemo(P,U)},de.useReducer=function(P,U,le){return Ee.current.useReducer(P,U,le)},de.useRef=function(P){return Ee.current.useRef(P)},de.useState=function(P){return Ee.current.useState(P)},de.useSyncExternalStore=function(P,U,le){return Ee.current.useSyncExternalStore(P,U,le)},de.useTransition=function(){return Ee.current.useTransition()},de.version="18.3.1",de}var ch;function sc(){return ch||(ch=1,_o.exports=v0()),_o.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function w0(){if(uh)return zs;uh=1;var a=sc(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(m,p,g){var y,b={},v=null,j=null;g!==void 0&&(v=""+g),p.key!==void 0&&(v=""+p.key),p.ref!==void 0&&(j=p.ref);for(y in p)l.call(p,y)&&!u.hasOwnProperty(y)&&(b[y]=p[y]);if(m&&m.defaultProps)for(y in p=m.defaultProps,p)b[y]===void 0&&(b[y]=p[y]);return{$$typeof:r,type:m,key:v,ref:j,props:b,_owner:o.current}}return zs.Fragment=n,zs.jsx=d,zs.jsxs=d,zs}var dh;function b0(){return dh||(dh=1,jo.exports=w0()),jo.exports}var s=b0(),T=sc();const cf=lf(T),j0=af({__proto__:null,default:cf},[T]);var ca={},No={exports:{}},ft={},ko={exports:{}},So={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function _0(){return hh||(hh=1,(function(a){function r(H,ee){var q=H.length;H.push(ee);e:for(;0<q;){var P=q-1>>>1,U=H[P];if(0<o(U,ee))H[P]=ee,H[q]=U,q=P;else break e}}function n(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var ee=H[0],q=H.pop();if(q!==ee){H[0]=q;e:for(var P=0,U=H.length,le=U>>>1;P<le;){var ce=2*(P+1)-1,he=H[ce],fe=ce+1,we=H[fe];if(0>o(he,q))fe<U&&0>o(we,he)?(H[P]=we,H[fe]=q,P=fe):(H[P]=he,H[ce]=q,P=ce);else if(fe<U&&0>o(we,q))H[P]=we,H[fe]=q,P=fe;else break e}}return ee}function o(H,ee){var q=H.sortIndex-ee.sortIndex;return q!==0?q:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],g=[],y=1,b=null,v=3,j=!1,_=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(H){for(var ee=n(g);ee!==null;){if(ee.callback===null)l(g);else if(ee.startTime<=H)l(g),ee.sortIndex=ee.expirationTime,r(p,ee);else break;ee=n(g)}}function I(H){if(w=!1,R(H),!_)if(n(p)!==null)_=!0,Qe(F);else{var ee=n(g);ee!==null&&Ee(I,ee.startTime-H)}}function F(H,ee){_=!1,w&&(w=!1,$(se),se=-1),j=!0;var q=v;try{for(R(ee),b=n(p);b!==null&&(!(b.expirationTime>ee)||H&&!Se());){var P=b.callback;if(typeof P=="function"){b.callback=null,v=b.priorityLevel;var U=P(b.expirationTime<=ee);ee=a.unstable_now(),typeof U=="function"?b.callback=U:b===n(p)&&l(p),R(ee)}else l(p);b=n(p)}if(b!==null)var le=!0;else{var ce=n(g);ce!==null&&Ee(I,ce.startTime-ee),le=!1}return le}finally{b=null,v=q,j=!1}}var W=!1,Z=null,se=-1,ge=5,ue=-1;function Se(){return!(a.unstable_now()-ue<ge)}function _e(){if(Z!==null){var H=a.unstable_now();ue=H;var ee=!0;try{ee=Z(!0,H)}finally{ee?ve():(W=!1,Z=null)}}else W=!1}var ve;if(typeof E=="function")ve=function(){E(_e)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Je=Ge.port2;Ge.port1.onmessage=_e,ve=function(){Je.postMessage(null)}}else ve=function(){N(_e,0)};function Qe(H){Z=H,W||(W=!0,ve())}function Ee(H,ee){se=N(function(){H(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_continueExecution=function(){_||j||(_=!0,Qe(F))},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_getFirstCallbackNode=function(){return n(p)},a.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var q=v;v=ee;try{return H()}finally{v=q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=v;v=H;try{return ee()}finally{v=q}},a.unstable_scheduleCallback=function(H,ee,q){var P=a.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?P+q:P):q=P,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,H={id:y++,callback:ee,priorityLevel:H,startTime:q,expirationTime:U,sortIndex:-1},q>P?(H.sortIndex=q,r(g,H),n(p)===null&&H===n(g)&&(w?($(se),se=-1):w=!0,Ee(I,q-P))):(H.sortIndex=U,r(p,H),_||j||(_=!0,Qe(F))),H},a.unstable_shouldYield=Se,a.unstable_wrapCallback=function(H){var ee=v;return function(){var q=v;v=ee;try{return H.apply(this,arguments)}finally{v=q}}}})(So)),So}var fh;function N0(){return fh||(fh=1,ko.exports=_0()),ko.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function k0(){if(mh)return ft;mh=1;var a=sc(),r=N0();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function v(e){return p.call(b,e)?!0:p.call(y,e)?!1:g.test(e)?b[e]=!0:(y[e]=!0,!1)}function j(e,t,i,c){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,i,c){if(t===null||typeof t>"u"||j(e,t,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,i,c,h,f,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=x}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,E);N[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,E);N[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,E);N[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});function R(e,t,i,c){var h=N.hasOwnProperty(t)?N[t]:null;(h!==null?h.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,i,h,c)&&(i=null),c||h===null?v(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(t=h.attributeName,c=h.attributeNamespace,i===null?e.removeAttribute(t):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?e.setAttributeNS(c,t,i):e.setAttribute(t,i))))}var I=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),Se=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),H=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,P;function U(e){if(P===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var le=!1;function ce(e,t){if(!e||le)return"";le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var c=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){c=L}e.call(t.prototype)}else{try{throw Error()}catch(L){c=L}e()}}catch(L){if(L&&c&&typeof L.stack=="string"){for(var h=L.stack.split(`
`),f=c.stack.split(`
`),x=h.length-1,k=f.length-1;1<=x&&0<=k&&h[x]!==f[k];)k--;for(;1<=x&&0<=k;x--,k--)if(h[x]!==f[k]){if(x!==1||k!==1)do if(x--,k--,0>k||h[x]!==f[k]){var S=`
`+h[x].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=x&&0<=k);break}}}finally{le=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?U(e):""}function he(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case W:return"Portal";case ge:return"Profiler";case se:return"StrictMode";case ve:return"Suspense";case Ge:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Se:return(e.displayName||"Context")+".Consumer";case ue:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Je:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case Qe:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(t);case 8:return t===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function je(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ze(e){var t=je(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),c=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){e._valueTracker||(e._valueTracker=Ze(e))}function Qn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),c="";return e&&(c=je(e)?e.checked?"true":"false":e.value),e=c,e!==i?(t.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rn(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Yn(e,t){var i=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;i=ye(t.value!=null?t.value:i),e._wrapperState={initialChecked:c,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xn(e,t){t=t.checked,t!=null&&R(e,"checked",t,!1)}function nn(e,t){Xn(e,t);var i=ye(t.value),c=t.type;if(i!=null)c==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sn(e,t.type,i):t.hasOwnProperty("defaultValue")&&sn(e,t.type,ye(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zn(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function sn(e,t,i){(t!=="number"||$r(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var sr=Array.isArray;function Vt(e,t,i,c){if(e=e.options,t){t={};for(var h=0;h<i.length;h++)t["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=t.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+ye(i),t=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function an(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function es(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(sr(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:ye(i)}}function ts(e,t){var i=ye(t.value),c=ye(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),c!=null&&(e.defaultValue=""+c)}function rs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ns(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ns(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ir,ss=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,c,h){MSApp.execUnsafeLocalFunction(function(){return e(t,i,c,h)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ir.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ir(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){ei.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});function ti(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function Nc(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=ti(i,t[i],c);i==="float"&&(i="cssFloat"),c?e.setProperty(i,h):e[i]=h}}var Nm=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(e,t){if(t){if(Nm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function $a(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ia=null;function La(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,on=null,cn=null;function kc(e){if(e=Ss(e)){if(typeof Ua!="function")throw Error(n(280));var t=e.stateNode;t&&(t=Ni(t),Ua(e.stateNode,e.type,t))}}function Sc(e){on?cn?cn.push(e):cn=[e]:on=e}function Ec(){if(on){var e=on,t=cn;if(cn=on=null,kc(e),t)for(e=0;e<t.length;e++)kc(t[e])}}function Cc(e,t){return e(t)}function Tc(){}var Da=!1;function Pc(e,t,i){if(Da)return e(t,i);Da=!0;try{return Cc(e,t,i)}finally{Da=!1,(on!==null||cn!==null)&&(Tc(),Ec())}}function is(e,t){var i=e.stateNode;if(i===null)return null;var c=Ni(i);if(c===null)return null;i=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Ma=!1;if(m)try{var as={};Object.defineProperty(as,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Ma=!1}function km(e,t,i,c,h,f,x,k,S){var L=Array.prototype.slice.call(arguments,3);try{t.apply(i,L)}catch(M){this.onError(M)}}var ls=!1,ri=null,ni=!1,Fa=null,Sm={onError:function(e){ls=!0,ri=e}};function Em(e,t,i,c,h,f,x,k,S){ls=!1,ri=null,km.apply(Sm,arguments)}function Cm(e,t,i,c,h,f,x,k,S){if(Em.apply(this,arguments),ls){if(ls){var L=ri;ls=!1,ri=null}else throw Error(n(198));ni||(ni=!0,Fa=L)}}function Lr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Oc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rc(e){if(Lr(e)!==e)throw Error(n(188))}function Tm(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,c=t;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return Rc(h),e;if(f===c)return Rc(h),t;f=f.sibling}throw Error(n(188))}if(i.return!==c.return)i=h,c=f;else{for(var x=!1,k=h.child;k;){if(k===i){x=!0,i=h,c=f;break}if(k===c){x=!0,c=h,i=f;break}k=k.sibling}if(!x){for(k=f.child;k;){if(k===i){x=!0,i=f,c=h;break}if(k===c){x=!0,c=f,i=h;break}k=k.sibling}if(!x)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function Ac(e){return e=Tm(e),e!==null?$c(e):null}function $c(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$c(e);if(t!==null)return t;e=e.sibling}return null}var Ic=r.unstable_scheduleCallback,Lc=r.unstable_cancelCallback,Pm=r.unstable_shouldYield,Om=r.unstable_requestPaint,Le=r.unstable_now,Rm=r.unstable_getCurrentPriorityLevel,za=r.unstable_ImmediatePriority,Uc=r.unstable_UserBlockingPriority,si=r.unstable_NormalPriority,Am=r.unstable_LowPriority,Dc=r.unstable_IdlePriority,ii=null,Ft=null;function $m(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Um,Im=Math.log,Lm=Math.LN2;function Um(e){return e>>>=0,e===0?32:31-(Im(e)/Lm|0)|0}var ai=64,li=4194304;function os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,f=e.pingedLanes,x=i&268435455;if(x!==0){var k=x&~h;k!==0?c=os(k):(f&=x,f!==0&&(c=os(f)))}else x=i&~h,x!==0?c=os(x):f!==0&&(c=os(f));if(c===0)return 0;if(t!==0&&t!==c&&(t&h)===0&&(h=c&-c,f=t&-t,h>=f||h===16&&(f&4194240)!==0))return t;if((c&4)!==0&&(c|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=c;0<t;)i=31-Pt(t),h=1<<i,c|=e[i],t&=~h;return c}function Dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(e,t){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes;0<f;){var x=31-Pt(f),k=1<<x,S=h[x];S===-1?((k&i)===0||(k&c)!==0)&&(h[x]=Dm(k,t)):S<=t&&(e.expiredLanes|=k),f&=~k}}function Ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mc(){var e=ai;return ai<<=1,(ai&4194240)===0&&(ai=64),e}function Ha(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function cs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=i}function Fm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Pt(i),f=1<<h;t[h]=0,c[h]=-1,e[h]=-1,i&=~f}}function Wa(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var c=31-Pt(i),h=1<<c;h&t|e[c]&t&&(e[c]|=t),i&=~h}}var be=0;function Fc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var zc,Va,Bc,Hc,Wc,qa=!1,ci=[],lr=null,or=null,cr=null,us=new Map,ds=new Map,ur=[],zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,t){switch(e){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function hs(e,t,i,c,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:c,nativeEvent:f,targetContainers:[h]},t!==null&&(t=Ss(t),t!==null&&Va(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Bm(e,t,i,c,h){switch(t){case"focusin":return lr=hs(lr,e,t,i,c,h),!0;case"dragenter":return or=hs(or,e,t,i,c,h),!0;case"mouseover":return cr=hs(cr,e,t,i,c,h),!0;case"pointerover":var f=h.pointerId;return us.set(f,hs(us.get(f)||null,e,t,i,c,h)),!0;case"gotpointercapture":return f=h.pointerId,ds.set(f,hs(ds.get(f)||null,e,t,i,c,h)),!0}return!1}function qc(e){var t=Ur(e.target);if(t!==null){var i=Lr(t);if(i!==null){if(t=i.tag,t===13){if(t=Oc(i),t!==null){e.blockedOn=t,Wc(e.priority,function(){Bc(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);Ia=c,i.target.dispatchEvent(c),Ia=null}else return t=Ss(i),t!==null&&Va(t),e.blockedOn=i,!1;t.shift()}return!0}function Kc(e,t,i){ui(e)&&i.delete(t)}function Hm(){qa=!1,lr!==null&&ui(lr)&&(lr=null),or!==null&&ui(or)&&(or=null),cr!==null&&ui(cr)&&(cr=null),us.forEach(Kc),ds.forEach(Kc)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,qa||(qa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hm)))}function ms(e){function t(h){return fs(h,e)}if(0<ci.length){fs(ci[0],e);for(var i=1;i<ci.length;i++){var c=ci[i];c.blockedOn===e&&(c.blockedOn=null)}}for(lr!==null&&fs(lr,e),or!==null&&fs(or,e),cr!==null&&fs(cr,e),us.forEach(t),ds.forEach(t),i=0;i<ur.length;i++)c=ur[i],c.blockedOn===e&&(c.blockedOn=null);for(;0<ur.length&&(i=ur[0],i.blockedOn===null);)qc(i),i.blockedOn===null&&ur.shift()}var un=I.ReactCurrentBatchConfig,di=!0;function Wm(e,t,i,c){var h=be,f=un.transition;un.transition=null;try{be=1,Ka(e,t,i,c)}finally{be=h,un.transition=f}}function Vm(e,t,i,c){var h=be,f=un.transition;un.transition=null;try{be=4,Ka(e,t,i,c)}finally{be=h,un.transition=f}}function Ka(e,t,i,c){if(di){var h=Ga(e,t,i,c);if(h===null)dl(e,t,c,hi,i),Vc(e,c);else if(Bm(h,e,t,i,c))c.stopPropagation();else if(Vc(e,c),t&4&&-1<zm.indexOf(e)){for(;h!==null;){var f=Ss(h);if(f!==null&&zc(f),f=Ga(e,t,i,c),f===null&&dl(e,t,c,hi,i),f===h)break;h=f}h!==null&&c.stopPropagation()}else dl(e,t,c,null,i)}}var hi=null;function Ga(e,t,i,c){if(hi=null,e=La(c),e=Ur(e),e!==null)if(t=Lr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Oc(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function Gc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rm()){case za:return 1;case Uc:return 4;case si:case Am:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var dr=null,Ja=null,fi=null;function Jc(){if(fi)return fi;var e,t=Ja,i=t.length,c,h="value"in dr?dr.value:dr.textContent,f=h.length;for(e=0;e<i&&t[e]===h[e];e++);var x=i-e;for(c=1;c<=x&&t[i-c]===h[f-c];c++);return fi=h.slice(e,1<c?1-c:void 0)}function mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pi(){return!0}function Qc(){return!1}function mt(e){function t(i,c,h,f,x){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(i=e[k],this[k]=i?i(f):f[k]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?pi:Qc,this.isPropagationStopped=Qc,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=mt(dn),ps=q({},dn,{view:0,detail:0}),qm=mt(ps),Ya,Xa,gs,gi=q({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(Ya=e.screenX-gs.screenX,Xa=e.screenY-gs.screenY):Xa=Ya=0,gs=e),Ya)},movementY:function(e){return"movementY"in e?e.movementY:Xa}}),Yc=mt(gi),Km=q({},gi,{dataTransfer:0}),Gm=mt(Km),Jm=q({},ps,{relatedTarget:0}),Za=mt(Jm),Qm=q({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=mt(Qm),Xm=q({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=mt(Xm),ep=q({},dn,{data:0}),Xc=mt(ep),tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=np[e])?!!t[e]:!1}function el(){return sp}var ip=q({},ps,{key:function(e){if(e.key){var t=tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ap=mt(ip),lp=q({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=mt(lp),op=q({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),cp=mt(op),up=q({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dp=mt(up),hp=q({},gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fp=mt(hp),mp=[9,13,27,32],tl=m&&"CompositionEvent"in window,ys=null;m&&"documentMode"in document&&(ys=document.documentMode);var pp=m&&"TextEvent"in window&&!ys,eu=m&&(!tl||ys&&8<ys&&11>=ys),tu=" ",ru=!1;function nu(e,t){switch(e){case"keyup":return mp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hn=!1;function gp(e,t){switch(e){case"compositionend":return su(t);case"keypress":return t.which!==32?null:(ru=!0,tu);case"textInput":return e=t.data,e===tu&&ru?null:e;default:return null}}function yp(e,t){if(hn)return e==="compositionend"||!tl&&nu(e,t)?(e=Jc(),fi=Ja=dr=null,hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eu&&t.locale!=="ko"?null:t.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xp[e.type]:t==="textarea"}function au(e,t,i,c){Sc(c),t=bi(t,"onChange"),0<t.length&&(i=new Qa("onChange","change",null,i,c),e.push({event:i,listeners:t}))}var xs=null,vs=null;function vp(e){Nu(e,0)}function yi(e){var t=yn(e);if(Qn(t))return e}function wp(e,t){if(e==="change")return t}var lu=!1;if(m){var rl;if(m){var nl="oninput"in document;if(!nl){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),nl=typeof ou.oninput=="function"}rl=nl}else rl=!1;lu=rl&&(!document.documentMode||9<document.documentMode)}function cu(){xs&&(xs.detachEvent("onpropertychange",uu),vs=xs=null)}function uu(e){if(e.propertyName==="value"&&yi(vs)){var t=[];au(t,vs,e,La(e)),Pc(vp,t)}}function bp(e,t,i){e==="focusin"?(cu(),xs=t,vs=i,xs.attachEvent("onpropertychange",uu)):e==="focusout"&&cu()}function jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yi(vs)}function _p(e,t){if(e==="click")return yi(t)}function Np(e,t){if(e==="input"||e==="change")return yi(t)}function kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:kp;function ws(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),c=Object.keys(t);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(t,h)||!Ot(e[h],t[h]))return!1}return!0}function du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hu(e,t){var i=du(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=t&&c>=t)return{node:i,offset:t-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=du(i)}}function fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mu(){for(var e=window,t=$r();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=$r(e.document)}return t}function sl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sp(e){var t=mu(),i=e.focusedElem,c=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&fu(i.ownerDocument.documentElement,i)){if(c!==null&&sl(i)){if(t=c.start,e=c.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,f=Math.min(c.start,h);c=c.end===void 0?f:Math.min(c.end,h),!e.extend&&f>c&&(h=c,c=f,f=h),h=hu(i,f);var x=hu(i,c);h&&x&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),f>c?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ep=m&&"documentMode"in document&&11>=document.documentMode,fn=null,il=null,bs=null,al=!1;function pu(e,t,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;al||fn==null||fn!==$r(c)||(c=fn,"selectionStart"in c&&sl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),bs&&ws(bs,c)||(bs=c,c=bi(il,"onSelect"),0<c.length&&(t=new Qa("onSelect","select",null,t,i),e.push({event:t,listeners:c}),t.target=fn)))}function xi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var mn={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},ll={},gu={};m&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function vi(e){if(ll[e])return ll[e];if(!mn[e])return e;var t=mn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in gu)return ll[e]=t[i];return e}var yu=vi("animationend"),xu=vi("animationiteration"),vu=vi("animationstart"),wu=vi("transitionend"),bu=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(e,t){bu.set(e,t),u(t,[e])}for(var ol=0;ol<ju.length;ol++){var cl=ju[ol],Cp=cl.toLowerCase(),Tp=cl[0].toUpperCase()+cl.slice(1);hr(Cp,"on"+Tp)}hr(yu,"onAnimationEnd"),hr(xu,"onAnimationIteration"),hr(vu,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(wu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function _u(e,t,i){var c=e.type||"unknown-event";e.currentTarget=i,Cm(c,t,void 0,e),e.currentTarget=null}function Nu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var f=void 0;if(t)for(var x=c.length-1;0<=x;x--){var k=c[x],S=k.instance,L=k.currentTarget;if(k=k.listener,S!==f&&h.isPropagationStopped())break e;_u(h,k,L),f=S}else for(x=0;x<c.length;x++){if(k=c[x],S=k.instance,L=k.currentTarget,k=k.listener,S!==f&&h.isPropagationStopped())break e;_u(h,k,L),f=S}}}if(ni)throw e=Fa,ni=!1,Fa=null,e}function Ce(e,t){var i=t[yl];i===void 0&&(i=t[yl]=new Set);var c=e+"__bubble";i.has(c)||(ku(t,e,2,!1),i.add(c))}function ul(e,t,i){var c=0;t&&(c|=4),ku(i,e,c,t)}var wi="_reactListening"+Math.random().toString(36).slice(2);function _s(e){if(!e[wi]){e[wi]=!0,l.forEach(function(i){i!=="selectionchange"&&(Pp.has(i)||ul(i,!1,e),ul(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wi]||(t[wi]=!0,ul("selectionchange",!1,t))}}function ku(e,t,i,c){switch(Gc(t)){case 1:var h=Wm;break;case 4:h=Vm;break;default:h=Ka}i=h.bind(null,t,i,e),h=void 0,!Ma||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(t,i,{capture:!0,passive:h}):e.addEventListener(t,i,!0):h!==void 0?e.addEventListener(t,i,{passive:h}):e.addEventListener(t,i,!1)}function dl(e,t,i,c,h){var f=c;if((t&1)===0&&(t&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var k=c.stateNode.containerInfo;if(k===h||k.nodeType===8&&k.parentNode===h)break;if(x===4)for(x=c.return;x!==null;){var S=x.tag;if((S===3||S===4)&&(S=x.stateNode.containerInfo,S===h||S.nodeType===8&&S.parentNode===h))return;x=x.return}for(;k!==null;){if(x=Ur(k),x===null)return;if(S=x.tag,S===5||S===6){c=f=x;continue e}k=k.parentNode}}c=c.return}Pc(function(){var L=f,M=La(i),z=[];e:{var D=bu.get(e);if(D!==void 0){var V=Qa,G=e;switch(e){case"keypress":if(mi(i)===0)break e;case"keydown":case"keyup":V=ap;break;case"focusin":G="focus",V=Za;break;case"focusout":G="blur",V=Za;break;case"beforeblur":case"afterblur":V=Za;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=cp;break;case yu:case xu:case vu:V=Ym;break;case wu:V=dp;break;case"scroll":V=qm;break;case"wheel":V=fp;break;case"copy":case"cut":case"paste":V=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Zc}var J=(t&4)!==0,Ue=!J&&e==="scroll",O=J?D!==null?D+"Capture":null:D;J=[];for(var C=L,A;C!==null;){A=C;var B=A.stateNode;if(A.tag===5&&B!==null&&(A=B,O!==null&&(B=is(C,O),B!=null&&J.push(Ns(C,B,A)))),Ue)break;C=C.return}0<J.length&&(D=new V(D,G,null,i,M),z.push({event:D,listeners:J}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",D&&i!==Ia&&(G=i.relatedTarget||i.fromElement)&&(Ur(G)||G[qt]))break e;if((V||D)&&(D=M.window===M?M:(D=M.ownerDocument)?D.defaultView||D.parentWindow:window,V?(G=i.relatedTarget||i.toElement,V=L,G=G?Ur(G):null,G!==null&&(Ue=Lr(G),G!==Ue||G.tag!==5&&G.tag!==6)&&(G=null)):(V=null,G=L),V!==G)){if(J=Yc,B="onMouseLeave",O="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(J=Zc,B="onPointerLeave",O="onPointerEnter",C="pointer"),Ue=V==null?D:yn(V),A=G==null?D:yn(G),D=new J(B,C+"leave",V,i,M),D.target=Ue,D.relatedTarget=A,B=null,Ur(M)===L&&(J=new J(O,C+"enter",G,i,M),J.target=A,J.relatedTarget=Ue,B=J),Ue=B,V&&G)t:{for(J=V,O=G,C=0,A=J;A;A=pn(A))C++;for(A=0,B=O;B;B=pn(B))A++;for(;0<C-A;)J=pn(J),C--;for(;0<A-C;)O=pn(O),A--;for(;C--;){if(J===O||O!==null&&J===O.alternate)break t;J=pn(J),O=pn(O)}J=null}else J=null;V!==null&&Su(z,D,V,J,!1),G!==null&&Ue!==null&&Su(z,Ue,G,J,!0)}}e:{if(D=L?yn(L):window,V=D.nodeName&&D.nodeName.toLowerCase(),V==="select"||V==="input"&&D.type==="file")var X=wp;else if(iu(D))if(lu)X=Np;else{X=jp;var te=bp}else(V=D.nodeName)&&V.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(X=_p);if(X&&(X=X(e,L))){au(z,X,i,M);break e}te&&te(e,D,L),e==="focusout"&&(te=D._wrapperState)&&te.controlled&&D.type==="number"&&sn(D,"number",D.value)}switch(te=L?yn(L):window,e){case"focusin":(iu(te)||te.contentEditable==="true")&&(fn=te,il=L,bs=null);break;case"focusout":bs=il=fn=null;break;case"mousedown":al=!0;break;case"contextmenu":case"mouseup":case"dragend":al=!1,pu(z,i,M);break;case"selectionchange":if(Ep)break;case"keydown":case"keyup":pu(z,i,M)}var re;if(tl)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else hn?nu(e,i)&&(ie="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ie="onCompositionStart");ie&&(eu&&i.locale!=="ko"&&(hn||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&hn&&(re=Jc()):(dr=M,Ja="value"in dr?dr.value:dr.textContent,hn=!0)),te=bi(L,ie),0<te.length&&(ie=new Xc(ie,e,null,i,M),z.push({event:ie,listeners:te}),re?ie.data=re:(re=su(i),re!==null&&(ie.data=re)))),(re=pp?gp(e,i):yp(e,i))&&(L=bi(L,"onBeforeInput"),0<L.length&&(M=new Xc("onBeforeInput","beforeinput",null,i,M),z.push({event:M,listeners:L}),M.data=re))}Nu(z,t)})}function Ns(e,t,i){return{instance:e,listener:t,currentTarget:i}}function bi(e,t){for(var i=t+"Capture",c=[];e!==null;){var h=e,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=is(e,i),f!=null&&c.unshift(Ns(e,f,h)),f=is(e,t),f!=null&&c.push(Ns(e,f,h))),e=e.return}return c}function pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,i,c,h){for(var f=t._reactName,x=[];i!==null&&i!==c;){var k=i,S=k.alternate,L=k.stateNode;if(S!==null&&S===c)break;k.tag===5&&L!==null&&(k=L,h?(S=is(i,f),S!=null&&x.unshift(Ns(i,S,k))):h||(S=is(i,f),S!=null&&x.push(Ns(i,S,k)))),i=i.return}x.length!==0&&e.push({event:t,listeners:x})}var Op=/\r\n?/g,Rp=/\u0000|\uFFFD/g;function Eu(e){return(typeof e=="string"?e:""+e).replace(Op,`
`).replace(Rp,"")}function ji(e,t,i){if(t=Eu(t),Eu(e)!==t&&i)throw Error(n(425))}function _i(){}var hl=null,fl=null;function ml(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,Ap=typeof clearTimeout=="function"?clearTimeout:void 0,Cu=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Cu<"u"?function(e){return Cu.resolve(null).then(e).catch(Ip)}:pl;function Ip(e){setTimeout(function(){throw e})}function gl(e,t){var i=t,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){e.removeChild(h),ms(t);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);ms(t)}function fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var gn=Math.random().toString(36).slice(2),zt="__reactFiber$"+gn,ks="__reactProps$"+gn,qt="__reactContainer$"+gn,yl="__reactEvents$"+gn,Lp="__reactListeners$"+gn,Up="__reactHandles$"+gn;function Ur(e){var t=e[zt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[qt]||i[zt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Tu(e);e!==null;){if(i=e[zt])return i;e=Tu(e)}return t}e=i,i=e.parentNode}return null}function Ss(e){return e=e[zt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function Ni(e){return e[ks]||null}var xl=[],xn=-1;function mr(e){return{current:e}}function Te(e){0>xn||(e.current=xl[xn],xl[xn]=null,xn--)}function Ne(e,t){xn++,xl[xn]=e.current,e.current=t}var pr={},et=mr(pr),ot=mr(!1),Dr=pr;function vn(e,t){var i=e.type.contextTypes;if(!i)return pr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in i)h[f]=t[f];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function ct(e){return e=e.childContextTypes,e!=null}function ki(){Te(ot),Te(et)}function Pu(e,t,i){if(et.current!==pr)throw Error(n(168));Ne(et,t),Ne(ot,i)}function Ou(e,t,i){var c=e.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in t))throw Error(n(108,we(e)||"Unknown",h));return q({},i,c)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Dr=et.current,Ne(et,e),Ne(ot,ot.current),!0}function Ru(e,t,i){var c=e.stateNode;if(!c)throw Error(n(169));i?(e=Ou(e,t,Dr),c.__reactInternalMemoizedMergedChildContext=e,Te(ot),Te(et),Ne(et,e)):Te(ot),Ne(ot,i)}var Kt=null,Ei=!1,vl=!1;function Au(e){Kt===null?Kt=[e]:Kt.push(e)}function Dp(e){Ei=!0,Au(e)}function gr(){if(!vl&&Kt!==null){vl=!0;var e=0,t=be;try{var i=Kt;for(be=1;e<i.length;e++){var c=i[e];do c=c(!0);while(c!==null)}Kt=null,Ei=!1}catch(h){throw Kt!==null&&(Kt=Kt.slice(e+1)),Ic(za,gr),h}finally{be=t,vl=!1}}return null}var wn=[],bn=0,Ci=null,Ti=0,_t=[],Nt=0,Mr=null,Gt=1,Jt="";function Fr(e,t){wn[bn++]=Ti,wn[bn++]=Ci,Ci=e,Ti=t}function $u(e,t,i){_t[Nt++]=Gt,_t[Nt++]=Jt,_t[Nt++]=Mr,Mr=e;var c=Gt;e=Jt;var h=32-Pt(c)-1;c&=~(1<<h),i+=1;var f=32-Pt(t)+h;if(30<f){var x=h-h%5;f=(c&(1<<x)-1).toString(32),c>>=x,h-=x,Gt=1<<32-Pt(t)+h|i<<h|c,Jt=f+e}else Gt=1<<f|i<<h|c,Jt=e}function wl(e){e.return!==null&&(Fr(e,1),$u(e,1,0))}function bl(e){for(;e===Ci;)Ci=wn[--bn],wn[bn]=null,Ti=wn[--bn],wn[bn]=null;for(;e===Mr;)Mr=_t[--Nt],_t[Nt]=null,Jt=_t[--Nt],_t[Nt]=null,Gt=_t[--Nt],_t[Nt]=null}var pt=null,gt=null,Oe=!1,Rt=null;function Iu(e,t){var i=Ct(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Lu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,gt=fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=Mr!==null?{id:Gt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ct(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,pt=e,gt=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _l(e){if(Oe){var t=gt;if(t){var i=t;if(!Lu(e,t)){if(jl(e))throw Error(n(418));t=fr(i.nextSibling);var c=pt;t&&Lu(e,t)?Iu(c,i):(e.flags=e.flags&-4097|2,Oe=!1,pt=e)}}else{if(jl(e))throw Error(n(418));e.flags=e.flags&-4097|2,Oe=!1,pt=e}}}function Uu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Pi(e){if(e!==pt)return!1;if(!Oe)return Uu(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ml(e.type,e.memoizedProps)),t&&(t=gt)){if(jl(e))throw Du(),Error(n(418));for(;t;)Iu(e,t),t=fr(t.nextSibling)}if(Uu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){gt=fr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=pt?fr(e.stateNode.nextSibling):null;return!0}function Du(){for(var e=gt;e;)e=fr(e.nextSibling)}function jn(){gt=pt=null,Oe=!1}function Nl(e){Rt===null?Rt=[e]:Rt.push(e)}var Mp=I.ReactCurrentBatchConfig;function Es(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,e));var h=c,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(x){var k=h.refs;x===null?delete k[f]:k[f]=x},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function Oi(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mu(e){var t=e._init;return t(e._payload)}function Fu(e){function t(O,C){if(e){var A=O.deletions;A===null?(O.deletions=[C],O.flags|=16):A.push(C)}}function i(O,C){if(!e)return null;for(;C!==null;)t(O,C),C=C.sibling;return null}function c(O,C){for(O=new Map;C!==null;)C.key!==null?O.set(C.key,C):O.set(C.index,C),C=C.sibling;return O}function h(O,C){return O=Nr(O,C),O.index=0,O.sibling=null,O}function f(O,C,A){return O.index=A,e?(A=O.alternate,A!==null?(A=A.index,A<C?(O.flags|=2,C):A):(O.flags|=2,C)):(O.flags|=1048576,C)}function x(O){return e&&O.alternate===null&&(O.flags|=2),O}function k(O,C,A,B){return C===null||C.tag!==6?(C=go(A,O.mode,B),C.return=O,C):(C=h(C,A),C.return=O,C)}function S(O,C,A,B){var X=A.type;return X===Z?M(O,C,A.props.children,B,A.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Qe&&Mu(X)===C.type)?(B=h(C,A.props),B.ref=Es(O,C,A),B.return=O,B):(B=ta(A.type,A.key,A.props,null,O.mode,B),B.ref=Es(O,C,A),B.return=O,B)}function L(O,C,A,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=yo(A,O.mode,B),C.return=O,C):(C=h(C,A.children||[]),C.return=O,C)}function M(O,C,A,B,X){return C===null||C.tag!==7?(C=Gr(A,O.mode,B,X),C.return=O,C):(C=h(C,A),C.return=O,C)}function z(O,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return C=go(""+C,O.mode,A),C.return=O,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case F:return A=ta(C.type,C.key,C.props,null,O.mode,A),A.ref=Es(O,null,C),A.return=O,A;case W:return C=yo(C,O.mode,A),C.return=O,C;case Qe:var B=C._init;return z(O,B(C._payload),A)}if(sr(C)||ee(C))return C=Gr(C,O.mode,A,null),C.return=O,C;Oi(O,C)}return null}function D(O,C,A,B){var X=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return X!==null?null:k(O,C,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return A.key===X?S(O,C,A,B):null;case W:return A.key===X?L(O,C,A,B):null;case Qe:return X=A._init,D(O,C,X(A._payload),B)}if(sr(A)||ee(A))return X!==null?null:M(O,C,A,B,null);Oi(O,A)}return null}function V(O,C,A,B,X){if(typeof B=="string"&&B!==""||typeof B=="number")return O=O.get(A)||null,k(C,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case F:return O=O.get(B.key===null?A:B.key)||null,S(C,O,B,X);case W:return O=O.get(B.key===null?A:B.key)||null,L(C,O,B,X);case Qe:var te=B._init;return V(O,C,A,te(B._payload),X)}if(sr(B)||ee(B))return O=O.get(A)||null,M(C,O,B,X,null);Oi(C,B)}return null}function G(O,C,A,B){for(var X=null,te=null,re=C,ie=C=0,Ke=null;re!==null&&ie<A.length;ie++){re.index>ie?(Ke=re,re=null):Ke=re.sibling;var xe=D(O,re,A[ie],B);if(xe===null){re===null&&(re=Ke);break}e&&re&&xe.alternate===null&&t(O,re),C=f(xe,C,ie),te===null?X=xe:te.sibling=xe,te=xe,re=Ke}if(ie===A.length)return i(O,re),Oe&&Fr(O,ie),X;if(re===null){for(;ie<A.length;ie++)re=z(O,A[ie],B),re!==null&&(C=f(re,C,ie),te===null?X=re:te.sibling=re,te=re);return Oe&&Fr(O,ie),X}for(re=c(O,re);ie<A.length;ie++)Ke=V(re,O,ie,A[ie],B),Ke!==null&&(e&&Ke.alternate!==null&&re.delete(Ke.key===null?ie:Ke.key),C=f(Ke,C,ie),te===null?X=Ke:te.sibling=Ke,te=Ke);return e&&re.forEach(function(kr){return t(O,kr)}),Oe&&Fr(O,ie),X}function J(O,C,A,B){var X=ee(A);if(typeof X!="function")throw Error(n(150));if(A=X.call(A),A==null)throw Error(n(151));for(var te=X=null,re=C,ie=C=0,Ke=null,xe=A.next();re!==null&&!xe.done;ie++,xe=A.next()){re.index>ie?(Ke=re,re=null):Ke=re.sibling;var kr=D(O,re,xe.value,B);if(kr===null){re===null&&(re=Ke);break}e&&re&&kr.alternate===null&&t(O,re),C=f(kr,C,ie),te===null?X=kr:te.sibling=kr,te=kr,re=Ke}if(xe.done)return i(O,re),Oe&&Fr(O,ie),X;if(re===null){for(;!xe.done;ie++,xe=A.next())xe=z(O,xe.value,B),xe!==null&&(C=f(xe,C,ie),te===null?X=xe:te.sibling=xe,te=xe);return Oe&&Fr(O,ie),X}for(re=c(O,re);!xe.done;ie++,xe=A.next())xe=V(re,O,ie,xe.value,B),xe!==null&&(e&&xe.alternate!==null&&re.delete(xe.key===null?ie:xe.key),C=f(xe,C,ie),te===null?X=xe:te.sibling=xe,te=xe);return e&&re.forEach(function(x0){return t(O,x0)}),Oe&&Fr(O,ie),X}function Ue(O,C,A,B){if(typeof A=="object"&&A!==null&&A.type===Z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case F:e:{for(var X=A.key,te=C;te!==null;){if(te.key===X){if(X=A.type,X===Z){if(te.tag===7){i(O,te.sibling),C=h(te,A.props.children),C.return=O,O=C;break e}}else if(te.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Qe&&Mu(X)===te.type){i(O,te.sibling),C=h(te,A.props),C.ref=Es(O,te,A),C.return=O,O=C;break e}i(O,te);break}else t(O,te);te=te.sibling}A.type===Z?(C=Gr(A.props.children,O.mode,B,A.key),C.return=O,O=C):(B=ta(A.type,A.key,A.props,null,O.mode,B),B.ref=Es(O,C,A),B.return=O,O=B)}return x(O);case W:e:{for(te=A.key;C!==null;){if(C.key===te)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){i(O,C.sibling),C=h(C,A.children||[]),C.return=O,O=C;break e}else{i(O,C);break}else t(O,C);C=C.sibling}C=yo(A,O.mode,B),C.return=O,O=C}return x(O);case Qe:return te=A._init,Ue(O,C,te(A._payload),B)}if(sr(A))return G(O,C,A,B);if(ee(A))return J(O,C,A,B);Oi(O,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,C!==null&&C.tag===6?(i(O,C.sibling),C=h(C,A),C.return=O,O=C):(i(O,C),C=go(A,O.mode,B),C.return=O,O=C),x(O)):i(O,C)}return Ue}var _n=Fu(!0),zu=Fu(!1),Ri=mr(null),Ai=null,Nn=null,kl=null;function Sl(){kl=Nn=Ai=null}function El(e){var t=Ri.current;Te(Ri),e._currentValue=t}function Cl(e,t,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===i)break;e=e.return}}function kn(e,t){Ai=e,kl=Nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ut=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:t,next:null},Nn===null){if(Ai===null)throw Error(n(308));Nn=e,Ai.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var zr=null;function Tl(e){zr===null?zr=[e]:zr.push(e)}function Bu(e,t,i,c){var h=t.interleaved;return h===null?(i.next=i,Tl(t)):(i.next=h.next,h.next=i),t.interleaved=i,Qt(e,c)}function Qt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var yr=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(pe&2)!==0){var h=c.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),c.pending=t,Qt(e,i)}return h=c.interleaved,h===null?(t.next=t,Tl(c)):(t.next=h.next,h.next=t),c.interleaved=t,Qt(e,i)}function $i(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var c=t.lanes;c&=e.pendingLanes,i|=c,t.lanes=i,Wa(e,i)}}function Wu(e,t){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var x={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?h=f=x:f=f.next=x,i=i.next}while(i!==null);f===null?h=f=t:f=f.next=t}else h=f=t;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:c.shared,effects:c.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ii(e,t,i,c){var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,x=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var S=k,L=S.next;S.next=null,x===null?f=L:x.next=L,x=S;var M=e.alternate;M!==null&&(M=M.updateQueue,k=M.lastBaseUpdate,k!==x&&(k===null?M.firstBaseUpdate=L:k.next=L,M.lastBaseUpdate=S))}if(f!==null){var z=h.baseState;x=0,M=L=S=null,k=f;do{var D=k.lane,V=k.eventTime;if((c&D)===D){M!==null&&(M=M.next={eventTime:V,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var G=e,J=k;switch(D=t,V=i,J.tag){case 1:if(G=J.payload,typeof G=="function"){z=G.call(V,z,D);break e}z=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=J.payload,D=typeof G=="function"?G.call(V,z,D):G,D==null)break e;z=q({},z,D);break e;case 2:yr=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,D=h.effects,D===null?h.effects=[k]:D.push(k))}else V={eventTime:V,lane:D,tag:k.tag,payload:k.payload,callback:k.callback,next:null},M===null?(L=M=V,S=z):M=M.next=V,x|=D;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;D=k,k=D.next,D.next=null,h.lastBaseUpdate=D,h.shared.pending=null}}while(!0);if(M===null&&(S=z),h.baseState=S,h.firstBaseUpdate=L,h.lastBaseUpdate=M,t=h.shared.interleaved,t!==null){h=t;do x|=h.lane,h=h.next;while(h!==t)}else f===null&&(h.shared.lanes=0);Wr|=x,e.lanes=x,e.memoizedState=z}}function Vu(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var c=e[t],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Cs={},Bt=mr(Cs),Ts=mr(Cs),Ps=mr(Cs);function Br(e){if(e===Cs)throw Error(n(174));return e}function Ol(e,t){switch(Ne(Ps,t),Ne(Ts,e),Ne(Bt,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ln(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ln(t,e)}Te(Bt),Ne(Bt,t)}function Sn(){Te(Bt),Te(Ts),Te(Ps)}function qu(e){Br(Ps.current);var t=Br(Bt.current),i=ln(t,e.type);t!==i&&(Ne(Ts,e),Ne(Bt,i))}function Rl(e){Ts.current===e&&(Te(Bt),Te(Ts))}var Re=mr(0);function Li(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Al=[];function $l(){for(var e=0;e<Al.length;e++)Al[e]._workInProgressVersionPrimary=null;Al.length=0}var Ui=I.ReactCurrentDispatcher,Il=I.ReactCurrentBatchConfig,Hr=0,Ae=null,Be=null,Ve=null,Di=!1,Os=!1,Rs=0,Fp=0;function tt(){throw Error(n(321))}function Ll(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ot(e[i],t[i]))return!1;return!0}function Ul(e,t,i,c,h,f){if(Hr=f,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ui.current=e===null||e.memoizedState===null?Wp:Vp,e=i(c,h),Os){f=0;do{if(Os=!1,Rs=0,25<=f)throw Error(n(301));f+=1,Ve=Be=null,t.updateQueue=null,Ui.current=qp,e=i(c,h)}while(Os)}if(Ui.current=zi,t=Be!==null&&Be.next!==null,Hr=0,Ve=Be=Ae=null,Di=!1,t)throw Error(n(300));return e}function Dl(){var e=Rs!==0;return Rs=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function St(){if(Be===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ve===null?Ae.memoizedState:Ve.next;if(t!==null)Ve=t,Be=e;else{if(e===null)throw Error(n(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ve===null?Ae.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function As(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=St(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var c=Be,h=c.baseQueue,f=i.pending;if(f!==null){if(h!==null){var x=h.next;h.next=f.next,f.next=x}c.baseQueue=h=f,i.pending=null}if(h!==null){f=h.next,c=c.baseState;var k=x=null,S=null,L=f;do{var M=L.lane;if((Hr&M)===M)S!==null&&(S=S.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),c=L.hasEagerState?L.eagerState:e(c,L.action);else{var z={lane:M,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};S===null?(k=S=z,x=c):S=S.next=z,Ae.lanes|=M,Wr|=M}L=L.next}while(L!==null&&L!==f);S===null?x=c:S.next=k,Ot(c,t.memoizedState)||(ut=!0),t.memoizedState=c,t.baseState=x,t.baseQueue=S,i.lastRenderedState=c}if(e=i.interleaved,e!==null){h=e;do f=h.lane,Ae.lanes|=f,Wr|=f,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Fl(e){var t=St(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,f=t.memoizedState;if(h!==null){i.pending=null;var x=h=h.next;do f=e(f,x.action),x=x.next;while(x!==h);Ot(f,t.memoizedState)||(ut=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,c]}function Ku(){}function Gu(e,t){var i=Ae,c=St(),h=t(),f=!Ot(c.memoizedState,h);if(f&&(c.memoizedState=h,ut=!0),c=c.queue,zl(Yu.bind(null,i,c,e),[e]),c.getSnapshot!==t||f||Ve!==null&&Ve.memoizedState.tag&1){if(i.flags|=2048,$s(9,Qu.bind(null,i,c,h,t),void 0,null),qe===null)throw Error(n(349));(Hr&30)!==0||Ju(i,t,h)}return h}function Ju(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qu(e,t,i,c){t.value=i,t.getSnapshot=c,Xu(t)&&Zu(e)}function Yu(e,t,i){return i(function(){Xu(t)&&Zu(e)})}function Xu(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ot(e,i)}catch{return!0}}function Zu(e){var t=Qt(e,1);t!==null&&Lt(t,e,1,-1)}function ed(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=Hp.bind(null,Ae,e),[t.memoizedState,e]}function $s(e,t,i,c){return e={tag:e,create:t,destroy:i,deps:c,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,t.lastEffect=e)),e}function td(){return St().memoizedState}function Mi(e,t,i,c){var h=Ht();Ae.flags|=e,h.memoizedState=$s(1|t,i,void 0,c===void 0?null:c)}function Fi(e,t,i,c){var h=St();c=c===void 0?null:c;var f=void 0;if(Be!==null){var x=Be.memoizedState;if(f=x.destroy,c!==null&&Ll(c,x.deps)){h.memoizedState=$s(t,i,f,c);return}}Ae.flags|=e,h.memoizedState=$s(1|t,i,f,c)}function rd(e,t){return Mi(8390656,8,e,t)}function zl(e,t){return Fi(2048,8,e,t)}function nd(e,t){return Fi(4,2,e,t)}function sd(e,t){return Fi(4,4,e,t)}function id(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ad(e,t,i){return i=i!=null?i.concat([e]):null,Fi(4,4,id.bind(null,t,e),i)}function Bl(){}function ld(e,t){var i=St();t=t===void 0?null:t;var c=i.memoizedState;return c!==null&&t!==null&&Ll(t,c[1])?c[0]:(i.memoizedState=[e,t],e)}function od(e,t){var i=St();t=t===void 0?null:t;var c=i.memoizedState;return c!==null&&t!==null&&Ll(t,c[1])?c[0]:(e=e(),i.memoizedState=[e,t],e)}function cd(e,t,i){return(Hr&21)===0?(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=i):(Ot(i,t)||(i=Mc(),Ae.lanes|=i,Wr|=i,e.baseState=!0),t)}function zp(e,t){var i=be;be=i!==0&&4>i?i:4,e(!0);var c=Il.transition;Il.transition={};try{e(!1),t()}finally{be=i,Il.transition=c}}function ud(){return St().memoizedState}function Bp(e,t,i){var c=jr(e);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},dd(e))hd(t,i);else if(i=Bu(e,t,i,c),i!==null){var h=at();Lt(i,e,c,h),fd(i,t,c)}}function Hp(e,t,i){var c=jr(e),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(dd(e))hd(t,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,k=f(x,i);if(h.hasEagerState=!0,h.eagerState=k,Ot(k,x)){var S=t.interleaved;S===null?(h.next=h,Tl(t)):(h.next=S.next,S.next=h),t.interleaved=h;return}}catch{}finally{}i=Bu(e,t,h,c),i!==null&&(h=at(),Lt(i,e,c,h),fd(i,t,c))}}function dd(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function hd(e,t){Os=Di=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function fd(e,t,i){if((i&4194240)!==0){var c=t.lanes;c&=e.pendingLanes,i|=c,t.lanes=i,Wa(e,i)}}var zi={readContext:kt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Wp={readContext:kt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:rd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Mi(4194308,4,id.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var i=Ht();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var c=Ht();return t=i!==void 0?i(t):t,c.memoizedState=c.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},c.queue=e,e=e.dispatch=Bp.bind(null,Ae,e),[c.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:ed,useDebugValue:Bl,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=ed(!1),t=e[0];return e=zp.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var c=Ae,h=Ht();if(Oe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),qe===null)throw Error(n(349));(Hr&30)!==0||Ju(c,t,i)}h.memoizedState=i;var f={value:i,getSnapshot:t};return h.queue=f,rd(Yu.bind(null,c,f,e),[e]),c.flags|=2048,$s(9,Qu.bind(null,c,f,i,t),void 0,null),i},useId:function(){var e=Ht(),t=qe.identifierPrefix;if(Oe){var i=Jt,c=Gt;i=(c&~(1<<32-Pt(c)-1)).toString(32)+i,t=":"+t+"R"+i,i=Rs++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Fp++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vp={readContext:kt,useCallback:ld,useContext:kt,useEffect:zl,useImperativeHandle:ad,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:od,useReducer:Ml,useRef:td,useState:function(){return Ml(As)},useDebugValue:Bl,useDeferredValue:function(e){var t=St();return cd(t,Be.memoizedState,e)},useTransition:function(){var e=Ml(As)[0],t=St().memoizedState;return[e,t]},useMutableSource:Ku,useSyncExternalStore:Gu,useId:ud,unstable_isNewReconciler:!1},qp={readContext:kt,useCallback:ld,useContext:kt,useEffect:zl,useImperativeHandle:ad,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:od,useReducer:Fl,useRef:td,useState:function(){return Fl(As)},useDebugValue:Bl,useDeferredValue:function(e){var t=St();return Be===null?t.memoizedState=e:cd(t,Be.memoizedState,e)},useTransition:function(){var e=Fl(As)[0],t=St().memoizedState;return[e,t]},useMutableSource:Ku,useSyncExternalStore:Gu,useId:ud,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Hl(e,t,i,c){t=e.memoizedState,i=i(c,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Bi={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var c=at(),h=jr(e),f=Yt(c,h);f.payload=t,i!=null&&(f.callback=i),t=xr(e,f,h),t!==null&&(Lt(t,e,h,c),$i(t,e,h))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var c=at(),h=jr(e),f=Yt(c,h);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=xr(e,f,h),t!==null&&(Lt(t,e,h,c),$i(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=at(),c=jr(e),h=Yt(i,c);h.tag=2,t!=null&&(h.callback=t),t=xr(e,h,c),t!==null&&(Lt(t,e,c,i),$i(t,e,c))}};function md(e,t,i,c,h,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,f,x):t.prototype&&t.prototype.isPureReactComponent?!ws(i,c)||!ws(h,f):!0}function pd(e,t,i){var c=!1,h=pr,f=t.contextType;return typeof f=="object"&&f!==null?f=kt(f):(h=ct(t)?Dr:et.current,c=t.contextTypes,f=(c=c!=null)?vn(e,h):pr),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bi,e.stateNode=t,t._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=f),t}function gd(e,t,i,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,c),t.state!==e&&Bi.enqueueReplaceState(t,t.state,null)}function Wl(e,t,i,c){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},Pl(e);var f=t.contextType;typeof f=="object"&&f!==null?h.context=kt(f):(f=ct(t)?Dr:et.current,h.context=vn(e,f)),h.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Hl(e,t,f,i),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Bi.enqueueReplaceState(h,h.state,null),Ii(e,i,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function En(e,t){try{var i="",c=t;do i+=he(c),c=c.return;while(c);var h=i}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:h,digest:null}}function Vl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function ql(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function yd(e,t,i){i=Yt(-1,i),i.tag=3,i.payload={element:null};var c=t.value;return i.callback=function(){Ji||(Ji=!0,lo=c),ql(e,t)},i}function xd(e,t,i){i=Yt(-1,i),i.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=t.value;i.payload=function(){return c(h)},i.callback=function(){ql(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){ql(e,t),typeof c!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),i}function vd(e,t,i){var c=e.pingCache;if(c===null){c=e.pingCache=new Kp;var h=new Set;c.set(t,h)}else h=c.get(t),h===void 0&&(h=new Set,c.set(t,h));h.has(i)||(h.add(i),e=l0.bind(null,e,t,i),t.then(e,e))}function wd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,i,c,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Yt(-1,1),t.tag=2,xr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Gp=I.ReactCurrentOwner,ut=!1;function it(e,t,i,c){t.child=e===null?zu(t,null,i,c):_n(t,e.child,i,c)}function jd(e,t,i,c,h){i=i.render;var f=t.ref;return kn(t,h),c=Ul(e,t,i,c,f,h),i=Dl(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Xt(e,t,h)):(Oe&&i&&wl(t),t.flags|=1,it(e,t,c,h),t.child)}function _d(e,t,i,c,h){if(e===null){var f=i.type;return typeof f=="function"&&!po(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,Nd(e,t,f,c,h)):(e=ta(i.type,null,c,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&h)===0){var x=f.memoizedProps;if(i=i.compare,i=i!==null?i:ws,i(x,c)&&e.ref===t.ref)return Xt(e,t,h)}return t.flags|=1,e=Nr(f,c),e.ref=t.ref,e.return=t,t.child=e}function Nd(e,t,i,c,h){if(e!==null){var f=e.memoizedProps;if(ws(f,c)&&e.ref===t.ref)if(ut=!1,t.pendingProps=c=f,(e.lanes&h)!==0)(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Xt(e,t,h)}return Kl(e,t,i,c,h)}function kd(e,t,i){var c=t.pendingProps,h=c.children,f=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Tn,yt),yt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Tn,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:i,Ne(Tn,yt),yt|=c}else f!==null?(c=f.baseLanes|i,t.memoizedState=null):c=i,Ne(Tn,yt),yt|=c;return it(e,t,h,i),t.child}function Sd(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Kl(e,t,i,c,h){var f=ct(i)?Dr:et.current;return f=vn(t,f),kn(t,h),i=Ul(e,t,i,c,f,h),c=Dl(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,Xt(e,t,h)):(Oe&&c&&wl(t),t.flags|=1,it(e,t,i,h),t.child)}function Ed(e,t,i,c,h){if(ct(i)){var f=!0;Si(t)}else f=!1;if(kn(t,h),t.stateNode===null)Wi(e,t),pd(t,i,c),Wl(t,i,c,h),c=!0;else if(e===null){var x=t.stateNode,k=t.memoizedProps;x.props=k;var S=x.context,L=i.contextType;typeof L=="object"&&L!==null?L=kt(L):(L=ct(i)?Dr:et.current,L=vn(t,L));var M=i.getDerivedStateFromProps,z=typeof M=="function"||typeof x.getSnapshotBeforeUpdate=="function";z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==c||S!==L)&&gd(t,x,c,L),yr=!1;var D=t.memoizedState;x.state=D,Ii(t,c,x,h),S=t.memoizedState,k!==c||D!==S||ot.current||yr?(typeof M=="function"&&(Hl(t,i,M,c),S=t.memoizedState),(k=yr||md(t,i,k,c,D,S,L))?(z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=S),x.props=c,x.state=S,x.context=L,c=k):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{x=t.stateNode,Hu(e,t),k=t.memoizedProps,L=t.type===t.elementType?k:At(t.type,k),x.props=L,z=t.pendingProps,D=x.context,S=i.contextType,typeof S=="object"&&S!==null?S=kt(S):(S=ct(i)?Dr:et.current,S=vn(t,S));var V=i.getDerivedStateFromProps;(M=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k!==z||D!==S)&&gd(t,x,c,S),yr=!1,D=t.memoizedState,x.state=D,Ii(t,c,x,h);var G=t.memoizedState;k!==z||D!==G||ot.current||yr?(typeof V=="function"&&(Hl(t,i,V,c),G=t.memoizedState),(L=yr||md(t,i,L,c,D,G,S)||!1)?(M||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,G,S),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,G,S)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||k===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=G),x.props=c,x.state=G,x.context=S,c=L):(typeof x.componentDidUpdate!="function"||k===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),c=!1)}return Gl(e,t,i,c,f,h)}function Gl(e,t,i,c,h,f){Sd(e,t);var x=(t.flags&128)!==0;if(!c&&!x)return h&&Ru(t,i,!1),Xt(e,t,f);c=t.stateNode,Gp.current=t;var k=x&&typeof i.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,e!==null&&x?(t.child=_n(t,e.child,null,f),t.child=_n(t,null,k,f)):it(e,t,k,f),t.memoizedState=c.state,h&&Ru(t,i,!0),t.child}function Cd(e){var t=e.stateNode;t.pendingContext?Pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pu(e,t.context,!1),Ol(e,t.containerInfo)}function Td(e,t,i,c,h){return jn(),Nl(h),t.flags|=256,it(e,t,i,c),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pd(e,t,i){var c=t.pendingProps,h=Re.current,f=!1,x=(t.flags&128)!==0,k;if((k=x)||(k=e!==null&&e.memoizedState===null?!1:(h&2)!==0),k?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ne(Re,h&1),e===null)return _l(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(x=c.children,e=c.fallback,f?(c=t.mode,f=t.child,x={mode:"hidden",children:x},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=x):f=ra(x,c,0,null),e=Gr(e,c,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ql(i),t.memoizedState=Jl,e):Yl(t,x));if(h=e.memoizedState,h!==null&&(k=h.dehydrated,k!==null))return Jp(e,t,x,c,k,h,i);if(f){f=c.fallback,x=t.mode,h=e.child,k=h.sibling;var S={mode:"hidden",children:c.children};return(x&1)===0&&t.child!==h?(c=t.child,c.childLanes=0,c.pendingProps=S,t.deletions=null):(c=Nr(h,S),c.subtreeFlags=h.subtreeFlags&14680064),k!==null?f=Nr(k,f):(f=Gr(f,x,i,null),f.flags|=2),f.return=t,c.return=t,c.sibling=f,t.child=c,c=f,f=t.child,x=e.child.memoizedState,x=x===null?Ql(i):{baseLanes:x.baseLanes|i,cachePool:null,transitions:x.transitions},f.memoizedState=x,f.childLanes=e.childLanes&~i,t.memoizedState=Jl,c}return f=e.child,e=f.sibling,c=Nr(f,{mode:"visible",children:c.children}),(t.mode&1)===0&&(c.lanes=i),c.return=t,c.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=c,t.memoizedState=null,c}function Yl(e,t){return t=ra({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hi(e,t,i,c){return c!==null&&Nl(c),_n(t,e.child,null,i),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jp(e,t,i,c,h,f,x){if(i)return t.flags&256?(t.flags&=-257,c=Vl(Error(n(422))),Hi(e,t,x,c)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=c.fallback,h=t.mode,c=ra({mode:"visible",children:c.children},h,0,null),f=Gr(f,h,x,null),f.flags|=2,c.return=t,f.return=t,c.sibling=f,t.child=c,(t.mode&1)!==0&&_n(t,e.child,null,x),t.child.memoizedState=Ql(x),t.memoizedState=Jl,f);if((t.mode&1)===0)return Hi(e,t,x,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var k=c.dgst;return c=k,f=Error(n(419)),c=Vl(f,c,void 0),Hi(e,t,x,c)}if(k=(x&e.childLanes)!==0,ut||k){if(c=qe,c!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|x))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,Qt(e,h),Lt(c,e,h,-1))}return mo(),c=Vl(Error(n(421))),Hi(e,t,x,c)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=o0.bind(null,e),h._reactRetry=t,null):(e=f.treeContext,gt=fr(h.nextSibling),pt=t,Oe=!0,Rt=null,e!==null&&(_t[Nt++]=Gt,_t[Nt++]=Jt,_t[Nt++]=Mr,Gt=e.id,Jt=e.overflow,Mr=t),t=Yl(t,c.children),t.flags|=4096,t)}function Od(e,t,i){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),Cl(e.return,t,i)}function Xl(e,t,i,c,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=i,f.tailMode=h)}function Rd(e,t,i){var c=t.pendingProps,h=c.revealOrder,f=c.tail;if(it(e,t,c.children,i),c=Re.current,(c&2)!==0)c=c&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,i,t);else if(e.tag===19)Od(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(Ne(Re,c),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(i=t.child,h=null;i!==null;)e=i.alternate,e!==null&&Li(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=t.child,t.child=null):(h=i.sibling,i.sibling=null),Xl(t,!1,h,i,f);break;case"backwards":for(i=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Li(e)===null){t.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Xl(t,!0,i,null,f);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Nr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Qp(e,t,i){switch(t.tag){case 3:Cd(t),jn();break;case 5:qu(t);break;case 1:ct(t.type)&&Si(t);break;case 4:Ol(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,h=t.memoizedProps.value;Ne(Ri,c._currentValue),c._currentValue=h;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(Ne(Re,Re.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Pd(e,t,i):(Ne(Re,Re.current&1),e=Xt(e,t,i),e!==null?e.sibling:null);Ne(Re,Re.current&1);break;case 19:if(c=(i&t.childLanes)!==0,(e.flags&128)!==0){if(c)return Rd(e,t,i);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(Re,Re.current),c)break;return null;case 22:case 23:return t.lanes=0,kd(e,t,i)}return Xt(e,t,i)}var Ad,Zl,$d,Id;Ad=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Zl=function(){},$d=function(e,t,i,c){var h=e.memoizedProps;if(h!==c){e=t.stateNode,Br(Bt.current);var f=null;switch(i){case"input":h=rn(e,h),c=rn(e,c),f=[];break;case"select":h=q({},h,{value:void 0}),c=q({},c,{value:void 0}),f=[];break;case"textarea":h=an(e,h),c=an(e,c),f=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=_i)}Aa(i,c);var x;i=null;for(L in h)if(!c.hasOwnProperty(L)&&h.hasOwnProperty(L)&&h[L]!=null)if(L==="style"){var k=h[L];for(x in k)k.hasOwnProperty(x)&&(i||(i={}),i[x]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?f||(f=[]):(f=f||[]).push(L,null));for(L in c){var S=c[L];if(k=h!=null?h[L]:void 0,c.hasOwnProperty(L)&&S!==k&&(S!=null||k!=null))if(L==="style")if(k){for(x in k)!k.hasOwnProperty(x)||S&&S.hasOwnProperty(x)||(i||(i={}),i[x]="");for(x in S)S.hasOwnProperty(x)&&k[x]!==S[x]&&(i||(i={}),i[x]=S[x])}else i||(f||(f=[]),f.push(L,i)),i=S;else L==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,k=k?k.__html:void 0,S!=null&&k!==S&&(f=f||[]).push(L,S)):L==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(L,""+S):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(S!=null&&L==="onScroll"&&Ce("scroll",e),f||k===S||(f=[])):(f=f||[]).push(L,S))}i&&(f=f||[]).push("style",i);var L=f;(t.updateQueue=L)&&(t.flags|=4)}},Id=function(e,t,i,c){i!==c&&(t.flags|=4)};function Is(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(t)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,t}function Yp(e,t,i){var c=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return ct(t.type)&&ki(),rt(t),null;case 3:return c=t.stateNode,Sn(),Te(ot),Te(et),$l(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Rt!==null&&(uo(Rt),Rt=null))),Zl(e,t),rt(t),null;case 5:Rl(t);var h=Br(Ps.current);if(i=t.type,e!==null&&t.stateNode!=null)$d(e,t,i,c,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(n(166));return rt(t),null}if(e=Br(Bt.current),Pi(t)){c=t.stateNode,i=t.type;var f=t.memoizedProps;switch(c[zt]=t,c[ks]=f,e=(t.mode&1)!==0,i){case"dialog":Ce("cancel",c),Ce("close",c);break;case"iframe":case"object":case"embed":Ce("load",c);break;case"video":case"audio":for(h=0;h<js.length;h++)Ce(js[h],c);break;case"source":Ce("error",c);break;case"img":case"image":case"link":Ce("error",c),Ce("load",c);break;case"details":Ce("toggle",c);break;case"input":Yn(c,f),Ce("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},Ce("invalid",c);break;case"textarea":es(c,f),Ce("invalid",c)}Aa(i,f),h=null;for(var x in f)if(f.hasOwnProperty(x)){var k=f[x];x==="children"?typeof k=="string"?c.textContent!==k&&(f.suppressHydrationWarning!==!0&&ji(c.textContent,k,e),h=["children",k]):typeof k=="number"&&c.textContent!==""+k&&(f.suppressHydrationWarning!==!0&&ji(c.textContent,k,e),h=["children",""+k]):o.hasOwnProperty(x)&&k!=null&&x==="onScroll"&&Ce("scroll",c)}switch(i){case"input":Ar(c),Zn(c,f,!0);break;case"textarea":Ar(c),rs(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=_i)}c=h,t.updateQueue=c,c!==null&&(t.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ns(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=x.createElement(i,{is:c.is}):(e=x.createElement(i),i==="select"&&(x=e,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):e=x.createElementNS(e,i),e[zt]=t,e[ks]=c,Ad(e,t,!1,!1),t.stateNode=e;e:{switch(x=$a(i,c),i){case"dialog":Ce("cancel",e),Ce("close",e),h=c;break;case"iframe":case"object":case"embed":Ce("load",e),h=c;break;case"video":case"audio":for(h=0;h<js.length;h++)Ce(js[h],e);h=c;break;case"source":Ce("error",e),h=c;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),h=c;break;case"details":Ce("toggle",e),h=c;break;case"input":Yn(e,c),h=rn(e,c),Ce("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=q({},c,{value:void 0}),Ce("invalid",e);break;case"textarea":es(e,c),h=an(e,c),Ce("invalid",e);break;default:h=c}Aa(i,h),k=h;for(f in k)if(k.hasOwnProperty(f)){var S=k[f];f==="style"?Nc(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ss(e,S)):f==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&ir(e,S):typeof S=="number"&&ir(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Ce("scroll",e):S!=null&&R(e,f,S,x))}switch(i){case"input":Ar(e),Zn(e,c,!1);break;case"textarea":Ar(e),rs(e);break;case"option":c.value!=null&&e.setAttribute("value",""+ye(c.value));break;case"select":e.multiple=!!c.multiple,f=c.value,f!=null?Vt(e,!!c.multiple,f,!1):c.defaultValue!=null&&Vt(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=_i)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Id(e,t,e.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(n(166));if(i=Br(Ps.current),Br(Bt.current),Pi(t)){if(c=t.stateNode,i=t.memoizedProps,c[zt]=t,(f=c.nodeValue!==i)&&(e=pt,e!==null))switch(e.tag){case 3:ji(c.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(c.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[zt]=t,t.stateNode=c}return rt(t),null;case 13:if(Te(Re),c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&gt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Du(),jn(),t.flags|=98560,f=!1;else if(f=Pi(t),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[zt]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),f=!1}else Rt!==null&&(uo(Rt),Rt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?He===0&&(He=3):mo())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Sn(),Zl(e,t),e===null&&_s(t.stateNode.containerInfo),rt(t),null;case 10:return El(t.type._context),rt(t),null;case 17:return ct(t.type)&&ki(),rt(t),null;case 19:if(Te(Re),f=t.memoizedState,f===null)return rt(t),null;if(c=(t.flags&128)!==0,x=f.rendering,x===null)if(c)Is(f,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(x=Li(e),x!==null){for(t.flags|=128,Is(f,!1),c=x.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=i,i=t.child;i!==null;)f=i,e=c,f.flags&=14680066,x=f.alternate,x===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,e=x.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ne(Re,Re.current&1|2),t.child}e=e.sibling}f.tail!==null&&Le()>Pn&&(t.flags|=128,c=!0,Is(f,!1),t.lanes=4194304)}else{if(!c)if(e=Li(x),e!==null){if(t.flags|=128,c=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Is(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Oe)return rt(t),null}else 2*Le()-f.renderingStartTime>Pn&&i!==1073741824&&(t.flags|=128,c=!0,Is(f,!1),t.lanes=4194304);f.isBackwards?(x.sibling=t.child,t.child=x):(i=f.last,i!==null?i.sibling=x:t.child=x,f.last=x)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Le(),t.sibling=null,i=Re.current,Ne(Re,c?i&1|2:i&1),t):(rt(t),null);case 22:case 23:return fo(),c=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(t.flags|=8192),c&&(t.mode&1)!==0?(yt&1073741824)!==0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Xp(e,t){switch(bl(t),t.tag){case 1:return ct(t.type)&&ki(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(),Te(ot),Te(et),$l(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(Te(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Re),null;case 4:return Sn(),null;case 10:return El(t.type._context),null;case 22:case 23:return fo(),null;case 24:return null;default:return null}}var Vi=!1,nt=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,K=null;function Cn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Ie(e,t,c)}else i.current=null}function eo(e,t,i){try{i()}catch(c){Ie(e,t,c)}}var Ld=!1;function e0(e,t){if(hl=di,e=mu(),sl(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var x=0,k=-1,S=-1,L=0,M=0,z=e,D=null;t:for(;;){for(var V;z!==i||h!==0&&z.nodeType!==3||(k=x+h),z!==f||c!==0&&z.nodeType!==3||(S=x+c),z.nodeType===3&&(x+=z.nodeValue.length),(V=z.firstChild)!==null;)D=z,z=V;for(;;){if(z===e)break t;if(D===i&&++L===h&&(k=x),D===f&&++M===c&&(S=x),(V=z.nextSibling)!==null)break;z=D,D=z.parentNode}z=V}i=k===-1||S===-1?null:{start:k,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(fl={focusedElem:e,selectionRange:i},di=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var G=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var J=G.memoizedProps,Ue=G.memoizedState,O=t.stateNode,C=O.getSnapshotBeforeUpdate(t.elementType===t.type?J:At(t.type,J),Ue);O.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){Ie(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return G=Ld,Ld=!1,G}function Ls(e,t,i){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var f=h.destroy;h.destroy=void 0,f!==void 0&&eo(t,i,f)}h=h.next}while(h!==c)}}function qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var c=i.create;i.destroy=c()}i=i.next}while(i!==t)}}function to(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Ud(e){var t=e.alternate;t!==null&&(e.alternate=null,Ud(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[ks],delete t[yl],delete t[Lp],delete t[Up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dd(e){return e.tag===5||e.tag===3||e.tag===4}function Md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ro(e,t,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_i));else if(c!==4&&(e=e.child,e!==null))for(ro(e,t,i),e=e.sibling;e!==null;)ro(e,t,i),e=e.sibling}function no(e,t,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(no(e,t,i),e=e.sibling;e!==null;)no(e,t,i),e=e.sibling}var Ye=null,$t=!1;function vr(e,t,i){for(i=i.child;i!==null;)Fd(e,t,i),i=i.sibling}function Fd(e,t,i){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ii,i)}catch{}switch(i.tag){case 5:nt||Cn(i,t);case 6:var c=Ye,h=$t;Ye=null,vr(e,t,i),Ye=c,$t=h,Ye!==null&&($t?(e=Ye,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ye.removeChild(i.stateNode));break;case 18:Ye!==null&&($t?(e=Ye,i=i.stateNode,e.nodeType===8?gl(e.parentNode,i):e.nodeType===1&&gl(e,i),ms(e)):gl(Ye,i.stateNode));break;case 4:c=Ye,h=$t,Ye=i.stateNode.containerInfo,$t=!0,vr(e,t,i),Ye=c,$t=h;break;case 0:case 11:case 14:case 15:if(!nt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var f=h,x=f.destroy;f=f.tag,x!==void 0&&((f&2)!==0||(f&4)!==0)&&eo(i,t,x),h=h.next}while(h!==c)}vr(e,t,i);break;case 1:if(!nt&&(Cn(i,t),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(k){Ie(i,t,k)}vr(e,t,i);break;case 21:vr(e,t,i);break;case 22:i.mode&1?(nt=(c=nt)||i.memoizedState!==null,vr(e,t,i),nt=c):vr(e,t,i);break;default:vr(e,t,i)}}function zd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Zp),t.forEach(function(c){var h=c0.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}}function It(e,t){var i=t.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var f=e,x=t,k=x;e:for(;k!==null;){switch(k.tag){case 5:Ye=k.stateNode,$t=!1;break e;case 3:Ye=k.stateNode.containerInfo,$t=!0;break e;case 4:Ye=k.stateNode.containerInfo,$t=!0;break e}k=k.return}if(Ye===null)throw Error(n(160));Fd(f,x,h),Ye=null,$t=!1;var S=h.alternate;S!==null&&(S.return=null),h.return=null}catch(L){Ie(h,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Wt(e),c&4){try{Ls(3,e,e.return),qi(3,e)}catch(J){Ie(e,e.return,J)}try{Ls(5,e,e.return)}catch(J){Ie(e,e.return,J)}}break;case 1:It(t,e),Wt(e),c&512&&i!==null&&Cn(i,i.return);break;case 5:if(It(t,e),Wt(e),c&512&&i!==null&&Cn(i,i.return),e.flags&32){var h=e.stateNode;try{ir(h,"")}catch(J){Ie(e,e.return,J)}}if(c&4&&(h=e.stateNode,h!=null)){var f=e.memoizedProps,x=i!==null?i.memoizedProps:f,k=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{k==="input"&&f.type==="radio"&&f.name!=null&&Xn(h,f),$a(k,x);var L=$a(k,f);for(x=0;x<S.length;x+=2){var M=S[x],z=S[x+1];M==="style"?Nc(h,z):M==="dangerouslySetInnerHTML"?ss(h,z):M==="children"?ir(h,z):R(h,M,z,L)}switch(k){case"input":nn(h,f);break;case"textarea":ts(h,f);break;case"select":var D=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?Vt(h,!!f.multiple,V,!1):D!==!!f.multiple&&(f.defaultValue!=null?Vt(h,!!f.multiple,f.defaultValue,!0):Vt(h,!!f.multiple,f.multiple?[]:"",!1))}h[ks]=f}catch(J){Ie(e,e.return,J)}}break;case 6:if(It(t,e),Wt(e),c&4){if(e.stateNode===null)throw Error(n(162));h=e.stateNode,f=e.memoizedProps;try{h.nodeValue=f}catch(J){Ie(e,e.return,J)}}break;case 3:if(It(t,e),Wt(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{ms(t.containerInfo)}catch(J){Ie(e,e.return,J)}break;case 4:It(t,e),Wt(e);break;case 13:It(t,e),Wt(e),h=e.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(ao=Le())),c&4&&zd(e);break;case 22:if(M=i!==null&&i.memoizedState!==null,e.mode&1?(nt=(L=nt)||M,It(t,e),nt=L):It(t,e),Wt(e),c&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!M&&(e.mode&1)!==0)for(K=e,M=e.child;M!==null;){for(z=K=M;K!==null;){switch(D=K,V=D.child,D.tag){case 0:case 11:case 14:case 15:Ls(4,D,D.return);break;case 1:Cn(D,D.return);var G=D.stateNode;if(typeof G.componentWillUnmount=="function"){c=D,i=D.return;try{t=c,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(J){Ie(c,i,J)}}break;case 5:Cn(D,D.return);break;case 22:if(D.memoizedState!==null){Vd(z);continue}}V!==null?(V.return=D,K=V):Vd(z)}M=M.sibling}e:for(M=null,z=e;;){if(z.tag===5){if(M===null){M=z;try{h=z.stateNode,L?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(k=z.stateNode,S=z.memoizedProps.style,x=S!=null&&S.hasOwnProperty("display")?S.display:null,k.style.display=ti("display",x))}catch(J){Ie(e,e.return,J)}}}else if(z.tag===6){if(M===null)try{z.stateNode.nodeValue=L?"":z.memoizedProps}catch(J){Ie(e,e.return,J)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;M===z&&(M=null),z=z.return}M===z&&(M=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:It(t,e),Wt(e),c&4&&zd(e);break;case 21:break;default:It(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Dd(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ir(h,""),c.flags&=-33);var f=Md(e);no(e,f,h);break;case 3:case 4:var x=c.stateNode.containerInfo,k=Md(e);ro(e,k,x);break;default:throw Error(n(161))}}catch(S){Ie(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t0(e,t,i){K=e,Hd(e)}function Hd(e,t,i){for(var c=(e.mode&1)!==0;K!==null;){var h=K,f=h.child;if(h.tag===22&&c){var x=h.memoizedState!==null||Vi;if(!x){var k=h.alternate,S=k!==null&&k.memoizedState!==null||nt;k=Vi;var L=nt;if(Vi=x,(nt=S)&&!L)for(K=h;K!==null;)x=K,S=x.child,x.tag===22&&x.memoizedState!==null?qd(h):S!==null?(S.return=x,K=S):qd(h);for(;f!==null;)K=f,Hd(f),f=f.sibling;K=h,Vi=k,nt=L}Wd(e)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,K=f):Wd(e)}}function Wd(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:nt||qi(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!nt)if(i===null)c.componentDidMount();else{var h=t.elementType===t.type?i.memoizedProps:At(t.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Vu(t,f,c);break;case 3:var x=t.updateQueue;if(x!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Vu(t,x,i)}break;case 5:var k=t.stateNode;if(i===null&&t.flags&4){i=k;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var M=L.memoizedState;if(M!==null){var z=M.dehydrated;z!==null&&ms(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nt||t.flags&512&&to(t)}catch(D){Ie(t,t.return,D)}}if(t===e){K=null;break}if(i=t.sibling,i!==null){i.return=t.return,K=i;break}K=t.return}}function Vd(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var i=t.sibling;if(i!==null){i.return=t.return,K=i;break}K=t.return}}function qd(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{qi(4,t)}catch(S){Ie(t,i,S)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var h=t.return;try{c.componentDidMount()}catch(S){Ie(t,h,S)}}var f=t.return;try{to(t)}catch(S){Ie(t,f,S)}break;case 5:var x=t.return;try{to(t)}catch(S){Ie(t,x,S)}}}catch(S){Ie(t,t.return,S)}if(t===e){K=null;break}var k=t.sibling;if(k!==null){k.return=t.return,K=k;break}K=t.return}}var r0=Math.ceil,Ki=I.ReactCurrentDispatcher,so=I.ReactCurrentOwner,Et=I.ReactCurrentBatchConfig,pe=0,qe=null,Fe=null,Xe=0,yt=0,Tn=mr(0),He=0,Us=null,Wr=0,Gi=0,io=0,Ds=null,dt=null,ao=0,Pn=1/0,Zt=null,Ji=!1,lo=null,wr=null,Qi=!1,br=null,Yi=0,Ms=0,oo=null,Xi=-1,Zi=0;function at(){return(pe&6)!==0?Le():Xi!==-1?Xi:Xi=Le()}function jr(e){return(e.mode&1)===0?1:(pe&2)!==0&&Xe!==0?Xe&-Xe:Mp.transition!==null?(Zi===0&&(Zi=Mc()),Zi):(e=be,e!==0||(e=window.event,e=e===void 0?16:Gc(e.type)),e)}function Lt(e,t,i,c){if(50<Ms)throw Ms=0,oo=null,Error(n(185));cs(e,i,c),((pe&2)===0||e!==qe)&&(e===qe&&((pe&2)===0&&(Gi|=i),He===4&&_r(e,Xe)),ht(e,c),i===1&&pe===0&&(t.mode&1)===0&&(Pn=Le()+500,Ei&&gr()))}function ht(e,t){var i=e.callbackNode;Mm(e,t);var c=oi(e,e===qe?Xe:0);if(c===0)i!==null&&Lc(i),e.callbackNode=null,e.callbackPriority=0;else if(t=c&-c,e.callbackPriority!==t){if(i!=null&&Lc(i),t===1)e.tag===0?Dp(Gd.bind(null,e)):Au(Gd.bind(null,e)),$p(function(){(pe&6)===0&&gr()}),i=null;else{switch(Fc(c)){case 1:i=za;break;case 4:i=Uc;break;case 16:i=si;break;case 536870912:i=Dc;break;default:i=si}i=rh(i,Kd.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Kd(e,t){if(Xi=-1,Zi=0,(pe&6)!==0)throw Error(n(327));var i=e.callbackNode;if(On()&&e.callbackNode!==i)return null;var c=oi(e,e===qe?Xe:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||t)t=ea(e,c);else{t=c;var h=pe;pe|=2;var f=Qd();(qe!==e||Xe!==t)&&(Zt=null,Pn=Le()+500,qr(e,t));do try{i0();break}catch(k){Jd(e,k)}while(!0);Sl(),Ki.current=f,pe=h,Fe!==null?t=0:(qe=null,Xe=0,t=He)}if(t!==0){if(t===2&&(h=Ba(e),h!==0&&(c=h,t=co(e,h))),t===1)throw i=Us,qr(e,0),_r(e,c),ht(e,Le()),i;if(t===6)_r(e,c);else{if(h=e.current.alternate,(c&30)===0&&!n0(h)&&(t=ea(e,c),t===2&&(f=Ba(e),f!==0&&(c=f,t=co(e,f))),t===1))throw i=Us,qr(e,0),_r(e,c),ht(e,Le()),i;switch(e.finishedWork=h,e.finishedLanes=c,t){case 0:case 1:throw Error(n(345));case 2:Kr(e,dt,Zt);break;case 3:if(_r(e,c),(c&130023424)===c&&(t=ao+500-Le(),10<t)){if(oi(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){at(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=pl(Kr.bind(null,e,dt,Zt),t);break}Kr(e,dt,Zt);break;case 4:if(_r(e,c),(c&4194240)===c)break;for(t=e.eventTimes,h=-1;0<c;){var x=31-Pt(c);f=1<<x,x=t[x],x>h&&(h=x),c&=~f}if(c=h,c=Le()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*r0(c/1960))-c,10<c){e.timeoutHandle=pl(Kr.bind(null,e,dt,Zt),c);break}Kr(e,dt,Zt);break;case 5:Kr(e,dt,Zt);break;default:throw Error(n(329))}}}return ht(e,Le()),e.callbackNode===i?Kd.bind(null,e):null}function co(e,t){var i=Ds;return e.current.memoizedState.isDehydrated&&(qr(e,t).flags|=256),e=ea(e,t),e!==2&&(t=dt,dt=i,t!==null&&uo(t)),e}function uo(e){dt===null?dt=e:dt.push.apply(dt,e)}function n0(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],f=h.getSnapshot;h=h.value;try{if(!Ot(f(),h))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~io,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Pt(t),c=1<<i;e[i]=-1,t&=~c}}function Gd(e){if((pe&6)!==0)throw Error(n(327));On();var t=oi(e,0);if((t&1)===0)return ht(e,Le()),null;var i=ea(e,t);if(e.tag!==0&&i===2){var c=Ba(e);c!==0&&(t=c,i=co(e,c))}if(i===1)throw i=Us,qr(e,0),_r(e,t),ht(e,Le()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kr(e,dt,Zt),ht(e,Le()),null}function ho(e,t){var i=pe;pe|=1;try{return e(t)}finally{pe=i,pe===0&&(Pn=Le()+500,Ei&&gr())}}function Vr(e){br!==null&&br.tag===0&&(pe&6)===0&&On();var t=pe;pe|=1;var i=Et.transition,c=be;try{if(Et.transition=null,be=1,e)return e()}finally{be=c,Et.transition=i,pe=t,(pe&6)===0&&gr()}}function fo(){yt=Tn.current,Te(Tn)}function qr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Ap(i)),Fe!==null)for(i=Fe.return;i!==null;){var c=i;switch(bl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&ki();break;case 3:Sn(),Te(ot),Te(et),$l();break;case 5:Rl(c);break;case 4:Sn();break;case 13:Te(Re);break;case 19:Te(Re);break;case 10:El(c.type._context);break;case 22:case 23:fo()}i=i.return}if(qe=e,Fe=e=Nr(e.current,null),Xe=yt=t,He=0,Us=null,io=Gi=Wr=0,dt=Ds=null,zr!==null){for(t=0;t<zr.length;t++)if(i=zr[t],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,f=i.pending;if(f!==null){var x=f.next;f.next=h,c.next=x}i.pending=c}zr=null}return e}function Jd(e,t){do{var i=Fe;try{if(Sl(),Ui.current=zi,Di){for(var c=Ae.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Di=!1}if(Hr=0,Ve=Be=Ae=null,Os=!1,Rs=0,so.current=null,i===null||i.return===null){He=1,Us=t,Fe=null;break}e:{var f=e,x=i.return,k=i,S=t;if(t=Xe,k.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var L=S,M=k,z=M.tag;if((M.mode&1)===0&&(z===0||z===11||z===15)){var D=M.alternate;D?(M.updateQueue=D.updateQueue,M.memoizedState=D.memoizedState,M.lanes=D.lanes):(M.updateQueue=null,M.memoizedState=null)}var V=wd(x);if(V!==null){V.flags&=-257,bd(V,x,k,f,t),V.mode&1&&vd(f,L,t),t=V,S=L;var G=t.updateQueue;if(G===null){var J=new Set;J.add(S),t.updateQueue=J}else G.add(S);break e}else{if((t&1)===0){vd(f,L,t),mo();break e}S=Error(n(426))}}else if(Oe&&k.mode&1){var Ue=wd(x);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),bd(Ue,x,k,f,t),Nl(En(S,k));break e}}f=S=En(S,k),He!==4&&(He=2),Ds===null?Ds=[f]:Ds.push(f),f=x;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=yd(f,S,t);Wu(f,O);break e;case 1:k=S;var C=f.type,A=f.stateNode;if((f.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(wr===null||!wr.has(A)))){f.flags|=65536,t&=-t,f.lanes|=t;var B=xd(f,k,t);Wu(f,B);break e}}f=f.return}while(f!==null)}Xd(i)}catch(X){t=X,Fe===i&&i!==null&&(Fe=i=i.return);continue}break}while(!0)}function Qd(){var e=Ki.current;return Ki.current=zi,e===null?zi:e}function mo(){(He===0||He===3||He===2)&&(He=4),qe===null||(Wr&268435455)===0&&(Gi&268435455)===0||_r(qe,Xe)}function ea(e,t){var i=pe;pe|=2;var c=Qd();(qe!==e||Xe!==t)&&(Zt=null,qr(e,t));do try{s0();break}catch(h){Jd(e,h)}while(!0);if(Sl(),pe=i,Ki.current=c,Fe!==null)throw Error(n(261));return qe=null,Xe=0,He}function s0(){for(;Fe!==null;)Yd(Fe)}function i0(){for(;Fe!==null&&!Pm();)Yd(Fe)}function Yd(e){var t=th(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Xd(e):Fe=t,so.current=null}function Xd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Yp(i,t,yt),i!==null){Fe=i;return}}else{if(i=Xp(i,t),i!==null){i.flags&=32767,Fe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Fe=null;return}}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);He===0&&(He=5)}function Kr(e,t,i){var c=be,h=Et.transition;try{Et.transition=null,be=1,a0(e,t,i,c)}finally{Et.transition=h,be=c}return null}function a0(e,t,i,c){do On();while(br!==null);if((pe&6)!==0)throw Error(n(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Fm(e,f),e===qe&&(Fe=qe=null,Xe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Qi||(Qi=!0,rh(si,function(){return On(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Et.transition,Et.transition=null;var x=be;be=1;var k=pe;pe|=4,so.current=null,e0(e,i),Bd(i,e),Sp(fl),di=!!hl,fl=hl=null,e.current=i,t0(i),Om(),pe=k,be=x,Et.transition=f}else e.current=i;if(Qi&&(Qi=!1,br=e,Yi=h),f=e.pendingLanes,f===0&&(wr=null),$m(i.stateNode),ht(e,Le()),t!==null)for(c=e.onRecoverableError,i=0;i<t.length;i++)h=t[i],c(h.value,{componentStack:h.stack,digest:h.digest});if(Ji)throw Ji=!1,e=lo,lo=null,e;return(Yi&1)!==0&&e.tag!==0&&On(),f=e.pendingLanes,(f&1)!==0?e===oo?Ms++:(Ms=0,oo=e):Ms=0,gr(),null}function On(){if(br!==null){var e=Fc(Yi),t=Et.transition,i=be;try{if(Et.transition=null,be=16>e?16:e,br===null)var c=!1;else{if(e=br,br=null,Yi=0,(pe&6)!==0)throw Error(n(331));var h=pe;for(pe|=4,K=e.current;K!==null;){var f=K,x=f.child;if((K.flags&16)!==0){var k=f.deletions;if(k!==null){for(var S=0;S<k.length;S++){var L=k[S];for(K=L;K!==null;){var M=K;switch(M.tag){case 0:case 11:case 15:Ls(8,M,f)}var z=M.child;if(z!==null)z.return=M,K=z;else for(;K!==null;){M=K;var D=M.sibling,V=M.return;if(Ud(M),M===L){K=null;break}if(D!==null){D.return=V,K=D;break}K=V}}}var G=f.alternate;if(G!==null){var J=G.child;if(J!==null){G.child=null;do{var Ue=J.sibling;J.sibling=null,J=Ue}while(J!==null)}}K=f}}if((f.subtreeFlags&2064)!==0&&x!==null)x.return=f,K=x;else e:for(;K!==null;){if(f=K,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ls(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,K=O;break e}K=f.return}}var C=e.current;for(K=C;K!==null;){x=K;var A=x.child;if((x.subtreeFlags&2064)!==0&&A!==null)A.return=x,K=A;else e:for(x=C;K!==null;){if(k=K,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:qi(9,k)}}catch(X){Ie(k,k.return,X)}if(k===x){K=null;break e}var B=k.sibling;if(B!==null){B.return=k.return,K=B;break e}K=k.return}}if(pe=h,gr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ii,e)}catch{}c=!0}return c}finally{be=i,Et.transition=t}}return!1}function Zd(e,t,i){t=En(i,t),t=yd(e,t,1),e=xr(e,t,1),t=at(),e!==null&&(cs(e,1,t),ht(e,t))}function Ie(e,t,i){if(e.tag===3)Zd(e,e,i);else for(;t!==null;){if(t.tag===3){Zd(t,e,i);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wr===null||!wr.has(c))){e=En(i,e),e=xd(t,e,1),t=xr(t,e,1),e=at(),t!==null&&(cs(t,1,e),ht(t,e));break}}t=t.return}}function l0(e,t,i){var c=e.pingCache;c!==null&&c.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&i,qe===e&&(Xe&i)===i&&(He===4||He===3&&(Xe&130023424)===Xe&&500>Le()-ao?qr(e,0):io|=i),ht(e,t)}function eh(e,t){t===0&&((e.mode&1)===0?t=1:(t=li,li<<=1,(li&130023424)===0&&(li=4194304)));var i=at();e=Qt(e,t),e!==null&&(cs(e,t,i),ht(e,i))}function o0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),eh(e,i)}function c0(e,t){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(t),eh(e,i)}var th;th=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)ut=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return ut=!1,Qp(e,t,i);ut=(e.flags&131072)!==0}else ut=!1,Oe&&(t.flags&1048576)!==0&&$u(t,Ti,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;Wi(e,t),e=t.pendingProps;var h=vn(t,et.current);kn(t,i),h=Ul(null,t,c,e,h,i);var f=Dl();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(c)?(f=!0,Si(t)):f=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Pl(t),h.updater=Bi,t.stateNode=h,h._reactInternals=t,Wl(t,c,e,i),t=Gl(null,t,c,!0,f,i)):(t.tag=0,Oe&&f&&wl(t),it(null,t,h,i),t=t.child),t;case 16:c=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,h=c._init,c=h(c._payload),t.type=c,h=t.tag=d0(c),e=At(c,e),h){case 0:t=Kl(null,t,c,e,i);break e;case 1:t=Ed(null,t,c,e,i);break e;case 11:t=jd(null,t,c,e,i);break e;case 14:t=_d(null,t,c,At(c.type,e),i);break e}throw Error(n(306,c,""))}return t;case 0:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:At(c,h),Kl(e,t,c,h,i);case 1:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:At(c,h),Ed(e,t,c,h,i);case 3:e:{if(Cd(t),e===null)throw Error(n(387));c=t.pendingProps,f=t.memoizedState,h=f.element,Hu(e,t),Ii(t,c,null,i);var x=t.memoizedState;if(c=x.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){h=En(Error(n(423)),t),t=Td(e,t,c,i,h);break e}else if(c!==h){h=En(Error(n(424)),t),t=Td(e,t,c,i,h);break e}else for(gt=fr(t.stateNode.containerInfo.firstChild),pt=t,Oe=!0,Rt=null,i=zu(t,null,c,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(jn(),c===h){t=Xt(e,t,i);break e}it(e,t,c,i)}t=t.child}return t;case 5:return qu(t),e===null&&_l(t),c=t.type,h=t.pendingProps,f=e!==null?e.memoizedProps:null,x=h.children,ml(c,h)?x=null:f!==null&&ml(c,f)&&(t.flags|=32),Sd(e,t),it(e,t,x,i),t.child;case 6:return e===null&&_l(t),null;case 13:return Pd(e,t,i);case 4:return Ol(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=_n(t,null,c,i):it(e,t,c,i),t.child;case 11:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:At(c,h),jd(e,t,c,h,i);case 7:return it(e,t,t.pendingProps,i),t.child;case 8:return it(e,t,t.pendingProps.children,i),t.child;case 12:return it(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(c=t.type._context,h=t.pendingProps,f=t.memoizedProps,x=h.value,Ne(Ri,c._currentValue),c._currentValue=x,f!==null)if(Ot(f.value,x)){if(f.children===h.children&&!ot.current){t=Xt(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var k=f.dependencies;if(k!==null){x=f.child;for(var S=k.firstContext;S!==null;){if(S.context===c){if(f.tag===1){S=Yt(-1,i&-i),S.tag=2;var L=f.updateQueue;if(L!==null){L=L.shared;var M=L.pending;M===null?S.next=S:(S.next=M.next,M.next=S),L.pending=S}}f.lanes|=i,S=f.alternate,S!==null&&(S.lanes|=i),Cl(f.return,i,t),k.lanes|=i;break}S=S.next}}else if(f.tag===10)x=f.type===t.type?null:f.child;else if(f.tag===18){if(x=f.return,x===null)throw Error(n(341));x.lanes|=i,k=x.alternate,k!==null&&(k.lanes|=i),Cl(x,i,t),x=f.sibling}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===t){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}it(e,t,h.children,i),t=t.child}return t;case 9:return h=t.type,c=t.pendingProps.children,kn(t,i),h=kt(h),c=c(h),t.flags|=1,it(e,t,c,i),t.child;case 14:return c=t.type,h=At(c,t.pendingProps),h=At(c.type,h),_d(e,t,c,h,i);case 15:return Nd(e,t,t.type,t.pendingProps,i);case 17:return c=t.type,h=t.pendingProps,h=t.elementType===c?h:At(c,h),Wi(e,t),t.tag=1,ct(c)?(e=!0,Si(t)):e=!1,kn(t,i),pd(t,c,h),Wl(t,c,h,i),Gl(null,t,c,!0,e,i);case 19:return Rd(e,t,i);case 22:return kd(e,t,i)}throw Error(n(156,t.tag))};function rh(e,t){return Ic(e,t)}function u0(e,t,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,i,c){return new u0(e,t,i,c)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function d0(e){if(typeof e=="function")return po(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_e)return 11;if(e===Je)return 14}return 2}function Nr(e,t){var i=e.alternate;return i===null?(i=Ct(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ta(e,t,i,c,h,f){var x=2;if(c=e,typeof e=="function")po(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case Z:return Gr(i.children,h,f,t);case se:x=8,h|=8;break;case ge:return e=Ct(12,i,t,h|2),e.elementType=ge,e.lanes=f,e;case ve:return e=Ct(13,i,t,h),e.elementType=ve,e.lanes=f,e;case Ge:return e=Ct(19,i,t,h),e.elementType=Ge,e.lanes=f,e;case Ee:return ra(i,h,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:x=10;break e;case Se:x=9;break e;case _e:x=11;break e;case Je:x=14;break e;case Qe:x=16,c=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Ct(x,i,t,h),t.elementType=e,t.type=c,t.lanes=f,t}function Gr(e,t,i,c){return e=Ct(7,e,c,t),e.lanes=i,e}function ra(e,t,i,c){return e=Ct(22,e,c,t),e.elementType=Ee,e.lanes=i,e.stateNode={isHidden:!1},e}function go(e,t,i){return e=Ct(6,e,null,t),e.lanes=i,e}function yo(e,t,i){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h0(e,t,i,c,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function xo(e,t,i,c,h,f,x,k,S){return e=new h0(e,t,i,k,S),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Ct(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(f),e}function f0(e,t,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:c==null?null:""+c,children:e,containerInfo:t,implementation:i}}function nh(e){if(!e)return pr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(ct(i))return Ou(e,i,t)}return t}function sh(e,t,i,c,h,f,x,k,S){return e=xo(i,c,!0,e,h,f,x,k,S),e.context=nh(null),i=e.current,c=at(),h=jr(i),f=Yt(c,h),f.callback=t??null,xr(i,f,h),e.current.lanes=h,cs(e,h,c),ht(e,c),e}function na(e,t,i,c){var h=t.current,f=at(),x=jr(h);return i=nh(i),t.context===null?t.context=i:t.pendingContext=i,t=Yt(f,x),t.payload={element:e},c=c===void 0?null:c,c!==null&&(t.callback=c),e=xr(h,t,x),e!==null&&(Lt(e,h,x,f),$i(e,h,x)),x}function sa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function vo(e,t){ih(e,t),(e=e.alternate)&&ih(e,t)}function m0(){return null}var ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function wo(e){this._internalRoot=e}ia.prototype.render=wo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));na(e,t,null,null)},ia.prototype.unmount=wo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){na(null,e,null,null)}),t[qt]=null}};function ia(e){this._internalRoot=e}ia.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ur.length&&t!==0&&t<ur[i].priority;i++);ur.splice(i,0,e),i===0&&qc(e)}};function bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lh(){}function p0(e,t,i,c,h){if(h){if(typeof c=="function"){var f=c;c=function(){var L=sa(x);f.call(L)}}var x=sh(t,c,e,0,null,!1,!1,"",lh);return e._reactRootContainer=x,e[qt]=x.current,_s(e.nodeType===8?e.parentNode:e),Vr(),x}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var k=c;c=function(){var L=sa(S);k.call(L)}}var S=xo(e,0,!1,null,null,!1,!1,"",lh);return e._reactRootContainer=S,e[qt]=S.current,_s(e.nodeType===8?e.parentNode:e),Vr(function(){na(t,S,i,c)}),S}function la(e,t,i,c,h){var f=i._reactRootContainer;if(f){var x=f;if(typeof h=="function"){var k=h;h=function(){var S=sa(x);k.call(S)}}na(t,x,e,h)}else x=p0(i,t,e,h,c);return sa(x)}zc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=os(t.pendingLanes);i!==0&&(Wa(t,i|1),ht(t,Le()),(pe&6)===0&&(Pn=Le()+500,gr()))}break;case 13:Vr(function(){var c=Qt(e,1);if(c!==null){var h=at();Lt(c,e,1,h)}}),vo(e,1)}},Va=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var i=at();Lt(t,e,134217728,i)}vo(e,134217728)}},Bc=function(e){if(e.tag===13){var t=jr(e),i=Qt(e,t);if(i!==null){var c=at();Lt(i,e,t,c)}vo(e,t)}},Hc=function(){return be},Wc=function(e,t){var i=be;try{return be=e,t()}finally{be=i}},Ua=function(e,t,i){switch(t){case"input":if(nn(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var c=i[t];if(c!==e&&c.form===e.form){var h=Ni(c);if(!h)throw Error(n(90));Qn(c),nn(c,h)}}}break;case"textarea":ts(e,i);break;case"select":t=i.value,t!=null&&Vt(e,!!i.multiple,t,!1)}},Cc=ho,Tc=Vr;var g0={usingClientEntryPoint:!1,Events:[Ss,yn,Ni,Sc,Ec,ho]},Fs={findFiberByHostInstance:Ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y0={bundleType:Fs.bundleType,version:Fs.version,rendererPackageName:Fs.rendererPackageName,rendererConfig:Fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:Fs.findFiberByHostInstance||m0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oa.isDisabled&&oa.supportsFiber)try{ii=oa.inject(y0),Ft=oa}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0,ft.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bo(t))throw Error(n(200));return f0(e,t,null,i)},ft.createRoot=function(e,t){if(!bo(e))throw Error(n(299));var i=!1,c="",h=ah;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=xo(e,1,!1,null,null,i,!1,c,h),e[qt]=t.current,_s(e.nodeType===8?e.parentNode:e),new wo(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Ac(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Vr(e)},ft.hydrate=function(e,t,i){if(!aa(t))throw Error(n(200));return la(null,e,t,!0,i)},ft.hydrateRoot=function(e,t,i){if(!bo(e))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,h=!1,f="",x=ah;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),t=sh(t,null,e,1,i??null,h,!1,f,x),e[qt]=t.current,_s(e),c)for(e=0;e<c.length;e++)i=c[e],h=i._getVersion,h=h(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,h]:t.mutableSourceEagerHydrationData.push(i,h);return new ia(t)},ft.render=function(e,t,i){if(!aa(t))throw Error(n(200));return la(null,e,t,!1,i)},ft.unmountComponentAtNode=function(e){if(!aa(e))throw Error(n(40));return e._reactRootContainer?(Vr(function(){la(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1},ft.unstable_batchedUpdates=ho,ft.unstable_renderSubtreeIntoContainer=function(e,t,i,c){if(!aa(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return la(e,t,i,!1,c)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var ph;function uf(){if(ph)return No.exports;ph=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),No.exports=k0(),No.exports}var gh;function S0(){if(gh)return ca;gh=1;var a=uf();return ca.createRoot=a.createRoot,ca.hydrateRoot=a.hydrateRoot,ca}var E0=S0();const C0=a=>a instanceof Error?a.message+`
`+a.stack:JSON.stringify(a,null,2);class T0 extends cf.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?s.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[s.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),s.jsx("pre",{className:"mt-2 text-sm",children:C0(this.state.error)})]}):this.props.children}}uf();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},qs.apply(this,arguments)}var Tr;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Tr||(Tr={}));const yh="popstate";function P0(a){a===void 0&&(a={});function r(l,o){let{pathname:u,search:d,hash:m}=l.location;return Uo("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(l,o){return typeof o=="string"?o:va(o)}return R0(r,n,null,a)}function Me(a,r){if(a===!1||a===null||typeof a>"u")throw new Error(r)}function df(a,r){if(!a){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function O0(){return Math.random().toString(36).substr(2,8)}function xh(a,r){return{usr:a.state,key:a.key,idx:r}}function Uo(a,r,n,l){return n===void 0&&(n=null),qs({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof r=="string"?Hn(r):r,{state:n,key:r&&r.key||l||O0()})}function va(a){let{pathname:r="/",search:n="",hash:l=""}=a;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function Hn(a){let r={};if(a){let n=a.indexOf("#");n>=0&&(r.hash=a.substr(n),a=a.substr(0,n));let l=a.indexOf("?");l>=0&&(r.search=a.substr(l),a=a.substr(0,l)),a&&(r.pathname=a)}return r}function R0(a,r,n,l){l===void 0&&(l={});let{window:o=document.defaultView,v5Compat:u=!1}=l,d=o.history,m=Tr.Pop,p=null,g=y();g==null&&(g=0,d.replaceState(qs({},d.state,{idx:g}),""));function y(){return(d.state||{idx:null}).idx}function b(){m=Tr.Pop;let N=y(),$=N==null?null:N-g;g=N,p&&p({action:m,location:w.location,delta:$})}function v(N,$){m=Tr.Push;let E=Uo(w.location,N,$);g=y()+1;let R=xh(E,g),I=w.createHref(E);try{d.pushState(R,"",I)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(I)}u&&p&&p({action:m,location:w.location,delta:1})}function j(N,$){m=Tr.Replace;let E=Uo(w.location,N,$);g=y();let R=xh(E,g),I=w.createHref(E);d.replaceState(R,"",I),u&&p&&p({action:m,location:w.location,delta:0})}function _(N){let $=o.location.origin!=="null"?o.location.origin:o.location.href,E=typeof N=="string"?N:va(N);return E=E.replace(/ $/,"%20"),Me($,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,$)}let w={get action(){return m},get location(){return a(o,d)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yh,b),p=N,()=>{o.removeEventListener(yh,b),p=null}},createHref(N){return r(o,N)},createURL:_,encodeLocation(N){let $=_(N);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:v,replace:j,go(N){return d.go(N)}};return w}var vh;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(vh||(vh={}));function A0(a,r,n){return n===void 0&&(n="/"),$0(a,r,n)}function $0(a,r,n,l){let o=typeof r=="string"?Hn(r):r,u=ic(o.pathname||"/",n);if(u==null)return null;let d=hf(a);I0(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let g=K0(u);m=W0(d[p],g)}return m}function hf(a,r,n,l){r===void 0&&(r=[]),n===void 0&&(n=[]),l===void 0&&(l="");let o=(u,d,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(Me(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let g=Pr([l,p.relativePath]),y=n.concat(p);u.children&&u.children.length>0&&(Me(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),hf(u.children,r,y,g)),!(u.path==null&&!u.index)&&r.push({path:g,score:B0(g,u.index),routesMeta:y})};return a.forEach((u,d)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,d);else for(let p of ff(u.path))o(u,d,p)}),r}function ff(a){let r=a.split("/");if(r.length===0)return[];let[n,...l]=r,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(l.length===0)return o?[u,""]:[u];let d=ff(l.join("/")),m=[];return m.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...d),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function I0(a){a.sort((r,n)=>r.score!==n.score?n.score-r.score:H0(r.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const L0=/^:[\w-]+$/,U0=3,D0=2,M0=1,F0=10,z0=-2,wh=a=>a==="*";function B0(a,r){let n=a.split("/"),l=n.length;return n.some(wh)&&(l+=z0),r&&(l+=D0),n.filter(o=>!wh(o)).reduce((o,u)=>o+(L0.test(u)?U0:u===""?M0:F0),l)}function H0(a,r){return a.length===r.length&&a.slice(0,-1).every((l,o)=>l===r[o])?a[a.length-1]-r[r.length-1]:0}function W0(a,r,n){let{routesMeta:l}=a,o={},u="/",d=[];for(let m=0;m<l.length;++m){let p=l[m],g=m===l.length-1,y=u==="/"?r:r.slice(u.length)||"/",b=V0({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),v=p.route;if(!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Pr([u,b.pathname]),pathnameBase:Y0(Pr([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=Pr([u,b.pathnameBase]))}return d}function V0(a,r){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,l]=q0(a.path,a.caseSensitive,a.end),o=r.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:l.reduce((g,y,b)=>{let{paramName:v,isOptional:j}=y;if(v==="*"){let w=m[b]||"";d=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const _=m[b];return j&&!_?g[v]=void 0:g[v]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:a}}function q0(a,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),df(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let l=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(l.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),l]}function K0(a){try{return a.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return df(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),a}}function ic(a,r){if(r==="/")return a;if(!a.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,l=a.charAt(n);return l&&l!=="/"?null:a.slice(n)||"/"}function G0(a,r){r===void 0&&(r="/");let{pathname:n,search:l="",hash:o=""}=typeof a=="string"?Hn(a):a;return{pathname:n?n.startsWith("/")?n:J0(n,r):r,search:X0(l),hash:Z0(o)}}function J0(a,r){let n=r.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Eo(a,r,n,l){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Q0(a){return a.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function ac(a,r){let n=Q0(a);return r?n.map((l,o)=>o===n.length-1?l.pathname:l.pathnameBase):n.map(l=>l.pathnameBase)}function lc(a,r,n,l){l===void 0&&(l=!1);let o;typeof a=="string"?o=Hn(a):(o=qs({},a),Me(!o.pathname||!o.pathname.includes("?"),Eo("?","pathname","search",o)),Me(!o.pathname||!o.pathname.includes("#"),Eo("#","pathname","hash",o)),Me(!o.search||!o.search.includes("#"),Eo("#","search","hash",o)));let u=a===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let b=r.length-1;if(!l&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),b-=1;o.pathname=v.join("/")}m=b>=0?r[b]:"/"}let p=G0(o,m),g=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const Pr=a=>a.join("/").replace(/\/\/+/g,"/"),Y0=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),X0=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Z0=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function eg(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const mf=["post","put","patch","delete"];new Set(mf);const tg=["get",...mf];new Set(tg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},Ks.apply(this,arguments)}const oc=T.createContext(null),rg=T.createContext(null),Or=T.createContext(null),Ca=T.createContext(null),nr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),pf=T.createContext(null);function ng(a,r){let{relative:n}=r===void 0?{}:r;Wn()||Me(!1);let{basename:l,navigator:o}=T.useContext(Or),{hash:u,pathname:d,search:m}=yf(a,{relative:n}),p=d;return l!=="/"&&(p=d==="/"?l:Pr([l,d])),o.createHref({pathname:p,search:m,hash:u})}function Wn(){return T.useContext(Ca)!=null}function Vn(){return Wn()||Me(!1),T.useContext(Ca).location}function gf(a){T.useContext(Or).static||T.useLayoutEffect(a)}function Ys(){let{isDataRoute:a}=T.useContext(nr);return a?gg():sg()}function sg(){Wn()||Me(!1);let a=T.useContext(oc),{basename:r,future:n,navigator:l}=T.useContext(Or),{matches:o}=T.useContext(nr),{pathname:u}=Vn(),d=JSON.stringify(ac(o,n.v7_relativeSplatPath)),m=T.useRef(!1);return gf(()=>{m.current=!0}),T.useCallback(function(g,y){if(y===void 0&&(y={}),!m.current)return;if(typeof g=="number"){l.go(g);return}let b=lc(g,JSON.parse(d),u,y.relative==="path");a==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Pr([r,b.pathname])),(y.replace?l.replace:l.push)(b,y.state,y)},[r,l,d,u,a])}function Ta(){let{matches:a}=T.useContext(nr),r=a[a.length-1];return r?r.params:{}}function yf(a,r){let{relative:n}=r===void 0?{}:r,{future:l}=T.useContext(Or),{matches:o}=T.useContext(nr),{pathname:u}=Vn(),d=JSON.stringify(ac(o,l.v7_relativeSplatPath));return T.useMemo(()=>lc(a,JSON.parse(d),u,n==="path"),[a,d,u,n])}function ig(a,r){return ag(a,r)}function ag(a,r,n,l){Wn()||Me(!1);let{navigator:o}=T.useContext(Or),{matches:u}=T.useContext(nr),d=u[u.length-1],m=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=Vn(),y;if(r){var b;let N=typeof r=="string"?Hn(r):r;p==="/"||(b=N.pathname)!=null&&b.startsWith(p)||Me(!1),y=N}else y=g;let v=y.pathname||"/",j=v;if(p!=="/"){let N=p.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=A0(a,{pathname:j}),w=dg(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Pr([p,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Pr([p,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,n,l);return r&&w?T.createElement(Ca.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Tr.Pop}},w):w}function lg(){let a=pg(),r=eg(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},r),n?T.createElement("pre",{style:o},n):null,null)}const og=T.createElement(lg,null);class cg extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?T.createElement(nr.Provider,{value:this.props.routeContext},T.createElement(pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ug(a){let{routeContext:r,match:n,children:l}=a,o=T.useContext(oc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(nr.Provider,{value:r},l)}function dg(a,r,n,l){var o;if(r===void 0&&(r=[]),n===void 0&&(n=null),l===void 0&&(l=null),a==null){var u;if(!n)return null;if(n.errors)a=n.matches;else if((u=l)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let d=a,m=(o=n)==null?void 0:o.errors;if(m!=null){let y=d.findIndex(b=>b.route.id&&(m==null?void 0:m[b.route.id])!==void 0);y>=0||Me(!1),d=d.slice(0,Math.min(d.length,y+1))}let p=!1,g=-1;if(n&&l&&l.v7_partialHydration)for(let y=0;y<d.length;y++){let b=d[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:v,errors:j}=n,_=b.route.loader&&v[b.route.id]===void 0&&(!j||j[b.route.id]===void 0);if(b.route.lazy||_){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((y,b,v)=>{let j,_=!1,w=null,N=null;n&&(j=m&&b.route.id?m[b.route.id]:void 0,w=b.route.errorElement||og,p&&(g<0&&v===0?(yg("route-fallback"),_=!0,N=null):g===v&&(_=!0,N=b.route.hydrateFallbackElement||null)));let $=r.concat(d.slice(0,v+1)),E=()=>{let R;return j?R=w:_?R=N:b.route.Component?R=T.createElement(b.route.Component,null):b.route.element?R=b.route.element:R=y,T.createElement(ug,{match:b,routeContext:{outlet:y,matches:$,isDataRoute:n!=null},children:R})};return n&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?T.createElement(cg,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:E(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):E()},null)}var xf=(function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a})(xf||{}),vf=(function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a})(vf||{});function hg(a){let r=T.useContext(oc);return r||Me(!1),r}function fg(a){let r=T.useContext(rg);return r||Me(!1),r}function mg(a){let r=T.useContext(nr);return r||Me(!1),r}function wf(a){let r=mg(),n=r.matches[r.matches.length-1];return n.route.id||Me(!1),n.route.id}function pg(){var a;let r=T.useContext(pf),n=fg(),l=wf();return r!==void 0?r:(a=n.errors)==null?void 0:a[l]}function gg(){let{router:a}=hg(xf.UseNavigateStable),r=wf(vf.UseNavigateStable),n=T.useRef(!1);return gf(()=>{n.current=!0}),T.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?a.navigate(o):a.navigate(o,Ks({fromRouteId:r},u)))},[a,r])}const bh={};function yg(a,r,n){bh[a]||(bh[a]=!0)}function xg(a,r){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function vg(a){let{to:r,replace:n,state:l,relative:o}=a;Wn()||Me(!1);let{future:u,static:d}=T.useContext(Or),{matches:m}=T.useContext(nr),{pathname:p}=Vn(),g=Ys(),y=lc(r,ac(m,u.v7_relativeSplatPath),p,o==="path"),b=JSON.stringify(y);return T.useEffect(()=>g(JSON.parse(b),{replace:n,state:l,relative:o}),[g,b,o,n,l]),null}function xt(a){Me(!1)}function wg(a){let{basename:r="/",children:n=null,location:l,navigationType:o=Tr.Pop,navigator:u,static:d=!1,future:m}=a;Wn()&&Me(!1);let p=r.replace(/^\/*/,"/"),g=T.useMemo(()=>({basename:p,navigator:u,static:d,future:Ks({v7_relativeSplatPath:!1},m)}),[p,m,u,d]);typeof l=="string"&&(l=Hn(l));let{pathname:y="/",search:b="",hash:v="",state:j=null,key:_="default"}=l,w=T.useMemo(()=>{let N=ic(y,p);return N==null?null:{location:{pathname:N,search:b,hash:v,state:j,key:_},navigationType:o}},[p,y,b,v,j,_,o]);return w==null?null:T.createElement(Or.Provider,{value:g},T.createElement(Ca.Provider,{children:n,value:w}))}function bg(a){let{children:r,location:n}=a;return ig(Do(r),n)}new Promise(()=>{});function Do(a,r){r===void 0&&(r=[]);let n=[];return T.Children.forEach(a,(l,o)=>{if(!T.isValidElement(l))return;let u=[...r,o];if(l.type===T.Fragment){n.push.apply(n,Do(l.props.children,u));return}l.type!==xt&&Me(!1),!l.props.index||!l.props.children||Me(!1);let d={id:l.props.id||u.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=Do(l.props.children,u)),n.push(d)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(a){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(a[l]=n[l])}return a},Mo.apply(this,arguments)}function jg(a,r){if(a==null)return{};var n={},l=Object.keys(a),o,u;for(u=0;u<l.length;u++)o=l[u],!(r.indexOf(o)>=0)&&(n[o]=a[o]);return n}function _g(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Ng(a,r){return a.button===0&&(!r||r==="_self")&&!_g(a)}const kg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sg="6";try{window.__reactRouterVersion=Sg}catch{}const Eg="startTransition",jh=j0[Eg];function Cg(a){let{basename:r,children:n,future:l,window:o}=a,u=T.useRef();u.current==null&&(u.current=P0({window:o,v5Compat:!0}));let d=u.current,[m,p]=T.useState({action:d.action,location:d.location}),{v7_startTransition:g}=l||{},y=T.useCallback(b=>{g&&jh?jh(()=>p(b)):p(b)},[p,g]);return T.useLayoutEffect(()=>d.listen(y),[d,y]),T.useEffect(()=>xg(l),[l]),T.createElement(wg,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:d,future:l})}const Tg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=T.forwardRef(function(r,n){let{onClick:l,relative:o,reloadDocument:u,replace:d,state:m,target:p,to:g,preventScrollReset:y,viewTransition:b}=r,v=jg(r,kg),{basename:j}=T.useContext(Or),_,w=!1;if(typeof g=="string"&&Pg.test(g)&&(_=g,Tg))try{let R=new URL(window.location.href),I=g.startsWith("//")?new URL(R.protocol+g):new URL(g),F=ic(I.pathname,j);I.origin===R.origin&&F!=null?g=F+I.search+I.hash:w=!0}catch{}let N=ng(g,{relative:o}),$=Og(g,{replace:d,state:m,target:p,preventScrollReset:y,relative:o,viewTransition:b});function E(R){l&&l(R),R.defaultPrevented||$(R)}return T.createElement("a",Mo({},v,{href:_||N,onClick:w||u?l:E,ref:n,target:p}))});var _h;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(_h||(_h={}));var Nh;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Nh||(Nh={}));function Og(a,r){let{target:n,replace:l,state:o,preventScrollReset:u,relative:d,viewTransition:m}=r===void 0?{}:r,p=Ys(),g=Vn(),y=yf(a,{relative:d});return T.useCallback(b=>{if(Ng(b,n)){b.preventDefault();let v=l!==void 0?l:va(g)===va(y);p(a,{replace:v,state:o,preventScrollReset:u,relative:d,viewTransition:m})}},[g,p,y,l,o,n,a,u,d,m])}var Fo=function(a,r){return Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o])},Fo(a,r)};function bf(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Fo(a,r);function n(){this.constructor=a}a.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var wa=function(){return wa=Object.assign||function(r){for(var n,l=1,o=arguments.length;l<o;l++){n=arguments[l];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},wa.apply(this,arguments)};function qn(a,r){var n={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&r.indexOf(l)<0&&(n[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(a);o<l.length;o++)r.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(n[l[o]]=a[l[o]]);return n}function jf(a,r,n,l){var o=arguments.length,u=o<3?r:l===null?l=Object.getOwnPropertyDescriptor(r,n):l,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,n,l);else for(var m=a.length-1;m>=0;m--)(d=a[m])&&(u=(o<3?d(u):o>3?d(r,n,u):d(r,n))||u);return o>3&&u&&Object.defineProperty(r,n,u),u}function _f(a,r){return function(n,l){r(n,l,a)}}function Nf(a,r,n,l,o,u){function d($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var m=l.kind,p=m==="getter"?"get":m==="setter"?"set":"value",g=!r&&a?l.static?a:a.prototype:null,y=r||(g?Object.getOwnPropertyDescriptor(g,l.name):{}),b,v=!1,j=n.length-1;j>=0;j--){var _={};for(var w in l)_[w]=w==="access"?{}:l[w];for(var w in l.access)_.access[w]=l.access[w];_.addInitializer=function($){if(v)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d($||null))};var N=(0,n[j])(m==="accessor"?{get:y.get,set:y.set}:y[p],_);if(m==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(b=d(N.get))&&(y.get=b),(b=d(N.set))&&(y.set=b),(b=d(N.init))&&o.unshift(b)}else(b=d(N))&&(m==="field"?o.unshift(b):y[p]=b)}g&&Object.defineProperty(g,l.name,y),v=!0}function kf(a,r,n){for(var l=arguments.length>2,o=0;o<r.length;o++)n=l?r[o].call(a,n):r[o].call(a);return l?n:void 0}function Sf(a){return typeof a=="symbol"?a:"".concat(a)}function Ef(a,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function Cf(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)}function Y(a,r,n,l){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function m(y){try{g(l.next(y))}catch(b){d(b)}}function p(y){try{g(l.throw(y))}catch(b){d(b)}}function g(y){y.done?u(y.value):o(y.value).then(m,p)}g((l=l.apply(a,r||[])).next())})}function Tf(a,r){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,o,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return p([g,y])}}function p(g){if(l)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(n=0)),n;)try{if(l=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=r.call(a,n)}catch(y){g=[6,y],o=0}finally{l=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Pa=Object.create?(function(a,r,n,l){l===void 0&&(l=n);var o=Object.getOwnPropertyDescriptor(r,n);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(a,l,o)}):(function(a,r,n,l){l===void 0&&(l=n),a[l]=r[n]});function Pf(a,r){for(var n in a)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&Pa(r,a,n)}function ba(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],l=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function cc(a,r){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var l=n.call(a),o,u=[],d;try{for(;(r===void 0||r-- >0)&&!(o=l.next()).done;)u.push(o.value)}catch(m){d={error:m}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(d)throw d.error}}return u}function Of(){for(var a=[],r=0;r<arguments.length;r++)a=a.concat(cc(arguments[r]));return a}function Rf(){for(var a=0,r=0,n=arguments.length;r<n;r++)a+=arguments[r].length;for(var l=Array(a),o=0,r=0;r<n;r++)for(var u=arguments[r],d=0,m=u.length;d<m;d++,o++)l[o]=u[d];return l}function Af(a,r,n){if(n||arguments.length===2)for(var l=0,o=r.length,u;l<o;l++)(u||!(l in r))&&(u||(u=Array.prototype.slice.call(r,0,l)),u[l]=r[l]);return a.concat(u||Array.prototype.slice.call(r))}function zn(a){return this instanceof zn?(this.v=a,this):new zn(a)}function $f(a,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=n.apply(a,r||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(j){return function(_){return Promise.resolve(_).then(j,b)}}function m(j,_){l[j]&&(o[j]=function(w){return new Promise(function(N,$){u.push([j,w,N,$])>1||p(j,w)})},_&&(o[j]=_(o[j])))}function p(j,_){try{g(l[j](_))}catch(w){v(u[0][3],w)}}function g(j){j.value instanceof zn?Promise.resolve(j.value.v).then(y,b):v(u[0][2],j)}function y(j){p("next",j)}function b(j){p("throw",j)}function v(j,_){j(_),u.shift(),u.length&&p(u[0][0],u[0][1])}}function If(a){var r,n;return r={},l("next"),l("throw",function(o){throw o}),l("return"),r[Symbol.iterator]=function(){return this},r;function l(o,u){r[o]=a[o]?function(d){return(n=!n)?{value:zn(a[o](d)),done:!1}:u?u(d):d}:u}}function Lf(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=a[Symbol.asyncIterator],n;return r?r.call(a):(a=typeof ba=="function"?ba(a):a[Symbol.iterator](),n={},l("next"),l("throw"),l("return"),n[Symbol.asyncIterator]=function(){return this},n);function l(u){n[u]=a[u]&&function(d){return new Promise(function(m,p){d=a[u](d),o(m,p,d.done,d.value)})}}function o(u,d,m,p){Promise.resolve(p).then(function(g){u({value:g,done:m})},d)}}function Uf(a,r){return Object.defineProperty?Object.defineProperty(a,"raw",{value:r}):a.raw=r,a}var Rg=Object.create?(function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}):function(a,r){a.default=r},zo=function(a){return zo=Object.getOwnPropertyNames||function(r){var n=[];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[n.length]=l);return n},zo(a)};function Df(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var n=zo(a),l=0;l<n.length;l++)n[l]!=="default"&&Pa(r,a,n[l]);return Rg(r,a),r}function Mf(a){return a&&a.__esModule?a:{default:a}}function Ff(a,r,n,l){if(n==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?a!==r||!l:!r.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?l:n==="a"?l.call(a):l?l.value:r.get(a)}function zf(a,r,n,l,o){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?a!==r||!o:!r.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?o.call(a,n):o?o.value=n:r.set(a,n),n}function Bf(a,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?r===a:a.has(r)}function Hf(a,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var l,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=r[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=r[Symbol.dispose],n&&(o=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");o&&(l=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:r,dispose:l,async:n})}else n&&a.stack.push({async:!0});return r}var Ag=typeof SuppressedError=="function"?SuppressedError:function(a,r,n){var l=new Error(n);return l.name="SuppressedError",l.error=a,l.suppressed=r,l};function Wf(a){function r(u){a.error=a.hasError?new Ag(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var n,l=0;function o(){for(;n=a.stack.pop();)try{if(!n.async&&l===1)return l=0,a.stack.push(n),Promise.resolve().then(o);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return l|=2,Promise.resolve(u).then(o,function(d){return r(d),o()})}else l|=1}catch(d){r(d)}if(l===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return o()}function Vf(a,r){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,l,o,u,d){return l?r?".jsx":".js":o&&(!u||!d)?n:o+u+"."+d.toLowerCase()+"js"}):a}const $g={__extends:bf,__assign:wa,__rest:qn,__decorate:jf,__param:_f,__esDecorate:Nf,__runInitializers:kf,__propKey:Sf,__setFunctionName:Ef,__metadata:Cf,__awaiter:Y,__generator:Tf,__createBinding:Pa,__exportStar:Pf,__values:ba,__read:cc,__spread:Of,__spreadArrays:Rf,__spreadArray:Af,__await:zn,__asyncGenerator:$f,__asyncDelegator:If,__asyncValues:Lf,__makeTemplateObject:Uf,__importStar:Df,__importDefault:Mf,__classPrivateFieldGet:Ff,__classPrivateFieldSet:zf,__classPrivateFieldIn:Bf,__addDisposableResource:Hf,__disposeResources:Wf,__rewriteRelativeImportExtension:Vf},Ig=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Hf,get __assign(){return wa},__asyncDelegator:If,__asyncGenerator:$f,__asyncValues:Lf,__await:zn,__awaiter:Y,__classPrivateFieldGet:Ff,__classPrivateFieldIn:Bf,__classPrivateFieldSet:zf,__createBinding:Pa,__decorate:jf,__disposeResources:Wf,__esDecorate:Nf,__exportStar:Pf,__extends:bf,__generator:Tf,__importDefault:Mf,__importStar:Df,__makeTemplateObject:Uf,__metadata:Cf,__param:_f,__propKey:Sf,__read:cc,__rest:qn,__rewriteRelativeImportExtension:Vf,__runInitializers:kf,__setFunctionName:Ef,__spread:Of,__spreadArray:Af,__spreadArrays:Rf,__values:ba,default:$g},Symbol.toStringTag,{value:"Module"})),Lg="modulepreload",Ug=function(a){return"/"+a},kh={},Kn=function(r,n,l){let o=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(n.map(g=>{if(g=Ug(g),g in kh)return;kh[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":Lg,y||(v.as="script"),v.crossOrigin="",v.href=g,p&&v.setAttribute("nonce",p),document.head.appendChild(v),y)return new Promise((j,_)=>{v.addEventListener("load",j),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})},Dg=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Kn(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...n)):r=fetch,(...n)=>r(...n)};class uc extends Error{constructor(r,n="FunctionsError",l){super(r),this.name=n,this.context=l}}class Sh extends uc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Eh extends uc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Ch extends uc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Bo;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Bo||(Bo={}));class Mg{constructor(r,{headers:n={},customFetch:l,region:o=Bo.Any}={}){this.url=r,this.headers=n,this.region=o,this.fetch=Dg(l)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Y(this,arguments,void 0,function*(n,l={}){var o;try{const{headers:u,method:d,body:m,signal:p}=l;let g={},{region:y}=l;y||(y=this.region);const b=new URL(`${this.url}/${n}`);y&&y!=="any"&&(g["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let v;m&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",v=m):typeof m=="string"?(g["Content-Type"]="text/plain",v=m):typeof FormData<"u"&&m instanceof FormData?v=m:(g["Content-Type"]="application/json",v=JSON.stringify(m)):v=m;const j=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:v,signal:p}).catch($=>{throw $.name==="AbortError"?$:new Sh($)}),_=j.headers.get("x-relay-error");if(_&&_==="true")throw new Eh(j);if(!j.ok)throw new Ch(j);let w=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield j.json():w==="application/octet-stream"||w==="application/pdf"?N=yield j.blob():w==="text/event-stream"?N=j:w==="multipart/form-data"?N=yield j.formData():N=yield j.text(),{data:N,error:null,response:j}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new Sh(u)}:{data:null,error:u,response:u instanceof Ch||u instanceof Eh?u.context:void 0}}})}}var st={};const Gn=of(Ig);var ua={},da={},ha={},fa={},ma={},Fg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=Fg();const zg=Bn.fetch,qf=Bn.fetch.bind(Bn),Kf=Bn.Headers,Bg=Bn.Request,Hg=Bn.Response,tn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kf,Request:Bg,Response:Hg,default:qf,fetch:zg},Symbol.toStringTag,{value:"Module"})),Wg=of(tn);var pa={},Th;function Gf(){if(Th)return pa;Th=1,Object.defineProperty(pa,"__esModule",{value:!0});class a extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return pa.default=a,pa}var Ph;function Jf(){if(Ph)return ma;Ph=1,Object.defineProperty(ma,"__esModule",{value:!0});const a=Gn,r=a.__importDefault(Wg),n=a.__importDefault(Gf());class l{constructor(u){var d,m;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(m=u.isMaybeSingle)!==null&&m!==void 0?m:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,b,v,j;let _=null,w=null,N=null,$=g.status,E=g.statusText;if(g.ok){if(this.method!=="HEAD"){const W=await g.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?w=W:w=JSON.parse(W))}const I=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),F=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");I&&F&&F.length>1&&(N=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(_={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,N=null,$=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const I=await g.text();try{_=JSON.parse(I),Array.isArray(_)&&g.status===404&&(w=[],_=null,$=200,E="OK")}catch{g.status===404&&I===""?($=204,E="No Content"):_={message:I}}if(_&&this.isMaybeSingle&&(!((j=_==null?void 0:_.details)===null||j===void 0)&&j.includes("0 rows"))&&(_=null,$=200,E="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:w,count:N,status:$,statusText:E}});return this.shouldThrowOnError||(p=p.catch(g=>{var y,b,v;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(b=g==null?void 0:g.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(v=g==null?void 0:g.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,d)}returns(){return this}overrideTypes(){return this}}return ma.default=l,ma}var Oh;function Qf(){if(Oh)return fa;Oh=1,Object.defineProperty(fa,"__esModule",{value:!0});const r=Gn.__importDefault(Jf());class n extends r.default{select(o){let u=!1;const d=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:m=d}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var y;const b=[o?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${v}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return fa.default=n,fa}var Rh;function dc(){if(Rh)return ha;Rh=1,Object.defineProperty(ha,"__esModule",{value:!0});const r=Gn.__importDefault(Qf()),n=new RegExp("[,()]");class l extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const m=Array.from(new Set(d)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:m,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${g}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(u,d,m){return this.url.searchParams.append(u,`not.${d}.${m}`),this}or(u,{foreignTable:d,referencedTable:m=d}={}){const p=m?`${m}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,d,m){return this.url.searchParams.append(u,`${d}.${m}`),this}}return ha.default=l,ha}var Ah;function Yf(){if(Ah)return da;Ah=1,Object.defineProperty(da,"__esModule",{value:!0});const r=Gn.__importDefault(dc());class n{constructor(o,{headers:u={},schema:d,fetch:m}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=m}select(o,u){const{head:d=!1,count:m}=u??{},p=d?"HEAD":"GET";let g=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var m;const p="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(g.length>0){const y=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:p=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((v,j)=>v.concat(Object.keys(j)),[]);if(b.length>0){const v=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:u}={}){var d;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return da.default=n,da}var $h;function Vg(){if($h)return ua;$h=1,Object.defineProperty(ua,"__esModule",{value:!0});const a=Gn,r=a.__importDefault(Yf()),n=a.__importDefault(dc());class l{constructor(u,{headers:d={},schema:m,fetch:p}={}){this.url=u,this.headers=new Headers(d),this.schemaName=m,this.fetch=p}from(u){const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new l(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:m=!1,get:p=!1,count:g}={}){var y;let b;const v=new URL(`${this.url}/rpc/${u}`);let j;m||p?(b=m?"HEAD":"GET",Object.entries(d).filter(([w,N])=>N!==void 0).map(([w,N])=>[w,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([w,N])=>{v.searchParams.append(w,N)})):(b="POST",j=d);const _=new Headers(this.headers);return g&&_.set("Prefer",`count=${g}`),new n.default({method:b,url:v,headers:_,schema:this.schemaName,body:j,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return ua.default=l,ua}var Ih;function qg(){if(Ih)return st;Ih=1,Object.defineProperty(st,"__esModule",{value:!0}),st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const a=Gn,r=a.__importDefault(Vg());st.PostgrestClient=r.default;const n=a.__importDefault(Yf());st.PostgrestQueryBuilder=n.default;const l=a.__importDefault(dc());st.PostgrestFilterBuilder=l.default;const o=a.__importDefault(Qf());st.PostgrestTransformBuilder=o.default;const u=a.__importDefault(Jf());st.PostgrestBuilder=u.default;const d=a.__importDefault(Gf());return st.PostgrestError=d.default,st.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},st}var Xf=qg();const Zf=lf(Xf),Kg=af({__proto__:null,default:Zf},[Xf]),{PostgrestClient:Gg,PostgrestQueryBuilder:ww,PostgrestFilterBuilder:bw,PostgrestTransformBuilder:jw,PostgrestBuilder:_w,PostgrestError:Nw}=Zf||Kg;class Jg{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const l=n.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const l=this.getWebSocketConstructor();return new l(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Qg="2.77.0",Yg=`realtime-js/${Qg}`,Xg="1.0.0",Ho=1e4,Zg=1e3,ey=100;var Hs;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Hs||(Hs={}));var We;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(We||(We={}));var Mt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Mt||(Mt={}));var Wo;(function(a){a.websocket="websocket"})(Wo||(Wo={}));var Xr;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Xr||(Xr={}));class ty{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),l=new TextDecoder;return this._decodeBroadcast(r,n,l)}_decodeBroadcast(r,n,l){const o=n.getUint8(1),u=n.getUint8(2);let d=this.HEADER_LENGTH+2;const m=l.decode(r.slice(d,d+o));d=d+o;const p=l.decode(r.slice(d,d+u));d=d+u;const g=JSON.parse(l.decode(r.slice(d,r.byteLength)));return{ref:null,topic:m,event:p,payload:g}}}class em{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(ke||(ke={}));const Lh=(a,r,n={})=>{var l;const o=(l=n.skipTypes)!==null&&l!==void 0?l:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=ry(d,a,r,o),u),{}):{}},ry=(a,r,n,l)=>{const o=r.find(m=>m.name===a),u=o==null?void 0:o.type,d=n[a];return u&&!l.includes(u)?tm(u,d):Vo(d)},tm=(a,r)=>{if(a.charAt(0)==="_"){const n=a.slice(1,a.length);return ay(r,n)}switch(a){case ke.bool:return ny(r);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return sy(r);case ke.json:case ke.jsonb:return iy(r);case ke.timestamp:return ly(r);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Vo(r);default:return Vo(r)}},Vo=a=>a,ny=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},sy=a=>{if(typeof a=="string"){const r=parseFloat(a);if(!Number.isNaN(r))return r}return a},iy=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(r){return console.log(`JSON parse error: ${r}`),a}return a},ay=(a,r)=>{if(typeof a!="string")return a;const n=a.length-1,l=a[n];if(a[0]==="{"&&l==="}"){let u;const d=a.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>tm(r,m))}return a},ly=a=>typeof a=="string"?a.replace(" ","T"):a,rm=a=>{const r=new URL(a);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Co{constructor(r,n,l={},o=Ho){this.channel=r,this.event=n,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var l;return this._hasReceived(r)&&n((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(l=>l.status===r).forEach(l=>l.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Uh;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Uh||(Uh={}));class Ws{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ws.syncState(this.state,o,u,d),this.pendingDiffs.forEach(p=>{this.state=Ws.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ws.syncDiff(this.state,o,u,d),m())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,l,o){const u=this.cloneDeep(r),d=this.transformState(n),m={},p={};return this.map(u,(g,y)=>{d[g]||(p[g]=y)}),this.map(d,(g,y)=>{const b=u[g];if(b){const v=y.map(N=>N.presence_ref),j=b.map(N=>N.presence_ref),_=y.filter(N=>j.indexOf(N.presence_ref)<0),w=b.filter(N=>v.indexOf(N.presence_ref)<0);_.length>0&&(m[g]=_),w.length>0&&(p[g]=w)}else m[g]=y}),this.syncDiff(u,{joins:m,leaves:p},l,o)}static syncDiff(r,n,l,o){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(m,p)=>{var g;const y=(g=r[m])!==null&&g!==void 0?g:[];if(r[m]=this.cloneDeep(p),y.length>0){const b=r[m].map(j=>j.presence_ref),v=y.filter(j=>b.indexOf(j.presence_ref)<0);r[m].unshift(...v)}l(m,y,p)}),this.map(d,(m,p)=>{let g=r[m];if(!g)return;const y=p.map(b=>b.presence_ref);g=g.filter(b=>y.indexOf(b.presence_ref)<0),r[m]=g,o(m,g,p),g.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(l=>n(l,r[l]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,l)=>{const o=r[l];return"metas"in o?n[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[l]=o,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dh;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Dh||(Dh={}));var Vs;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Vs||(Vs={}));var tr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(tr||(tr={}));class hc{constructor(r,n={config:{}},l){var o,u;if(this.topic=r,this.params=n,this.socket=l,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Co(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new em(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Ws(this),this.broadcastEndpointURL=rm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var l,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:d,presence:m,private:p}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Vs.PRESENCE]&&this.bindings[Vs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},v={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>r==null?void 0:r(tr.CHANNEL_ERROR,j)),this._onClose(()=>r==null?void 0:r(tr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var _;if(this.socket.setAuth(),j===void 0){r==null||r(tr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,N=(_=w==null?void 0:w.length)!==null&&_!==void 0?_:0,$=[];for(let E=0;E<N;E++){const R=w[E],{filter:{event:I,schema:F,table:W,filter:Z}}=R,se=j&&j[E];if(se&&se.event===I&&se.schema===F&&se.table===W&&se.filter===Z)$.push(Object.assign(Object.assign({},R),{id:se.id}));else{this.unsubscribe(),this.state=We.errored,r==null||r(tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,r&&r(tr.SUBSCRIBED);return}}).receive("error",j=>{this.state=We.errored,r==null||r(tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,l){return this.state===We.joined&&r===Vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,l)}async httpSend(r,n,l={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(r,n={}){var l,o;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=n.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,p;const g=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=We.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new Co(this,Mt.leave,{},r),l.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(r,n,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),d=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),d}_push(r,n,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Co(this,r,n,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>ey){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,l){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,l){var o,u;const d=r.toLocaleLowerCase(),{close:m,error:p,leave:g,join:y}=Mt;if(l&&[m,p,g,y].indexOf(d)>=0&&l!==this._joinRef())return;let v=this._onMessage(d,n,l);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(j=>{var _,w,N;return((_=j.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(w=j.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(j=>j.callback(v,l)):(u=this.bindings[d])===null||u===void 0||u.filter(j=>{var _,w,N,$,E,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const I=j.id,F=(_=j.filter)===null||_===void 0?void 0:_.event;return I&&((w=n.ids)===null||w===void 0?void 0:w.includes(I))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const I=(E=($=j==null?void 0:j.filter)===null||$===void 0?void 0:$.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return I==="*"||I===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:w,table:N,commit_timestamp:$,type:E,errors:R}=_;v=Object.assign(Object.assign({},{schema:w,table:N,commit_timestamp:$,eventType:E,new:{},old:{},errors:R}),this._getPayloadRecords(_))}j.callback(v,l)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,l){const o=r.toLocaleLowerCase(),u={type:o,filter:n,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(r,n){const l=r.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&hc.isEqual(o.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const l in r)if(r[l]!==n[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Mt.close,{},r)}_onError(r){this._on(Mt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Lh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Lh(r.columns,r.old_record)),n}}const To=()=>{},ga={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oy=[1e3,2e3,5e3,1e4],cy=1e4,uy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dy{constructor(r,n){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ho,this.transport=null,this.heartbeatIntervalMs=ga.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=To,this.ref=0,this.reconnectTimer=null,this.logger=To,this.conn=null,this.sendBuffer=[],this.serializer=new ty,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...d)=>Kn(async()=>{const{default:m}=await Promise.resolve().then(()=>tn);return{default:m}},void 0).then(({default:m})=>m(...d)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((l=n==null?void 0:n.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Wo.websocket}`,this.httpEndpoint=rm(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xg}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,l){this.logger(r,n,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Hs.connecting:return Xr.Connecting;case Hs.open:return Xr.Open;case Hs.closing:return Xr.Closing;default:return Xr.Closed}}isConnected(){return this.connectionState()===Xr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const l=`realtime:${r}`,o=this.getChannels().find(u=>u.topic===l);if(o)return o;{const u=new hc(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:l,payload:o,ref:u}=r,d=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${n} ${l} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Zg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ga.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(l=>l.topic===r&&(l._isJoined()||l._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:o,payload:u,ref:d}=n,m=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${l} ${o} ${m}`.trim(),u),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Mt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const l=r.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${r}${l}${o}`}_workerObjectUrl(r){let n;if(r)n=r;else{const l=new Blob([uy],{type:"application/javascript"});n=URL.createObjectURL(l)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const o={access_token:n,version:Yg};n&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(Mt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(l=>{try{l(n)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(l){this.log("error",`error triggering ${r} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new em(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ga.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,l,o,u,d,m,p,g,y;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(l=r==null?void 0:r.timeout)!==null&&l!==void 0?l:Ho,this.heartbeatIntervalMs=(o=r==null?void 0:r.heartbeatIntervalMs)!==null&&o!==void 0?o:ga.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=r==null?void 0:r.heartbeatCallback)!==null&&m!==void 0?m:To,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r==null?void 0:r.reconnectAfterMs)!==null&&p!==void 0?p:(b=>oy[b-1]||cy),this.encode=(g=r==null?void 0:r.encode)!==null&&g!==void 0?g:((b,v)=>v(JSON.stringify(b))),this.decode=(y=r==null?void 0:r.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class fc extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function $e(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class hy extends fc{constructor(r,n,l){super(r),this.name="StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qo extends fc{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const mc=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Kn(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...n)):r=fetch,(...n)=>r(...n)},fy=()=>Y(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kn(()=>Promise.resolve().then(()=>tn),void 0)).Response:Response}),Ko=a=>{if(Array.isArray(a))return a.map(n=>Ko(n));if(typeof a=="function"||a!==Object(a))return a;const r={};return Object.entries(a).forEach(([n,l])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[o]=Ko(l)}),r},my=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Po=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),py=(a,r,n)=>Y(void 0,void 0,void 0,function*(){const l=yield fy();a instanceof l&&!(n!=null&&n.noResolveJson)?a.json().then(o=>{const u=a.status||500,d=(o==null?void 0:o.statusCode)||u+"";r(new hy(Po(o),u,d))}).catch(o=>{r(new qo(Po(o),o))}):r(new qo(Po(a),a))}),gy=(a,r,n,l)=>{const o={method:a,headers:(r==null?void 0:r.headers)||{}};return a==="GET"||!l?o:(my(l)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(l)):o.body=l,r!=null&&r.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),n))};function Xs(a,r,n,l,o,u){return Y(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(n,gy(r,l,o,u)).then(p=>{if(!p.ok)throw p;return l!=null&&l.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>py(p,m,l))})})}function Gs(a,r,n,l){return Y(this,void 0,void 0,function*(){return Xs(a,"GET",r,n,l)})}function Dt(a,r,n,l,o){return Y(this,void 0,void 0,function*(){return Xs(a,"POST",r,l,o,n)})}function Go(a,r,n,l,o){return Y(this,void 0,void 0,function*(){return Xs(a,"PUT",r,l,o,n)})}function yy(a,r,n,l){return Y(this,void 0,void 0,function*(){return Xs(a,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),l)})}function pc(a,r,n,l,o){return Y(this,void 0,void 0,function*(){return Xs(a,"DELETE",r,l,o,n)})}class xy{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return Y(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}var nm;class vy{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[nm]="BlobDownloadBuilder",this.promise=null}asStream(){return new xy(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Y(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}nm=Symbol.toStringTag;const wy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class by{constructor(r,n={},l,o){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=l,this.fetch=mc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,l,o){return Y(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Mh),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=l,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),b=yield(r=="PUT"?Go:Dt)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}})}upload(r,n,l){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,l)})}uploadToSignedUrl(r,n,l,o){return Y(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:Mh.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",g.cacheControl)):(p=l,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const b=yield Go(this.fetch,m.toString(),p,{headers:y});return{data:{path:u,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if($e(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return Y(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=yield Dt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new fc("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}update(r,n,l){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,l)})}move(r,n,l){return Y(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}copy(r,n,l){return Y(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}createSignedUrl(r,n,l){return Y(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),u=yield Dt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const d=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}createSignedUrls(r,n,l){return Y(this,void 0,void 0,function*(){try{const o=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}download(r,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=u?`?${u}`:"",m=this._getFinalPath(r),p=()=>Gs(this.fetch,`${this.url}/${o}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new vy(p,this.shouldThrowOnError)}info(r){return Y(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const l=yield Gs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ko(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}exists(r){return Y(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield yy(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l)&&l instanceof qo){const o=l.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:l}}throw l}})}getPublicUrl(r,n){const l=this._getFinalPath(r),o=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${g}`)}}}remove(r){return Y(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}list(r,n,l){return Y(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},wy),n),{prefix:r||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}listV2(r,n){return Y(this,void 0,void 0,function*(){try{const l=Object.assign({},r);return{data:yield Dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},n),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const sm="2.77.0",im={"X-Client-Info":`storage-js/${sm}`};class jy{constructor(r,n={},l,o){this.shouldThrowOnError=!1;const u=new URL(r);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},im),n),this.fetch=mc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return Y(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield Gs(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}getBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}createBucket(r){return Y(this,arguments,void 0,function*(n,l={public:!1}){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}updateBucket(r,n){return Y(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}emptyBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class _y{constructor(r,n={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},im),n),this.fetch=mc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}listBuckets(r){return Y(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const l=n.toString(),o=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Gs(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}}const gc={"X-Client-Info":`storage-js/${sm}`,"Content-Type":"application/json"};class am extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Oo extends am{constructor(r,n,l){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ny extends am{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var Fh;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fh||(Fh={}));const yc=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Kn(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...n)):r=fetch,(...n)=>r(...n)},ky=a=>{if(typeof a!="object"||a===null)return!1;const r=Object.getPrototypeOf(a);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},zh=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Sy=(a,r,n)=>Y(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(n!=null&&n.noResolveJson)){const o=a.status||500,u=a;if(typeof u.json=="function")u.json().then(d=>{const m=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||o+"";r(new Oo(zh(d),o,m))}).catch(()=>{const d=o+"",m=u.statusText||`HTTP ${o} error`;r(new Oo(m,o,d))});else{const d=o+"",m=u.statusText||`HTTP ${o} error`;r(new Oo(m,o,d))}}else r(new Ny(zh(a),a))}),Ey=(a,r,n,l)=>{const o={method:a,headers:(r==null?void 0:r.headers)||{}};return l?(ky(l)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(l)):o.body=l,Object.assign(Object.assign({},o),n)):o};function Cy(a,r,n,l,o,u){return Y(this,void 0,void 0,function*(){return new Promise((d,m)=>{a(n,Ey(r,l,o,u)).then(p=>{if(!p.ok)throw p;if(l!=null&&l.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>Sy(p,m,l))})})}function bt(a,r,n,l,o){return Y(this,void 0,void 0,function*(){return Cy(a,"POST",r,l,o,n)})}class Ty{constructor(r,n={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gc),n),this.fetch=yc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return Y(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}getIndex(r,n){return Y(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(wt(l))return{data:null,error:l};throw l}})}listIndexes(r){return Y(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return Y(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(wt(l))return{data:null,error:l};throw l}})}}class Py{constructor(r,n={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gc),n),this.fetch=yc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return Y(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield bt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}getVectors(r){return Y(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}listVectors(r){return Y(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield bt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}queryVectors(r){return Y(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteVectors(r){return Y(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield bt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}}class Oy{constructor(r,n={},l){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gc),n),this.fetch=yc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}getBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}listBuckets(){return Y(this,arguments,void 0,function*(r={}){try{return{data:yield bt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:(yield bt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}}class Ry extends Oy{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Ay(this.url,this.headers,r,this.fetch)}}class Ay extends Ty{constructor(r,n,l,o){super(r,n,o),this.vectorBucketName=l}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Y(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Y(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Y(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Y(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new $y(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class $y extends Py{constructor(r,n,l,o,u){super(r,n,u),this.vectorBucketName=l,this.indexName=o}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Y(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Y(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Y(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Y(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Y(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Iy extends jy{constructor(r,n={},l,o){super(r,n,l,o)}from(r){return new by(this.url,this.headers,r,this.fetch)}get vectors(){return new Ry(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _y(this.url+"/iceberg",this.headers,this.fetch)}}const Ly="2.77.0";let Bs="";typeof Deno<"u"?Bs="deno":typeof document<"u"?Bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bs="react-native":Bs="node";const Uy={"X-Client-Info":`supabase-js-${Bs}/${Ly}`},Dy={headers:Uy},My={schema:"public"},Fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zy={},By=a=>{let r;return a?r=a:typeof fetch>"u"?r=qf:r=fetch,(...n)=>r(...n)},Hy=()=>typeof Headers>"u"?Kf:Headers,Wy=(a,r,n)=>{const l=By(n),o=Hy();return async(u,d)=>{var m;const p=(m=await r())!==null&&m!==void 0?m:a;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",a),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),l(u,Object.assign(Object.assign({},d),{headers:g}))}};function Vy(a){return a.endsWith("/")?a:a+"/"}function qy(a,r){var n,l;const{db:o,auth:u,realtime:d,global:m}=a,{db:p,auth:g,realtime:y,global:b}=r,v={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(l=m==null?void 0:m.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return a.accessToken?v.accessToken=a.accessToken:delete v.accessToken,v}function Ky(a){const r=a==null?void 0:a.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Vy(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lm="2.77.0",Un=30*1e3,Jo=3,Ro=Jo*Un,Gy="http://localhost:9999",Jy="supabase.auth.token",Qy={"X-Client-Info":`gotrue-js/${lm}`},Qo="X-Supabase-Api-Version",om={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xy=600*1e3;class Js extends Error{constructor(r,n,l){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=l}}function ne(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Zy extends Js{constructor(r,n,l){super(r,n,l),this.name="AuthApiError",this.status=n,this.code=l}}function ex(a){return ne(a)&&a.name==="AuthApiError"}class Zr extends Js{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Rr extends Js{constructor(r,n,l,o){super(r,l,o),this.name=n,this.status=l}}class Er extends Rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tx(a){return ne(a)&&a.name==="AuthSessionMissingError"}class Rn extends Rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ya extends Rr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class xa extends Rr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rx(a){return ne(a)&&a.name==="AuthImplicitGrantRedirectError"}class Bh extends Rr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yo extends Rr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Ao(a){return ne(a)&&a.name==="AuthRetryableFetchError"}class Hh extends Rr{constructor(r,n,l){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=l}}class Xo extends Rr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ja="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wh=` 	
\r=`.split(""),nx=(()=>{const a=new Array(128);for(let r=0;r<a.length;r+=1)a[r]=-1;for(let r=0;r<Wh.length;r+=1)a[Wh[r].charCodeAt(0)]=-2;for(let r=0;r<ja.length;r+=1)a[ja[r].charCodeAt(0)]=r;return a})();function Vh(a,r,n){if(a!==null)for(r.queue=r.queue<<8|a,r.queuedBits+=8;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;n(ja[l]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const l=r.queue>>r.queuedBits-6&63;n(ja[l]),r.queuedBits-=6}}function cm(a,r,n){const l=nx[a];if(l>-1)for(r.queue=r.queue<<6|l,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function qh(a){const r=[],n=d=>{r.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{ax(d,l,n)};for(let d=0;d<a.length;d+=1)cm(a.charCodeAt(d),o,u);return r.join("")}function sx(a,r){if(a<=127){r(a);return}else if(a<=2047){r(192|a>>6),r(128|a&63);return}else if(a<=65535){r(224|a>>12),r(128|a>>6&63),r(128|a&63);return}else if(a<=1114111){r(240|a>>18),r(128|a>>12&63),r(128|a>>6&63),r(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function ix(a,r){for(let n=0;n<a.length;n+=1){let l=a.charCodeAt(n);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(a.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}sx(l,r)}}function ax(a,r,n){if(r.utf8seq===0){if(a<=127){n(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){r.utf8seq=l;break}if(r.utf8seq===2)r.codepoint=a&31;else if(r.utf8seq===3)r.codepoint=a&15;else if(r.utf8seq===4)r.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|a&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Mn(a){const r=[],n={queue:0,queuedBits:0},l=o=>{r.push(o)};for(let o=0;o<a.length;o+=1)cm(a.charCodeAt(o),n,l);return new Uint8Array(r)}function lx(a){const r=[];return ix(a,n=>r.push(n)),new Uint8Array(r)}function en(a){const r=[],n={queue:0,queuedBits:0},l=o=>{r.push(o)};return a.forEach(o=>Vh(o,n,l)),Vh(null,n,l),r.join("")}function ox(a){return Math.round(Date.now()/1e3)+a}function cx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const r=Math.random()*16|0;return(a=="x"?r:r&3|8).toString(16)})}const vt=()=>typeof window<"u"&&typeof document<"u",Jr={tested:!1,writable:!1},um=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jr.tested)return Jr.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Jr.tested=!0,Jr.writable=!0}catch{Jr.tested=!0,Jr.writable=!1}return Jr.writable};function ux(a){const r={},n=new URL(a);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{r[u]=o})}catch{}return n.searchParams.forEach((l,o)=>{r[o]=l}),r}const dm=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...n)=>Kn(async()=>{const{default:l}=await Promise.resolve().then(()=>tn);return{default:l}},void 0).then(({default:l})=>l(...n)):r=fetch,(...n)=>r(...n)},dx=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Dn=async(a,r,n)=>{await a.setItem(r,JSON.stringify(n))},Qr=async(a,r)=>{const n=await a.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sr=async(a,r)=>{await a.removeItem(r)};class Oa{constructor(){this.promise=new Oa.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}Oa.promiseConstructor=Promise;function $o(a){const r=a.split(".");if(r.length!==3)throw new Xo("Invalid JWT structure");for(let l=0;l<r.length;l++)if(!Yy.test(r[l]))throw new Xo("JWT not in base64url format");return{header:JSON.parse(qh(r[0])),payload:JSON.parse(qh(r[1])),signature:Mn(r[2]),raw:{header:r[0],payload:r[1]}}}async function hx(a){return await new Promise(r=>{setTimeout(()=>r(null),a)})}function fx(a,r){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await a(u);if(!r(u,null,d)){l(d);return}}catch(d){if(!r(u,d)){o(d);return}}})()})}function mx(a){return("0"+a.toString(16)).substr(-2)}function px(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(r),Array.from(r,mx).join("")}async function gx(a){const n=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function yx(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const n=await gx(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function An(a,r,n=!1){const l=px();let o=l;n&&(o+="/PASSWORD_RECOVERY"),await Dn(a,`${r}-code-verifier`,o);const u=await yx(l);return[u,l===u?"plain":"s256"]}const xx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vx(a){const r=a.headers.get(Qo);if(!r||!r.match(xx))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function wx(a){if(!a)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(a<=r)throw new Error("JWT has expired")}function bx(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $n(a){if(!jx.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Io(){const a={};return new Proxy(a,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kh(a){return JSON.parse(JSON.stringify(a))}const Yr=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),_x=[502,503,504];async function Gh(a){var r;if(!dx(a))throw new Yo(Yr(a),0);if(_x.includes(a.status))throw new Yo(Yr(a),a.status);let n;try{n=await a.json()}catch(u){throw new Zr(Yr(u),u)}let l;const o=vx(a);if(o&&o.getTime()>=om["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?l=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(l=n.error_code),l){if(l==="weak_password")throw new Hh(Yr(n),a.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(l==="session_not_found")throw new Er}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Hh(Yr(n),a.status,n.weak_password.reasons);throw new Zy(Yr(n),a.status||500,l)}const Nx=(a,r,n,l)=>{const o={method:a,headers:(r==null?void 0:r.headers)||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),n))};async function ae(a,r,n,l){var o;const u=Object.assign({},l==null?void 0:l.headers);u[Qo]||(u[Qo]=om["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const d=(o=l==null?void 0:l.query)!==null&&o!==void 0?o:{};l!=null&&l.redirectTo&&(d.redirect_to=l.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await kx(a,r,n+m,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(p):{data:Object.assign({},p),error:null}}async function kx(a,r,n,l,o,u){const d=Nx(r,l,o,u);let m;try{m=await a(n,Object.assign({},d))}catch(p){throw console.error(p),new Yo(Yr(p),0)}if(m.ok||await Gh(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(p){await Gh(p)}}function Ut(a){var r;let n=null;Cx(a)&&(n=Object.assign({},a),a.expires_at||(n.expires_at=ox(a.expires_in)));const l=(r=a.user)!==null&&r!==void 0?r:a;return{data:{session:n,user:l},error:null}}function Jh(a){const r=Ut(a);return!r.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0)&&(r.data.weak_password=a.weak_password),r}function Cr(a){var r;return{data:{user:(r=a.user)!==null&&r!==void 0?r:a},error:null}}function Sx(a){return{data:a,error:null}}function Ex(a){const{action_link:r,email_otp:n,hashed_token:l,redirect_to:o,verification_type:u}=a,d=qn(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:l,redirect_to:o,verification_type:u},p=Object.assign({},d);return{data:{properties:m,user:p},error:null}}function Qh(a){return a}function Cx(a){return a.access_token&&a.refresh_token&&a.expires_in}const Lo=["global","local","others"];class Tx{constructor({url:r="",headers:n={},fetch:l}){this.url=r,this.headers=n,this.fetch=dm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Lo[0]){if(Lo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lo.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(r,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Cr})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(r){try{const{options:n}=r,l=qn(r,["options"]),o=Object.assign(Object.assign({},l),n);return"newEmail"in l&&(o.new_email=l==null?void 0:l.newEmail,delete o.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Ex,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Cr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,l,o,u,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Qh});if(y.error)throw y.error;const b=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);g[`${N}Page`]=w}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ne(g))return{data:{users:[]},error:g};throw g}}async getUserById(r){$n(r);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Cr})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){$n(r);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Cr})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(r,n=!1){$n(r);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Cr})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(r){$n(r.userId);try{const{data:n,error:l}=await ae(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:l}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteFactor(r){$n(r.userId),$n(r.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,l,o,u,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},y=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Qh});if(y.error)throw y.error;const b=await y.json(),v=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(_=>{const w=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);g[`${N}Page`]=w}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(ne(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(r){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(r){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}}function Yh(a={}){return{getItem:r=>a[r]||null,setItem:(r,n)=>{a[r]=n},removeItem:r=>{delete a[r]}}}const In={debug:!!(globalThis&&um()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hm extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Px extends hm{}async function Ox(a,r,n){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,r);const l=new globalThis.AbortController;return r>0&&setTimeout(()=>{l.abort(),In.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await n()}finally{In.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(r===0)throw In.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new Px(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(In.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Rx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fm(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Ax(a){return parseInt(a,16)}function $x(a){const r=new TextEncoder().encode(a);return"0x"+Array.from(r,l=>l.toString(16).padStart(2,"0")).join("")}function Ix(a){var r;const{chainId:n,domain:l,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:m,requestId:p,resources:g,scheme:y,uri:b,version:v}=a;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((r=a.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const j=fm(a.address),_=y?`${y}://${l}`:l,w=a.statement?`${a.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${j}

${w}`;let $=`URI: ${b}
Version: ${v}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&($+=`
Expiration Time: ${o.toISOString()}`),m&&($+=`
Not Before: ${m.toISOString()}`),p&&($+=`
Request ID: ${p}`),g){let E=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);E+=`
- ${R}`}$+=E}return`${N}
${$}`}class ze extends Error{constructor({message:r,code:n,cause:l,name:o}){var u;super(r,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=o??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class _a extends ze{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Lx({error:a,options:r}){var n,l,o;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(r.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ze({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const d=window.location.hostname;if(mm(d)){if(u.rp.id!==d)return new ze({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Ux({error:a,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(r.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ze({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(mm(l)){if(n.rpId!==l)return new ze({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Dx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Mx=new Dx;function Fx(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:r,user:n,excludeCredentials:l}=a,o=qn(a,["challenge","user","excludeCredentials"]),u=Mn(r).buffer,d=Object.assign(Object.assign({},n),{id:Mn(n.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:u,user:d});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let p=0;p<l.length;p++){const g=l[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Mn(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function zx(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:r,allowCredentials:n}=a,l=qn(a,["challenge","allowCredentials"]),o=Mn(r).buffer,u=Object.assign(Object.assign({},l),{challenge:o});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const m=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},m),{id:Mn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function Bx(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a;return{id:a.id,rawId:a.id,response:{attestationObject:en(new Uint8Array(a.response.attestationObject)),clientDataJSON:en(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Hx(a){var r;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const n=a,l=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:en(new Uint8Array(o.authenticatorData)),clientDataJSON:en(new Uint8Array(o.clientDataJSON)),signature:en(new Uint8Array(o.signature)),userHandle:o.userHandle?en(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function mm(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function Xh(){var a,r;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Wx(a){try{const r=await navigator.credentials.create(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",r)}:{data:null,error:new _a("Empty credential response",r)}}catch(r){return{data:null,error:Lx({error:r,options:a})}}}async function Vx(a){try{const r=await navigator.credentials.get(a);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",r)}:{data:null,error:new _a("Empty credential response",r)}}catch(r){return{data:null,error:Ux({error:r,options:a})}}}const qx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Kx={userVerification:"preferred",hints:["security-key"]};function Na(...a){const r=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of a)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))l[u]=d;else if(n(d))l[u]=d;else if(r(d)){const m=l[u];r(m)?l[u]=Na(m,d):l[u]=Na(d)}else l[u]=d}return l}function Gx(a,r){return Na(qx,a,r||{})}function Jx(a,r){return Na(Kx,a,r||{})}class Qx{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:l,signal:o},u){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!d)return{data:null,error:m};const p=o??Mx.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Gx(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:b}=await Wx({publicKey:g,signal:p});return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const g=Jx(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:b}=await Vx(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(d){return ne(d)?{data:null,error:d}:{data:null,error:new Zr("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:n,webauthn:l}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:l})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}},u){if(!n)return{data:null,error:new Js("rpId is required for WebAuthn authentication")};try{if(!Xh())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:l},signal:o},{request:u});if(!d)return{data:null,error:m};const{webauthn:p}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:l,credential_response:p.credential_response}})}catch(d){return ne(d)?{data:null,error:d}:{data:null,error:new Zr("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o},u){if(!n)return{data:null,error:new Js("rpId is required for WebAuthn registration")};try{if(!Xh())return{data:null,error:new Zr("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===r&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:l},signal:o},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:l,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return ne(d)?{data:null,error:d}:{data:null,error:new Zr("Unexpected error in register",d)}}}}Rx();const Yx={url:Gy,storageKey:Jy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zh(a,r,n){return await n()}const Ln={};class Qs{get jwks(){var r,n;return(n=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=Ln[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:r})}constructor(r){var n,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qs.nextInstanceID,Qs.nextInstanceID+=1,this.instanceID>0&&vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Yx),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Tx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=dm(o.fetch),this.lock=o.lock||Zh,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:vt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ox:this.lock=Zh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qx(this)},this.persistSession?(o.storage?this.storage=o.storage:um()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yh(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Yh(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lm}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=ux(window.location.href);let l="none";if(this._isImplicitGrantCallback(n)?l="implicit":await this._isPKCECallback(n)&&(l="pkce"),vt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),rx(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ne(n)?{error:n}:{error:new Zr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,l,o;try{const u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ut}),{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ne(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,l,o;try{let u;if("email"in r){const{email:y,password:b,options:v}=r;let j=null,_=null;this.flowType==="pkce"&&([j,_]=await An(this.storage,this.storageKey)),u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:y,password:b,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:j,code_challenge_method:_},xform:Ut})}else if("phone"in r){const{phone:y,password:b,options:v}=r;u=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ut})}else throw new ya("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return{data:{user:null,session:null},error:m};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ne(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:d,options:m}=r;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Jh})}else if("phone"in r){const{phone:u,password:d,options:m}=r;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Jh})}else throw new ya("You must provide either an email or phone number and a password");const{data:l,error:o}=n;return o?{data:{user:null,session:null},error:o}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Rn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,l,o,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,l,o,u,d,m,p,g,y,b,v;let j,_;if("message"in r)j=r.message,_=r.signature;else{const{chain:w,wallet:N,statement:$,options:E}=r;let R;if(vt())if(typeof N=="object")R=N;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")R=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=N}const I=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href),F=await R.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=fm(F[0]);let Z=(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Z){const ge=await R.request({method:"eth_chainId"});Z=Ax(ge)}const se={domain:I.host,address:W,statement:$,uri:I.href,version:"1",chainId:Z,nonce:(o=E==null?void 0:E.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=E==null?void 0:E.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=E==null?void 0:E.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=E==null?void 0:E.signInWithEthereum)===null||y===void 0?void 0:y.resources};j=Ix(se),_=await R.request({method:"personal_sign",params:[$x(j),W]})}try{const{data:w,error:N}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:_},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=r.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ut});if(N)throw N;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Rn}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:N})}catch(w){if(ne(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(r){var n,l,o,u,d,m,p,g,y,b,v,j;let _,w;if("message"in r)_=r.message,w=r.signature;else{const{chain:N,wallet:$,statement:E,options:R}=r;let I;if(vt())if(typeof $=="object")I=$;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))I=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=$}const F=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const W=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),E?{statement:E}:null));let Z;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")Z=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)Z=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)_=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),w=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(o=(l=R==null?void 0:R.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R==null?void 0:R.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(y=R==null?void 0:R.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const W=await I.signMessage(new TextEncoder().encode(_),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=W}}try{const{data:N,error:$}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:en(w)},!((v=r.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(j=r.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Ut});if($)throw $;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Rn}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:$})}catch(N){if(ne(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(r){const n=await Qr(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(n??"").split("/");try{const{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:l},xform:Ut});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Rn}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(ne(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:l,token:o,access_token:u,nonce:d}=r,m=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ut}),{data:p,error:g}=m;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Rn}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,l,o,u,d;try{if("email"in r){const{email:m,options:p}=r;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await An(this.storage,this.storageKey));const{error:b}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in r){const{phone:m,options:p}=r,{data:g,error:y}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new ya("You must provide either an email or phone number.")}catch(m){if(ne(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var n,l;try{let o,u;"options"in r&&(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(l=r.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:m}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Ut});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(ne(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var n,l,o;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await An(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Sx})}catch(u){if(ne(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:l}=r;if(l)throw l;if(!n)throw new Er;const{error:o}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:l,type:o,options:u}=r,{error:d}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in r){const{phone:l,type:o,options:u}=r,{data:d,error:m}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new ya("You must provide either an email or phone number and a type")}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=n();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const l=r.expires_at?r.expires_at*1e3-Date.now()<Ro:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",r.expires_at),!l){if(this.userStorage){const d=await Qr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=Io()}if(this.storage.isServer&&r.user){let d=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,g,y)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,y))})}return{data:{session:r},error:null}}const{data:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Cr}):await this._useSession(async n=>{var l,o,u;const{data:d,error:m}=n;if(m)throw m;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Er}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Cr})})}catch(n){if(ne(n))return tx(n)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new Er;const d=o.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await An(this.storage,this.storageKey));const{data:g,error:y}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:d.access_token,xform:Cr});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Er;const n=Date.now()/1e3;let l=n,o=!0,u=null;const{payload:d}=$o(r.access_token);if(d.exp&&(l=d.exp,o=l<=n),o){const{data:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:l-n,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var l;if(!r){const{data:d,error:m}=n;if(m)throw m;r=(l=d.session)!==null&&l!==void 0?l:void 0}if(!(r!=null&&r.refresh_token))throw new Er;const{data:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!vt())throw new xa("No browser detected.");if(r.error||r.error_description||r.error_code)throw new xa(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Bh("No code detected.");const{data:E,error:R}=await this._exchangeCodeForSession(r.code);if(R)throw R;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:m,expires_at:p,token_type:g}=r;if(!u||!m||!d||!g)throw new xa("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let v=y+b;p&&(v=parseInt(p));const j=v-y;j*1e3<=Un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const _=v-b;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,y);const{data:w,error:N}=await this._getUser(u);if(N)throw N;const $={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:v,refresh_token:d,token_type:g,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:r.type},error:null}}catch(l){if(ne(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Qr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var l;const{data:o,error:u}=n;if(u)return{error:u};const d=(l=o.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:m}=await this.admin.signOut(d,r);if(m&&!(ex(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=cx(),l={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:l}}}async _emitInitialSession(r){return await this._useSession(async n=>{var l,o;try{const{data:{session:u},error:d}=n;if(d)throw d;await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await An(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ne(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:l,error:o}=await this._useSession(async u=>{var d,m,p,g,y;const{data:b,error:v}=u;if(v)throw v;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return vt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:r.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(ne(l))return{data:{provider:r.provider,url:null},error:l};throw l}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var l;try{const{error:o,data:{session:u}}=n;if(o)throw o;const{options:d,provider:m,token:p,access_token:g,nonce:y}=r,b=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u==null?void 0:u.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:p,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ut}),{data:v,error:j}=b;return j?{data:{user:null,session:null},error:j}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Rn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:j})}catch(o){if(ne(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var l,o;const{data:u,error:d}=n;if(d)throw d;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const l=Date.now();return await fx(async o=>(o>0&&await hx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ut})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Ao(u)&&Date.now()+d-l<Un})}catch(l){if(this._debug(n,"error",l),ne(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const l=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",l),vt()&&!n.skipBrowserRedirect&&window.location.assign(l),{data:{provider:r,url:l},error:null}}async _recoverAndRefresh(){var r,n;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await Qr(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Dn(this.userStorage,this.storageKey+"-user",d)),o.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:Io()}else if(o&&!o.user&&!o.user){const d=await Qr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await Sr(this.storage,this.storageKey+"-user"),await Dn(this.storage,this.storageKey,o)):o.user=Io()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const u=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ro;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Ro}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Ao(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(r){var n,l;if(!r)throw new Er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Oa;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new Er;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),ne(u)){const d={data:null,error:u};return Ao(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,n,l=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",n,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),l=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&n.user&&await Dn(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const u=Kh(o);await Dn(this.storage,this.storageKey,u)}else{const o=Kh(n);await Dn(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Un);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:l}}=n;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-r)/Un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Un}ms, refresh threshold is ${Jo} ticks`),o<=Jo&&await this._callRefreshToken(l.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof hm)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,l){const o=[`provider=${encodeURIComponent(n)}`];if(l!=null&&l.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,d]=await An(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var l;const{data:o,error:u}=n;return u?{data:null,error:u}:await ae(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var l,o;const{data:u,error:d}=n;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:g}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(r.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(ne(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:o,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Bx(r.webauthn.credential_response):Hx(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:p}=await ae(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:p})})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var l;const{data:o,error:u}=n;if(u)return{data:null,error:u};const d=await ae(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(l=o==null?void 0:o.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Fx(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:zx(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:l}=await this._challenge({factorId:r.factorId});return l?{data:null,error:l}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,l;const{data:{session:o},error:u}=r;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=$o(o.access_token);let m=null;d.aal&&(m=d.aal);let p=m;((l=(n=o.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,n={keys:[]}){let l=n.keys.find(m=>m.kid===r);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(m=>m.kid===r),l&&this.jwks_cached_at+Xy>o)return l;const{data:u,error:d}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,l=u.keys.find(m=>m.kid===r),!l)?null:l}async getClaims(r,n={}){try{let l=r;if(!l){const{data:j,error:_}=await this.getSession();if(_||!j.session)return{data:null,error:_};l=j.session.access_token}const{header:o,payload:u,signature:d,raw:{header:m,payload:p}}=$o(l);n!=null&&n.allowExpired||wx(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:u,header:o,signature:d},error:null}}const y=bx(o.alg),b=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,d,lx(`${m}.${p}`)))throw new Xo("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}}Qs.nextInstanceID=0;const Xx=Qs;class Zx extends Xx{constructor(r){super(r)}}class ev{constructor(r,n,l){var o,u,d;this.supabaseUrl=r,this.supabaseKey=n;const m=Ky(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:My,realtime:zy,auth:Object.assign(Object.assign({},Fy),{storageKey:p}),global:Dy},y=qy(l??{},g);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=Wy(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Gg(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new Iy(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Mg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,l)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:l}=await this.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:l,storage:o,userStorage:u,storageKey:d,flowType:m,lock:p,debug:g},y,b){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zx({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),y),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:l,storage:o,userStorage:u,flowType:m,lock:p,debug:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new dy(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,l)=>{this._handleTokenChanged(n,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(r,n,l){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tv=(a,r,n)=>new ev(a,r,n);function rv(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const r=a.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}rv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nv="https://jglhhlximslbdnwjaclm.supabase.co",sv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpnbGhobHhpbXNsYmRud2phY2xtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE4MzYwNjUsImV4cCI6MjA3NzQxMjA2NX0.lVY600sweXQqkx7drARbEoYlxou_F1HRj7JnlASKU_w",oe=tv(nv,sv),pm=T.createContext(void 0);function iv({children:a}){const[r,n]=T.useState(null),[l,o]=T.useState(!0);T.useEffect(()=>{async function p(){o(!0);try{const{data:{user:y}}=await oe.auth.getUser();n(y)}finally{o(!1)}}p();const{data:{subscription:g}}=oe.auth.onAuthStateChange((y,b)=>{n((b==null?void 0:b.user)||null)});return()=>g.unsubscribe()},[]);async function u(p,g){const{error:y}=await oe.auth.signInWithPassword({email:p,password:g});if(y)throw y}async function d(p,g,y){const{data:b,error:v}=await oe.auth.signUp({email:p,password:g,options:{data:{username:y}}});if(v)throw v}async function m(){const{error:p}=await oe.auth.signOut();if(p)throw p}return s.jsx(pm.Provider,{value:{user:r,loading:l,signIn:u,signUp:d,signOut:m},children:a})}function jt(){const a=T.useContext(pm);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(a,r)=>{const n=T.forwardRef(({color:l="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:m="",children:p,...g},y)=>T.createElement("svg",{ref:y,...av,width:o,height:o,stroke:l,strokeWidth:d?Number(u)*24/Number(o):u,className:["lucide",`lucide-${lv(a)}`,m].join(" "),...g},[...r.map(([b,v])=>T.createElement(b,v)),...Array.isArray(p)?p:[p]]));return n.displayName=`${a}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Q("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=Q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Q("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Q("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=Q("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Q("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Q("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=Q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Q("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Q("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Q("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=Q("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Q("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=Q("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=Q("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Q("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=Q("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Q("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Q("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Pe(){const{user:a,signOut:r}=jt(),n=Vn(),[l,o]=T.useState(!1),u=a?[{name:"Dashboard",path:"/dashboard"},{name:"Tools Training",path:"/tools"},{name:"DFIR",path:"/dfir"},{name:"Leaderboard",path:"/leaderboard"},{name:"Profile",path:"/profile"}]:[],d=m=>n.pathname===m;return s.jsx("nav",{className:"sticky top-0 z-50 bg-neutral-900 border-b border-neutral-800 shadow-dark-card backdrop-blur-sm",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between h-[72px]",children:[s.jsxs(De,{to:a?"/dashboard":"/",className:"flex items-center gap-2",children:[s.jsx(lt,{className:"w-8 h-8 text-primary-500"}),s.jsx("span",{className:"text-h3 font-bold text-neutral-100",children:"AwarenessHub"})]}),a&&s.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[u.map(m=>s.jsx(De,{to:m.path,className:`text-body transition-colors duration-200 ${d(m.path)?"text-primary-500 font-semibold":"text-neutral-400 hover:text-primary-400"}`,children:m.name},m.path)),s.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-2 px-5 py-3 text-body text-neutral-400 hover:text-error-500 transition-colors",children:[s.jsx(bv,{className:"w-5 h-5"}),"Sign Out"]})]}),!a&&s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsx(De,{to:"/login",className:"px-5 py-3 text-body text-neutral-400 hover:text-primary-400 transition-colors",children:"Login"}),s.jsx(De,{to:"/signup",className:"px-5 py-3 bg-primary-500 text-white rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5",children:"Sign Up"})]}),s.jsx("button",{onClick:()=>o(!l),className:"md:hidden p-2",children:l?s.jsx($v,{className:"w-6 h-6 text-neutral-100"}):s.jsx(jv,{className:"w-6 h-6 text-neutral-100"})})]}),l&&s.jsxs("div",{className:"md:hidden py-4 border-t border-neutral-800",children:[a&&s.jsxs(s.Fragment,{children:[u.map(m=>s.jsx(De,{to:m.path,onClick:()=>o(!1),className:`block px-4 py-3 text-body ${d(m.path)?"text-primary-500 font-semibold bg-primary-900/20":"text-neutral-400"}`,children:m.name},m.path)),s.jsx("button",{onClick:()=>{r(),o(!1)},className:"w-full text-left px-4 py-3 text-body text-error-500",children:"Sign Out"})]}),!a&&s.jsxs(s.Fragment,{children:[s.jsx(De,{to:"/login",onClick:()=>o(!1),className:"block px-4 py-3 text-body text-neutral-400",children:"Login"}),s.jsx(De,{to:"/signup",onClick:()=>o(!1),className:"block px-4 py-3 text-body text-primary-500 font-semibold",children:"Sign Up"})]})]})]})})}const Iv=[{icon:rr,title:"Secret Message Detective",description:"Master cryptography techniques"},{icon:xv,title:"Password Guardian",description:"Learn password security"},{icon:Zs,title:"Email Detective",description:"Identify phishing attacks"},{icon:_v,title:"Network Security",description:"Analyze network threats"},{icon:gm,title:"Malware Hunter",description:"Detect malicious software"},{icon:lt,title:"Firewall Specialist",description:"Configure network protection"},{icon:Ev,title:"Mobile Security",description:"Secure mobile devices"},{icon:dv,title:"Cloud Security",description:"Protect cloud infrastructure"},{icon:Sa,title:"Digital Forensics",description:"Investigate incidents"},{icon:_c,title:"Social Engineering",description:"Defend against manipulation"},{icon:vm,title:"Secure Coding",description:"Write secure applications"},{icon:mv,title:"Payment Security",description:"Protect transactions"}];function Lv(){return s.jsxs("div",{className:"min-h-screen bg-background-page",children:[s.jsx(Pe,{}),s.jsx("section",{className:"py-24 md:py-32",children:s.jsxs("div",{className:"container mx-auto text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-hero font-bold text-neutral-900 mb-6",children:["Master Cybersecurity Through",s.jsx("span",{className:"block text-primary-500",children:"Interactive Challenges"})]}),s.jsx("p",{className:"text-body-lg text-neutral-700 mb-8 max-w-3xl mx-auto",children:"Learn cybersecurity fundamentals through 12 comprehensive modules and 72 hands-on CTF-style challenges. Build real-world skills while earning badges and competing on leaderboards."}),s.jsx(De,{to:"/signup",className:"inline-block px-8 py-4 bg-primary-500 text-white text-body font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-1 hover:shadow-card-hover",children:"Start Learning Free"})]})}),s.jsx("section",{className:"py-16 bg-background-surface",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Fn,{className:"w-8 h-8 text-primary-500"})}),s.jsx("h3",{className:"text-h3 font-semibold text-neutral-900 mb-3",children:"12+ Modules"}),s.jsx("p",{className:"text-body text-neutral-700",children:"Comprehensive coverage from cryptography to cloud security"})]}),s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(jc,{className:"w-8 h-8 text-primary-500"})}),s.jsx("h3",{className:"text-h3 font-semibold text-neutral-900 mb-3",children:"CTF-Style Challenges"}),s.jsx("p",{className:"text-body text-neutral-700",children:"Hands-on learning with progressive difficulty levels"})]}),s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(_c,{className:"w-8 h-8 text-primary-500"})}),s.jsx("h3",{className:"text-h3 font-semibold text-neutral-900 mb-3",children:"Track Progress"}),s.jsx("p",{className:"text-body text-neutral-700",children:"Earn badges, climb leaderboards, and measure your growth"})]})]})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-900 text-center mb-12",children:"Learning Modules"}),s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:Iv.map((a,r)=>{const n=a.icon;return s.jsxs("div",{className:"bg-background-surface p-6 rounded-lg border border-neutral-200 hover:border-primary-500 hover:shadow-card-hover transition-all duration-250",children:[s.jsx(n,{className:"w-12 h-12 text-primary-500 mb-4"}),s.jsx("h3",{className:"text-body font-semibold text-neutral-900 mb-2",children:a.title}),s.jsx("p",{className:"text-small text-neutral-700",children:a.description})]},r)})})]})}),s.jsx("section",{className:"py-16 bg-background-surface",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-900 text-center mb-12",children:"How It Works"}),s.jsx("div",{className:"grid md:grid-cols-4 gap-8 max-w-5xl mx-auto",children:[{step:1,title:"Sign Up",description:"Create your free account"},{step:2,title:"Choose Module",description:"Pick a topic to learn"},{step:3,title:"Complete Challenges",description:"Solve CTF-style problems"},{step:4,title:"Earn Badges",description:"Track your achievements"}].map(a=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-500 text-white rounded-full flex items-center justify-center text-h2 font-bold mx-auto mb-4",children:a.step}),s.jsx("h3",{className:"text-body font-semibold text-neutral-900 mb-2",children:a.title}),s.jsx("p",{className:"text-small text-neutral-700",children:a.description})]},a.step))})]})}),s.jsx("section",{className:"py-24",children:s.jsxs("div",{className:"container mx-auto text-center",children:[s.jsx("h2",{className:"text-h1 font-bold text-neutral-900 mb-6",children:"Ready to Start Learning?"}),s.jsx("p",{className:"text-body-lg text-neutral-700 mb-8 max-w-2xl mx-auto",children:"Join thousands of students mastering cybersecurity through interactive challenges"}),s.jsx(De,{to:"/signup",className:"inline-block px-8 py-4 bg-primary-500 text-white text-body font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-1 hover:shadow-card-hover",children:"Get Started Now"})]})}),s.jsx("footer",{className:"py-8 bg-neutral-900 text-neutral-500 text-center",children:s.jsx("div",{className:"container mx-auto",children:s.jsx("p",{className:"text-small",children:"2025 AwarenessHub. Professional Cybersecurity Learning Platform."})})})]})}function Uv(){const[a,r]=T.useState(""),[n,l]=T.useState(""),[o,u]=T.useState(""),[d,m]=T.useState(!1),{signIn:p}=jt(),g=Ys();async function y(b){b.preventDefault(),u(""),m(!0);try{await p(a,n),g("/dashboard")}catch(v){u(v.message||"Failed to sign in")}finally{m(!1)}}return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16",children:s.jsxs("div",{className:"max-w-md mx-auto bg-neutral-900 p-8 rounded-lg shadow-dark-card border border-neutral-800",children:[s.jsx("h1",{className:"text-h2 font-bold text-neutral-100 mb-2 text-center",children:"Welcome Back"}),s.jsx("p",{className:"text-body text-neutral-400 mb-8 text-center",children:"Sign in to continue your learning journey"}),o&&s.jsx("div",{className:"mb-6 p-4 bg-error-50 border border-error-600 rounded-md",children:s.jsx("p",{className:"text-small text-error-600",children:o})}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-body font-medium text-neutral-100 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),s.jsx("input",{type:"email",id:"email",value:a,onChange:b=>r(b.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-neutral-800 border-2 border-neutral-700 rounded-md focus:border-primary-500 focus:outline-none transition-colors text-neutral-100 placeholder:text-neutral-500",placeholder:"your@email.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-body font-medium text-neutral-100 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),s.jsx("input",{type:"password",id:"password",value:n,onChange:b=>l(b.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-neutral-800 border-2 border-neutral-700 rounded-md focus:border-primary-500 focus:outline-none transition-colors text-neutral-100 placeholder:text-neutral-500",placeholder:""})]})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full py-4 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Signing In...":"Sign In"})]}),s.jsxs("p",{className:"mt-6 text-center text-body text-neutral-400",children:["Don't have an account?"," ",s.jsx(De,{to:"/signup",className:"text-primary-500 hover:text-primary-600 font-semibold",children:"Sign Up"})]})]})})]})}function Dv(){const[a,r]=T.useState(""),[n,l]=T.useState(""),[o,u]=T.useState(""),[d,m]=T.useState(""),[p,g]=T.useState(!1),{signUp:y}=jt(),b=Ys();async function v(j){j.preventDefault(),m(""),g(!0);try{await y(a,n,o),b("/dashboard")}catch(_){m(_.message||"Failed to create account")}finally{g(!1)}}return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16",children:s.jsxs("div",{className:"max-w-md mx-auto bg-neutral-900 p-8 rounded-lg shadow-dark-card border border-neutral-800",children:[s.jsx("h1",{className:"text-h2 font-bold text-neutral-100 mb-2 text-center",children:"Create Account"}),s.jsx("p",{className:"text-body text-neutral-400 mb-8 text-center",children:"Start your cybersecurity learning journey today"}),d&&s.jsx("div",{className:"mb-6 p-4 bg-error-50 border border-error-600 rounded-md",children:s.jsx("p",{className:"text-small text-error-600",children:d})}),s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-body font-medium text-neutral-100 mb-2",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(nc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),s.jsx("input",{type:"text",id:"username",value:o,onChange:j=>u(j.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-neutral-800 border-2 border-neutral-700 rounded-md focus:border-primary-500 focus:outline-none transition-colors text-neutral-100 placeholder:text-neutral-500",placeholder:"johndoe"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-body font-medium text-neutral-100 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Zs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),s.jsx("input",{type:"email",id:"email",value:a,onChange:j=>r(j.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-neutral-800 border-2 border-neutral-700 rounded-md focus:border-primary-500 focus:outline-none transition-colors text-neutral-100 placeholder:text-neutral-500",placeholder:"your@email.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-body font-medium text-neutral-100 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(rr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500"}),s.jsx("input",{type:"password",id:"password",value:n,onChange:j=>l(j.target.value),required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3 bg-neutral-800 border-2 border-neutral-700 rounded-md focus:border-primary-500 focus:outline-none transition-colors text-neutral-100 placeholder:text-neutral-500",placeholder:""})]}),s.jsx("p",{className:"mt-2 text-small text-neutral-400",children:"At least 6 characters"})]}),s.jsx("button",{type:"submit",disabled:p,className:"w-full py-4 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating Account...":"Create Account"})]}),s.jsxs("p",{className:"mt-6 text-center text-body text-neutral-400",children:["Already have an account?"," ",s.jsx(De,{to:"/login",className:"text-primary-500 hover:text-primary-600 font-semibold",children:"Sign In"})]})]})})]})}function Mv(){const{user:a}=jt(),[r,n]=T.useState(null),[l,o]=T.useState([]),[u,d]=T.useState([]),[m,p]=T.useState(!0);if(T.useEffect(()=>{async function y(){if(a)try{const{data:b}=await oe.from("user_profiles").select("*").eq("id",a.id).maybeSingle();n(b);const{data:v}=await oe.from("modules").select("*").order("order_index");o(v||[]);const{data:j}=await oe.from("user_progress").select("stage_id, status").eq("user_id",a.id).eq("status","completed");if(j&&j.length>0){const _=j.map(E=>E.stage_id),{data:w}=await oe.from("stages").select("id, module_id").in("id",_),N={};w==null||w.forEach(E=>{N[E.module_id]=(N[E.module_id]||0)+1});const $=Object.entries(N).map(([E,R])=>({module_id:parseInt(E),completed_count:R}));d($)}}catch(b){console.error("Error loading dashboard data:",b)}finally{p(!1)}}y()},[a]),m)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading..."})})]});const g=u.filter(y=>{const b=l.find(v=>v.id===y.module_id);return b&&y.completed_count===b.total_stages}).length;return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-h1 font-bold text-neutral-100 mb-2",children:["Welcome back, ",r==null?void 0:r.username,"!"]}),s.jsx("p",{className:"text-body-lg text-neutral-400",children:"Continue your cybersecurity learning journey"})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-12",children:[s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ea,{className:"w-6 h-6 text-primary-500"}),s.jsx("span",{className:"text-small font-medium text-neutral-400",children:"Total Points"})]}),s.jsx("p",{className:"text-h2 font-bold text-neutral-100",children:(r==null?void 0:r.total_points)||0})]}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(me,{className:"w-6 h-6 text-success-600"}),s.jsx("span",{className:"text-small font-medium text-neutral-400",children:"Completed Modules"})]}),s.jsxs("p",{className:"text-h2 font-bold text-neutral-100",children:[g,"/12"]})]}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(jc,{className:"w-6 h-6 text-warning-700"}),s.jsx("span",{className:"text-small font-medium text-neutral-400",children:"Current Level"})]}),s.jsx("p",{className:"text-h2 font-bold text-neutral-100",children:(r==null?void 0:r.level)||1})]}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Fn,{className:"w-6 h-6 text-primary-500"}),s.jsx("span",{className:"text-small font-medium text-neutral-400",children:"Badges Earned"})]}),s.jsx("p",{className:"text-h2 font-bold text-neutral-100",children:"0"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-100 mb-6",children:"Learning Modules"}),s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map(y=>{const b=u.find(w=>w.module_id===y.id),v=(b==null?void 0:b.completed_count)||0,j=v/y.total_stages*100,_=v===y.total_stages;return s.jsxs(De,{to:`/module/${y.id}`,className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 hover:border-primary-500 hover:shadow-dark-card-hover transition-all duration-250 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-900/30 rounded-lg flex items-center justify-center group-hover:bg-primary-500 transition-colors",children:s.jsx("span",{className:"text-2xl",children:y.icon==="lock"?"":""})}),_&&s.jsx(me,{className:"w-6 h-6 text-success-600"})]}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100 mb-2",children:y.title}),s.jsx("p",{className:"text-small text-neutral-400 mb-4 line-clamp-2",children:y.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-small text-neutral-400",children:[s.jsxs("span",{children:[v,"/",y.total_stages," stages"]}),s.jsxs("span",{children:[Math.round(j),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${j}%`}})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-caption font-medium ${y.difficulty==="Beginner"?"bg-success-900/30 text-success-500":y.difficulty==="Intermediate"?"bg-warning-900/30 text-warning-500":"bg-error-900/30 text-error-500"}`,children:y.difficulty})})]},y.id)})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(De,{to:"/leaderboard",className:"bg-gradient-to-br from-primary-500 to-primary-600 p-8 rounded-lg text-white hover:shadow-dark-card-hover transition-all duration-250 hover:-translate-y-1",children:[s.jsx(Pv,{className:"w-12 h-12 mb-4"}),s.jsx("h3",{className:"text-h3 font-semibold mb-2",children:"View Leaderboard"}),s.jsx("p",{className:"text-body opacity-90",children:"See how you rank against other learners"})]}),s.jsxs(De,{to:"/profile",className:"bg-gradient-to-br from-neutral-800 to-neutral-900 p-8 rounded-lg text-white hover:shadow-dark-card-hover transition-all duration-250 hover:-translate-y-1",children:[s.jsx(Fn,{className:"w-12 h-12 mb-4"}),s.jsx("h3",{className:"text-h3 font-semibold mb-2",children:"Your Profile"}),s.jsx("p",{className:"text-body opacity-90",children:"View achievements and progress details"})]})]})]})]})}function Fv(){const{moduleId:a}=Ta(),{user:r}=jt(),[n,l]=T.useState(null),[o,u]=T.useState([]),[d,m]=T.useState([]),[p,g]=T.useState(!0);if(T.useEffect(()=>{async function v(){if(!(!a||!r))try{const{data:j}=await oe.from("modules").select("*").eq("id",a).maybeSingle();l(j);const{data:_}=await oe.from("stages").select("id, stage_number, title, points").eq("module_id",a).order("stage_number");if(u(_||[]),_){const w=_.map($=>$.id),{data:N}=await oe.from("user_progress").select("stage_id, status, points_earned").eq("user_id",r.id).in("stage_id",w);m(N||[])}}catch(j){console.error("Error loading module:",j)}finally{g(!1)}}v()},[a,r]),p)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading..."})})]});if(!n)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Module not found"})})]});const y=d.filter(v=>v.status==="completed").length,b=d.reduce((v,j)=>v+(j.points_earned||0),0);return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs(De,{to:"/dashboard",className:"inline-flex items-center gap-2 text-body text-neutral-400 hover:text-primary-400 mb-6",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Back to Dashboard"]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-primary-600 p-12 rounded-lg text-white mb-8",children:[s.jsx("h1",{className:"text-h1 font-bold mb-4",children:n.title}),s.jsx("p",{className:"text-body-lg opacity-90 mb-6 max-w-3xl",children:n.description}),s.jsxs("div",{className:"flex flex-wrap gap-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-caption opacity-75 mb-1",children:"Difficulty"}),s.jsx("div",{className:"text-body font-semibold",children:n.difficulty})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-caption opacity-75 mb-1",children:"Progress"}),s.jsxs("div",{className:"text-body font-semibold",children:[y,"/",n.total_stages," Stages"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-caption opacity-75 mb-1",children:"Points Earned"}),s.jsxs("div",{className:"text-body font-semibold",children:[b," pts"]})]})]})]}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 mb-8",children:[s.jsxs("div",{className:"flex justify-between text-small text-neutral-400 mb-2",children:[s.jsx("span",{children:"Module Progress"}),s.jsxs("span",{children:[Math.round(y/n.total_stages*100),"%"]})]}),s.jsx("div",{className:"w-full h-3 bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${y/n.total_stages*100}%`}})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-100 mb-6",children:"Challenge Stages"}),o.map((v,j)=>{var E;const _=d.find(R=>R.stage_id===v.id),w=(_==null?void 0:_.status)==="completed",N=j===0||((E=d.find(R=>R.stage_id===o[j-1].id))==null?void 0:E.status)==="completed",$=j===0||N;return s.jsx(De,{to:$?`/module/${a}/stage/${v.id}`:"#",className:`block bg-neutral-900 p-6 rounded-lg border-2 transition-all duration-250 ${w?"border-success-600 bg-success-900/20":$?"border-neutral-800 hover:border-primary-500 hover:shadow-dark-card-hover hover:-translate-y-1":"border-neutral-800 opacity-60 cursor-not-allowed"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${w?"bg-success-600 text-white":$?"bg-primary-900/30 text-primary-400":"bg-neutral-800 text-neutral-500"}`,children:w?s.jsx(me,{className:"w-6 h-6"}):$?s.jsx(wc,{className:"w-6 h-6"}):s.jsx(rr,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-body font-semibold text-neutral-100",children:["Stage ",v.stage_number,": ",v.title]}),s.jsxs("p",{className:"text-small text-neutral-400",children:[v.points," points available",_&&`  Earned: ${_.points_earned} pts`]})]})]}),w&&s.jsx("div",{className:"bg-success-600 text-white px-4 py-2 rounded-full text-caption font-semibold",children:"Completed"}),!w&&!$&&s.jsx("div",{className:"bg-neutral-800 text-neutral-400 px-4 py-2 rounded-full text-caption font-semibold",children:"Locked"})]})},v.id)})]})]})]})}function zv({pairs:a,onSubmit:r,disabled:n}){const[l,o]=T.useState({}),[u,d]=T.useState(null),[m]=T.useState(()=>a.map(w=>({id:w.id,text:w.right})).sort(()=>Math.random()-.5)),p=_=>{n||d(_)},g=_=>{n||!u||(o(w=>({...w,[u]:_})),d(null))},y=()=>{o({}),d(null)},b=()=>{const _=a.map(w=>`${w.id}:${l[w.id]||"none"}`).join(",");r(_)},v=Object.keys(l).length===a.length,j=_=>l[_];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-body font-semibold text-neutral-900 mb-3",children:"Terms"}),a.map(_=>{const w=j(_.id),N=u===_.id;return s.jsx("button",{onClick:()=>p(_.id),disabled:n,className:`w-full p-4 rounded-lg border-2 text-left transition-all ${w?"border-success-600 bg-success-50":N?"border-primary-500 bg-primary-50":"border-neutral-200 bg-background-surface hover:border-primary-300"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-body text-neutral-900",children:_.left}),w&&s.jsx(me,{className:"w-5 h-5 text-success-600 flex-shrink-0"})]})},_.id)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-body font-semibold text-neutral-900 mb-3",children:"Definitions"}),m.map(_=>{const w=Object.values(l).includes(_.id);return s.jsx("button",{onClick:()=>g(_.id),disabled:n||w,className:`w-full p-4 rounded-lg border-2 text-left transition-all ${w?"border-success-600 bg-success-50 opacity-50":"border-neutral-200 bg-background-surface hover:border-primary-300"} ${n||w?"cursor-not-allowed":"cursor-pointer"}`,children:s.jsx("span",{className:"text-body text-neutral-900",children:_.text})},_.id)})]})]}),s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg border border-neutral-200",children:s.jsxs("p",{className:"text-small text-neutral-700",children:["Click a term on the left, then click the matching definition on the right.",u&&s.jsx("strong",{className:"text-primary-500",children:" Now click a definition to match."})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:y,disabled:n||Object.keys(l).length===0,className:"px-6 py-3 border-2 border-neutral-300 text-neutral-700 font-semibold rounded-md hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(jm,{className:"w-5 h-5"}),"Reset"]}),s.jsx("button",{onClick:b,disabled:n||!v,className:"flex-1 px-6 py-3 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Submit Matches":`${Object.keys(l).length}/${a.length} Matched`})]})]})}function Bv({sections:a,onSubmit:r,disabled:n}){const[l,o]=T.useState({}),u=(p,g)=>{n||o(y=>({...y,[p]:g}))},d=()=>{const p=a.map((g,y)=>l[y]||"none").join(",");r(p)},m=Object.keys(l).length===a.length;return s.jsxs("div",{className:"space-y-6",children:[a.map((p,g)=>s.jsxs("div",{className:"bg-neutral-800 p-6 rounded-lg border border-neutral-700",children:[s.jsxs("h3",{className:"text-body font-semibold text-neutral-100 mb-4",children:[g+1,". ",p.question]}),s.jsx("div",{className:"space-y-3",children:p.options.map(y=>{const b=l[g]===y.id;return s.jsx("button",{onClick:()=>u(g,y.id),disabled:n,className:`w-full p-4 rounded-lg border-2 text-left transition-all ${b?"border-primary-500 bg-primary-900/30":"border-neutral-700 bg-neutral-900 hover:border-neutral-600"} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex-shrink-0 mt-0.5 flex items-center justify-center ${b?"border-primary-500 bg-primary-500":"border-neutral-600"}`,children:b&&s.jsx(me,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-body text-neutral-100",children:y.text}),y.explanation&&b&&s.jsx("p",{className:"text-small text-neutral-400 mt-2",children:y.explanation})]})]})},y.id)})})]},g)),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:d,disabled:n||!m,className:"px-6 py-3 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed shadow-dark-card hover:shadow-dark-card-hover",children:m?"Submit Answers":`${Object.keys(l).length}/${a.length} Answered`})})]})}function Hv({items:a,zones:r,onSubmit:n,disabled:l}){const[o,u]=T.useState([...a].sort(()=>Math.random()-.5)),[d,m]=T.useState(r.reduce((I,F)=>({...I,[F.id]:[]}),{})),[p,g]=T.useState(null),[y,b]=T.useState(null),v=(I,F)=>{l||(g(I),b(F))},j=I=>{I.preventDefault()},_=I=>{!p||!y||l||(y==="pool"?(u(F=>F.filter(W=>W.id!==p.id)),m(F=>({...F,[I]:[...F[I],p]}))):y!==I&&m(F=>({...F,[y]:F[y].filter(W=>W.id!==p.id),[I]:[...F[I],p]})),g(null),b(null))},w=()=>{!p||!y||l||y==="pool"||(m(I=>({...I,[y]:I[y].filter(F=>F.id!==p.id)})),u(I=>[...I,p]),g(null),b(null))},N=()=>{u([...a].sort(()=>Math.random()-.5)),m(r.reduce((I,F)=>({...I,[F.id]:[]}),{}))},$=()=>{const I=r.map(F=>{const W=d[F.id].map(Z=>Z.id).join(",");return`${F.id}:${W||"empty"}`}).join(";");n(I)},E=Object.values(d).reduce((I,F)=>I+F.length,0),R=o.length===0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:r.map(I=>s.jsxs("div",{onDragOver:j,onDrop:()=>_(I.id),className:"border-2 border-dashed border-neutral-300 rounded-lg p-4 min-h-[120px] bg-neutral-50 transition-colors hover:border-primary-400 hover:bg-primary-50/30",children:[s.jsx("h3",{className:"text-body font-semibold text-neutral-900 mb-3",children:I.label}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[d[I.id].map(F=>s.jsxs("div",{draggable:!l,onDragStart:()=>v(F,I.id),className:`inline-flex items-center gap-2 px-4 py-2 bg-primary-100 text-primary-700 rounded-md border border-primary-300 ${l?"cursor-not-allowed":"cursor-move"}`,children:[s.jsx(rf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small font-medium",children:F.text})]},F.id)),d[I.id].length===0&&s.jsx("span",{className:"text-small text-neutral-500 italic",children:"Drop items here"})]})]},I.id))}),s.jsxs("div",{onDragOver:j,onDrop:w,className:"border-2 border-neutral-300 rounded-lg p-4 min-h-[100px] bg-background-surface",children:[s.jsxs("h3",{className:"text-body font-semibold text-neutral-900 mb-3",children:["Available Items ",o.length>0&&`(${o.length})`]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.map(I=>s.jsxs("div",{draggable:!l,onDragStart:()=>v(I,"pool"),className:`inline-flex items-center gap-2 px-4 py-2 bg-neutral-100 text-neutral-700 rounded-md border border-neutral-300 ${l?"cursor-not-allowed":"cursor-move"}`,children:[s.jsx(rf,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small font-medium",children:I.text})]},I.id)),o.length===0&&s.jsx("span",{className:"text-small text-neutral-500 italic",children:"All items placed"})]})]}),s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg border border-neutral-200",children:s.jsx("p",{className:"text-small text-neutral-700",children:"Drag items from the pool into the appropriate categories above."})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:N,disabled:l||E===0,className:"px-6 py-3 border-2 border-neutral-300 text-neutral-700 font-semibold rounded-md hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(jm,{className:"w-5 h-5"}),"Reset"]}),s.jsx("button",{onClick:$,disabled:l||!R,className:"flex-1 px-6 py-3 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Submit Categories":`${E}/${a.length} Placed`})]})]})}function Wv({code:a,issues:r,language:n="javascript",onSubmit:l,disabled:o}){const[u,d]=T.useState(new Set),m=a.split(`
`),p=b=>{o||d(v=>{const j=new Set(v);return j.has(b)?j.delete(b):j.add(b),j})},g=()=>{const b=Array.from(u).sort().join(",");l(b)},y=u.size>0;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-neutral-900 rounded-lg p-6 overflow-x-auto",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-neutral-400",children:[s.jsx(vm,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small font-mono",children:n})]}),s.jsx("pre",{className:"text-small font-mono text-neutral-100 leading-relaxed",children:m.map((b,v)=>{const j=v+1,_=r.some(w=>w.line===j);return s.jsxs("div",{className:`${_?"bg-error-900/30 border-l-4 border-error-500":""} px-2 -mx-2`,children:[s.jsx("span",{className:"text-neutral-500 select-none mr-4 inline-block w-8 text-right",children:j}),s.jsx("span",{children:b})]},v)})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-neutral-900",children:[s.jsx(Tt,{className:"w-5 h-5 text-warning-600"}),s.jsxs("h3",{className:"text-body font-semibold",children:["Identify Security Issues (",u.size," selected)"]})]}),s.jsx("div",{className:"space-y-3",children:r.map(b=>{const v=u.has(b.id);return s.jsx("button",{onClick:()=>p(b.id),disabled:o,className:`w-full p-4 rounded-lg border-2 text-left transition-all ${v?"border-primary-500 bg-primary-50":"border-neutral-200 bg-background-surface hover:border-primary-300"} ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-md border-2 flex-shrink-0 mt-0.5 flex items-center justify-center ${v?"border-primary-500 bg-primary-500":"border-neutral-300"}`,children:v&&s.jsx(me,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsxs("span",{className:"text-small font-mono text-neutral-600 bg-neutral-100 px-2 py-0.5 rounded",children:["Line ",b.line]})}),s.jsx("p",{className:"text-body text-neutral-900",children:b.description})]})]})},b.id)})})]}),s.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg border border-neutral-200",children:s.jsx("p",{className:"text-small text-neutral-700",children:"Review the code above and select all security issues you can identify. Lines with potential issues are highlighted."})}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:g,disabled:o||!y,className:"px-6 py-3 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submit Analysis":"Select at least one issue"})})]})}function Vv({plaintext:a,correctShift:r,onSubmit:n,disabled:l}){const[o,u]=T.useState(0),[d,m]=T.useState(!1),p=(b,v)=>b.split("").map(j=>{if(j.match(/[a-z]/i)){const _=j.charCodeAt(0),N=_>=65&&_<=90?65:97,$=(_-N+v+26)%26+N;return String.fromCharCode($)}return j}).join(""),g=p(a,o),y=()=>{n(o.toString())};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Find the correct shift value to decode the message. Use the slider to shift the alphabet and reveal the plaintext."]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-body font-semibold text-neutral-100 mb-2",children:"Original Message (Encrypted):"}),s.jsx("div",{className:"bg-neutral-800 p-4 rounded-lg border border-neutral-700",children:s.jsx("p",{className:"font-mono text-body text-warning-400 break-all",children:a})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-body font-semibold text-neutral-100 mb-2",children:["Shifted Message (Current Shift: ",o,"):"]}),s.jsx("div",{className:"bg-neutral-800 p-4 rounded-lg border border-neutral-700",children:s.jsx("p",{className:"font-mono text-body text-success-400 break-all",children:g})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{htmlFor:"shift-slider",className:"block text-body font-semibold text-neutral-100",children:["Shift Amount: ",s.jsx("span",{className:"text-primary-400",children:o})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-small text-neutral-400",children:"0"}),s.jsx("input",{id:"shift-slider",type:"range",min:"0",max:"25",value:o,onChange:b=>u(parseInt(b.target.value)),className:"flex-1 h-2 bg-neutral-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer",disabled:l}),s.jsx("span",{className:"text-small text-neutral-400",children:"25"})]})]}),s.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg border border-neutral-700",children:[s.jsx("h3",{className:"text-small font-semibold text-neutral-100 mb-2",children:"Alphabet Reference:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ").map((b,v)=>{const j=p(b,o);return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-small text-neutral-400",children:b}),s.jsx("span",{className:"text-small text-primary-400 font-bold",children:j})]},v)})})]}),s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 text-small text-primary-400 hover:text-primary-300 transition-colors",children:[s.jsx(wm,{className:"w-4 h-4"}),d?"Hide Hint":"Show Hint"]}),d&&s.jsx("div",{className:"bg-warning-900/20 border border-warning-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-small text-neutral-100",children:[s.jsx("strong",{children:"Hint:"})," Try different shift values until the message makes sense. Look for common English words. The Caesar cipher shifts each letter by a fixed number of positions."]})}),s.jsxs("button",{onClick:y,disabled:l,className:"w-full px-6 py-4 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(me,{className:"w-5 h-5"}),l?"Submitting...":`Submit Answer (Shift: ${o})`]})]})}function qv({minStrength:a,requiresLength:r=12,onSubmit:n,disabled:l}){const[o,u]=T.useState(""),[d,m]=T.useState(0),[p,g]=T.useState([]),y=[{type:"lowercase",label:"Lowercase (a-z)",chars:"abcdefghijklmnopqrstuvwxyz"},{type:"uppercase",label:"Uppercase (A-Z)",chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},{type:"numbers",label:"Numbers (0-9)",chars:"0123456789"},{type:"special",label:"Special (!@#$%)",chars:"!@#$%^&*()_+-=[]{}|;:,.<>?"}],b=E=>{const R=E[Math.floor(Math.random()*E.length)];u(I=>I+R)},v=E=>{let R=0;const I=[];return E.length>=r?R+=25:I.push(`Password must be at least ${r} characters`),/[a-z]/.test(E)?R+=15:I.push("Add lowercase letters"),/[A-Z]/.test(E)?R+=15:I.push("Add uppercase letters"),/[0-9]/.test(E)?R+=15:I.push("Add numbers"),/[^a-zA-Z0-9]/.test(E)?R+=15:I.push("Add special characters"),E.length>=r+4&&(R+=10),/(.)\1{2,}/.test(E)&&(R-=10,I.push("Avoid repeating characters")),/^[0-9]+$/.test(E)&&(R=Math.min(R,30),I.push("Don't use only numbers")),R=Math.max(0,Math.min(100,R)),{score:R,feedback:I}};T.useEffect(()=>{const E=v(o);m(E.score),g(E.feedback)},[o]);const j=()=>d<30?"bg-error-600":d<60?"bg-warning-600":d<80?"bg-warning-500":"bg-success-600",_=()=>d<30?{text:"Weak",color:"text-error-400"}:d<60?{text:"Fair",color:"text-warning-400"}:d<80?{text:"Good",color:"text-warning-300"}:{text:"Strong",color:"text-success-400"},w=()=>{d>=a&&n(d.toString())},N=_(),$=d>=a;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Build a strong password by clicking character type buttons below. Achieve a strength score of at least ",s.jsx("strong",{children:a})," to complete the challenge."]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-body font-semibold text-neutral-100",children:"Your Password:"}),s.jsx("div",{className:"bg-neutral-800 p-4 rounded-lg border border-neutral-700 min-h-[60px] flex items-center",children:s.jsx("p",{className:"font-mono text-h3 text-neutral-100 break-all",children:o||s.jsx("span",{className:"text-neutral-500 italic",children:"Click buttons below to build..."})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>u(""),className:"px-4 py-2 bg-error-600 text-white rounded-md hover:bg-error-700 transition-colors text-small",children:"Clear"}),s.jsx("button",{onClick:()=>u(E=>E.slice(0,-1)),className:"px-4 py-2 bg-neutral-700 text-neutral-100 rounded-md hover:bg-neutral-600 transition-colors text-small",disabled:!o,children:"Delete Last"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-body font-semibold text-neutral-100",children:"Add Characters:"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(E=>s.jsx("button",{onClick:()=>b(E.chars),disabled:l,className:"px-4 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s.jsx("span",{className:"text-body font-medium",children:E.label})},E.type))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-body font-semibold text-neutral-100",children:"Password Strength:"}),s.jsxs("span",{className:`text-body font-bold ${N.color}`,children:[N.text," (",d,"%)"]})]}),s.jsx("div",{className:"w-full h-4 bg-neutral-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${j()} transition-all duration-300`,style:{width:`${d}%`}})})]}),p.length>0&&s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-4 rounded-lg space-y-2",children:[s.jsxs("h3",{className:"text-small font-semibold text-neutral-100 flex items-center gap-2",children:[s.jsx(ka,{className:"w-4 h-4 text-warning-500"}),"Suggestions:"]}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.map((E,R)=>s.jsx("li",{className:"text-small text-neutral-400",children:E},R))})]}),s.jsx("div",{className:`p-4 rounded-lg border ${$?"bg-success-900/20 border-success-700":"bg-neutral-800 border-neutral-700"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[$?s.jsx(me,{className:"w-6 h-6 text-success-500"}):s.jsx(lt,{className:"w-6 h-6 text-neutral-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-body font-semibold text-neutral-100",children:$?"Password Meets Requirements!":"Keep Building..."}),s.jsx("p",{className:"text-small text-neutral-400",children:$?`Your password is strong enough (${d}%  ${a}%)`:`Need ${a-d}% more strength`})]})]})}),s.jsxs("button",{onClick:w,disabled:l||!$,className:"w-full px-6 py-4 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(me,{className:"w-5 h-5"}),l?"Submitting...":"Submit Password"]})]})}function Kv({emailContent:a,clues:r,correctClueIds:n,requiredClues:l,onSubmit:o,disabled:u}){const[d,m]=T.useState([]),[p,g]=T.useState(null),y=w=>{d.includes(w)?m(d.filter(N=>N!==w)):m([...d,w])},b=w=>{if(!p)return s.jsx(s.Fragment,{children:w});const N=w.split(new RegExp(`(${p})`,"gi"));return s.jsx(s.Fragment,{children:N.map(($,E)=>$.toLowerCase()===p.toLowerCase()?s.jsx("mark",{className:"bg-warning-400 text-neutral-900 font-semibold rounded px-1",children:$},E):s.jsx("span",{children:$},E))})},v=()=>{const w=d.filter(E=>n.includes(E)).length,N=d.filter(E=>!n.includes(E)).length,$=w>=l&&N===0;o($?"correct":"incorrect")},j=d.filter(w=>n.includes(w)).length,_=j/l*100;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Identify ",s.jsx("strong",{children:l})," suspicious elements in this email. Click on the clue descriptions below to highlight them in the email. Select only the genuine phishing indicators."]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"text-body font-semibold text-neutral-100",children:["Clues Found: ",j,"/",l]}),s.jsxs("span",{className:"text-small text-neutral-400",children:[d.length," selected"]})]}),s.jsx("div",{className:"w-full h-2 bg-neutral-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-warning-600 transition-all duration-300",style:{width:`${_}%`}})})]}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-lg overflow-hidden shadow-dark-card",children:[s.jsxs("div",{className:"bg-neutral-800 px-6 py-4 border-b border-neutral-700",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Zs,{className:"w-6 h-6 text-primary-500"}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100",children:"Email Message"})]}),s.jsxs("div",{className:"space-y-2 text-small",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-400",children:"From: "}),s.jsx("span",{className:"text-neutral-100",children:b(a.from)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-400",children:"Subject: "}),s.jsx("span",{className:"text-neutral-100 font-medium",children:b(a.subject)})]}),a.hasAttachment&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-neutral-700 rounded",children:[s.jsx(Tt,{className:"w-4 h-4 text-warning-500"}),s.jsxs("span",{className:"text-neutral-100",children:[" ",a.attachmentName]})]})]})]}),s.jsx("div",{className:"px-6 py-6",children:s.jsx("div",{className:"text-body text-neutral-100 leading-relaxed whitespace-pre-wrap",children:b(a.body)})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-body font-semibold text-neutral-100",children:"Click Suspicious Elements:"}),s.jsx("div",{className:"grid gap-3",children:r.map(w=>{const N=d.includes(w.id);return n.includes(w.id),s.jsx("button",{onClick:()=>{y(w.id),g(N?null:w.element)},onMouseEnter:()=>g(w.element),onMouseLeave:()=>g(null),className:`p-4 rounded-lg border-2 transition-all text-left ${N?"bg-warning-900/30 border-warning-600":"bg-neutral-800 border-neutral-700 hover:border-primary-500"}`,disabled:u,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${N?"bg-warning-600 border-warning-600":"border-neutral-600"}`,children:N&&s.jsx(me,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:`text-caption font-semibold px-2 py-0.5 rounded ${w.type==="sender"?"bg-error-900/50 text-error-400":w.type==="link"?"bg-warning-900/50 text-warning-400":w.type==="urgency"?"bg-orange-900/50 text-orange-400":w.type==="grammar"?"bg-purple-900/50 text-purple-400":w.type==="attachment"?"bg-red-900/50 text-red-400":"bg-blue-900/50 text-blue-400"}`,children:w.type})}),s.jsx("p",{className:"text-small text-neutral-100",children:w.description})]})]})},w.id)})})]}),s.jsx("div",{className:"bg-neutral-800 border border-neutral-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-small text-neutral-400",children:[s.jsx("strong",{className:"text-neutral-100",children:"Tip:"})," Hover over each clue to highlight the suspicious element in the email. Real phishing emails often have multiple red flags including suspicious sender addresses, grammatical errors, urgent language, and suspicious links."]})}),s.jsxs("button",{onClick:v,disabled:u||d.length===0,className:"w-full px-6 py-4 bg-primary-500 text-white font-semibold rounded-lg hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(me,{className:"w-5 h-5"}),u?"Submitting...":`Submit Analysis (${d.length} clues selected)`]})]})}function Gv({features:a,correctAnswer:r,onSubmit:n,disabled:l}){const[o,u]=T.useState(null),[d,m]=T.useState(!1),p=()=>{o&&n(o)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Compare these two websites side-by-side and identify which one is legitimate. Look carefully at the security indicators, URL structure, and design quality."]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("button",{onClick:()=>u("left"),disabled:l,className:`p-6 rounded-lg border-2 transition-all text-left ${o==="left"?"bg-primary-900/30 border-primary-500 shadow-dark-card-hover":"bg-neutral-800 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${o==="left"?"bg-primary-600":"bg-neutral-700"}`,children:s.jsx(rc,{className:"w-6 h-6 text-neutral-100"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Website A"}),s.jsx("div",{className:"text-caption text-neutral-400",children:"Click to select as legitimate"})]})]}),s.jsx("div",{className:"space-y-3",children:a.map(g=>s.jsxs("div",{className:"bg-neutral-900 p-3 rounded border border-neutral-700",children:[s.jsx("div",{className:"text-small font-semibold text-neutral-300 mb-1",children:g.feature}),s.jsx("div",{className:"text-body text-neutral-100",children:g.real})]},g.id))}),o==="left"&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-primary-400",children:[s.jsx(me,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:"Selected"})]})]}),s.jsxs("button",{onClick:()=>u("right"),disabled:l,className:`p-6 rounded-lg border-2 transition-all text-left ${o==="right"?"bg-primary-900/30 border-primary-500 shadow-dark-card-hover":"bg-neutral-800 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`p-2 rounded-lg ${o==="right"?"bg-primary-600":"bg-neutral-700"}`,children:s.jsx(Sv,{className:"w-6 h-6 text-neutral-100"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Website B"}),s.jsx("div",{className:"text-caption text-neutral-400",children:"Click to select as legitimate"})]})]}),s.jsx("div",{className:"space-y-3",children:a.map(g=>s.jsxs("div",{className:"bg-neutral-900 p-3 rounded border border-neutral-700",children:[s.jsx("div",{className:"text-small font-semibold text-neutral-300 mb-1",children:g.feature}),s.jsx("div",{className:"text-body text-neutral-100",children:g.fake})]},g.id))}),o==="right"&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-primary-400",children:[s.jsx(me,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:"Selected"})]})]})]}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(rc,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:d?"Hide Security Tips":"Show Security Tips"})]}),d&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Check for HTTPS in the URL and a valid padlock icon"}),s.jsx("p",{children:" Look for spelling errors or unusual characters in the domain name"}),s.jsx("p",{children:" Verify the certificate information and expiration date"}),s.jsx("p",{children:" Examine the overall design quality and professionalism"}),s.jsx("p",{children:" Be suspicious of urgent warnings or pressure tactics"})]})]}),s.jsx("button",{onClick:p,disabled:!o||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${!o||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":"Submit Answer"})]})}function Jv({sensitiveData:a,correctAnswer:r,onSubmit:n,disabled:l}){const[o,u]=T.useState("http"),[d,m]=T.useState(!1),[p,g]=T.useState(""),y=()=>{p&&n(p)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Learn the difference between HTTP and HTTPS by toggling between connection types. Observe how your data is protected (or exposed) with each protocol."]})}),s.jsxs("div",{className:"bg-neutral-800 p-6 rounded-lg border border-neutral-700",children:[s.jsx("div",{className:"text-h4 text-neutral-100 mb-4",children:"Select Connection Type"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>u("http"),disabled:l,className:`p-4 rounded-lg border-2 transition-all ${o==="http"?"bg-error-900/30 border-error-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:s.jsx(wv,{className:"w-8 h-8 text-error-400"})}),s.jsx("div",{className:"text-h4 text-neutral-100 mb-1",children:"HTTP"}),s.jsx("div",{className:"text-small text-neutral-400",children:"Not Secure"})]}),s.jsxs("button",{onClick:()=>u("https"),disabled:l,className:`p-4 rounded-lg border-2 transition-all ${o==="https"?"bg-success-900/30 border-success-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:s.jsx(rr,{className:"w-8 h-8 text-success-400"})}),s.jsx("div",{className:"text-h4 text-neutral-100 mb-1",children:"HTTPS"}),s.jsx("div",{className:"text-small text-neutral-400",children:"Secure"})]})]})]}),s.jsxs("div",{className:`p-6 rounded-lg border-2 transition-all ${o==="https"?"bg-success-900/20 border-success-700":"bg-error-900/20 border-error-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[o==="https"?s.jsx(rc,{className:"w-6 h-6 text-success-400"}):s.jsx(Tt,{className:"w-6 h-6 text-error-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:o==="https"?"Encrypted Connection":"Unencrypted Connection"}),s.jsx("div",{className:"text-small text-neutral-400",children:o==="https"?"Your data is protected with encryption":"Your data is sent in plain text"})]})]}),s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 px-4 py-2 bg-neutral-800 hover:bg-neutral-700 rounded-lg transition-colors",children:[d?s.jsx(gv,{className:"w-5 h-5"}):s.jsx(Jn,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-small text-neutral-100",children:[d?"Hide":"Show"," Data"]})]})]}),d&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsx("div",{className:"text-small font-semibold text-neutral-300 mb-2",children:"Data Being Transmitted:"}),a.map((b,v)=>s.jsx("div",{className:"bg-neutral-900 p-3 rounded border border-neutral-700",children:s.jsx("div",{className:"font-mono text-small",children:o==="https"?s.jsxs("span",{className:"text-success-400",children:[" ",b.split("").map(()=>"").join("")]}):s.jsxs("span",{className:"text-error-400",children:[" ",b]})})},v)),s.jsx("div",{className:`p-3 rounded mt-4 ${o==="https"?"bg-success-900/20 border border-success-700":"bg-error-900/20 border border-error-700"}`,children:s.jsx("p",{className:"text-small text-neutral-300",children:o==="https"?" Data is encrypted and cannot be read by attackers":" Data is visible to anyone intercepting the connection"})})]})]}),s.jsxs("div",{className:"bg-neutral-800 p-6 rounded-lg border border-neutral-700",children:[s.jsx("div",{className:"text-h4 text-neutral-100 mb-4",children:"Which connection type should you use for sensitive data?"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>g("http"),disabled:l,className:`w-full p-4 rounded-lg border-2 transition-all text-left ${p==="http"?"bg-primary-900/30 border-primary-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${p==="http"?"bg-primary-500 border-primary-500":"border-neutral-600"}`,children:p==="http"&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsx("span",{className:"text-body text-neutral-100",children:"HTTP - Faster and simpler"})]})}),s.jsx("button",{onClick:()=>g("https"),disabled:l,className:`w-full p-4 rounded-lg border-2 transition-all text-left ${p==="https"?"bg-primary-900/30 border-primary-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${p==="https"?"bg-primary-500 border-primary-500":"border-neutral-600"}`,children:p==="https"&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsx("span",{className:"text-body text-neutral-100",children:"HTTPS - Encrypted and secure"})]})})]})]}),s.jsx("button",{onClick:y,disabled:!p||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${!p||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":"Submit Answer"})]})}function Qv({scenarios:a,correctAnswers:r,onSubmit:n,disabled:l}){const[o,u]=T.useState([]),[d,m]=T.useState(!1),p=v=>{o.includes(v)?u(o.filter(j=>j!==v)):u([...o,v])},g=()=>{n(o.sort().join(","))},y=v=>{switch(v){case"encrypted":return s.jsx(lt,{className:"w-5 h-5 text-success-400"});case"password":return s.jsx(lt,{className:"w-5 h-5 text-warning-400"});case"open":return s.jsx(Av,{className:"w-5 h-5 text-error-400"});default:return s.jsx(nf,{className:"w-5 h-5 text-neutral-400"})}},b=v=>{switch(v){case"encrypted":return{text:"WPA2/WPA3 Encrypted",color:"text-success-400"};case"password":return{text:"Password Protected",color:"text-warning-400"};case"open":return{text:"Open Network",color:"text-error-400"};default:return{text:"Unknown",color:"text-neutral-400"}}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Identify which public WiFi networks are safe to use. Select all scenarios where it's safe to connect and perform sensitive activities."]})}),s.jsx("div",{className:"space-y-4",children:a.map(v=>{const j=o.includes(v.id),_=b(v.securityLevel);return s.jsx("button",{onClick:()=>p(v.id),disabled:l,className:`w-full p-5 rounded-lg border-2 transition-all text-left ${j?"bg-primary-900/30 border-primary-500 shadow-dark-card-hover":"bg-neutral-800 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`mt-1 w-6 h-6 rounded border-2 flex items-center justify-center flex-shrink-0 ${j?"bg-primary-500 border-primary-500":"border-neutral-600"}`,children:j&&s.jsx(me,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100 mb-1",children:v.location}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nf,{className:"w-4 h-4 text-neutral-400"}),s.jsx("span",{className:"text-small text-neutral-300 font-medium",children:v.networkName})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 bg-neutral-900 p-3 rounded border border-neutral-700",children:[y(v.securityLevel),s.jsx("span",{className:`text-small font-medium ${_.color}`,children:_.text})]}),v.riskFactors.length>0&&s.jsxs("div",{className:"bg-error-900/20 border border-error-700 p-3 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-error-400"}),s.jsx("span",{className:"text-small font-semibold text-error-400",children:"Risk Factors"})]}),s.jsx("ul",{className:"space-y-1",children:v.riskFactors.map((w,N)=>s.jsxs("li",{className:"text-small text-neutral-300 ml-6",children:[" ",w]},N))})]}),v.safetyTips.length>0&&s.jsxs("div",{className:"bg-success-900/20 border border-success-700 p-3 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(me,{className:"w-4 h-4 text-success-400"}),s.jsx("span",{className:"text-small font-semibold text-success-400",children:"Safety Measures"})]}),s.jsx("ul",{className:"space-y-1",children:v.safetyTips.map((w,N)=>s.jsxs("li",{className:"text-small text-neutral-300 ml-6",children:[" ",w]},N))})]})]})]})},v.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(lt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:d?"Hide WiFi Safety Tips":"Show WiFi Safety Tips"})]}),d&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Avoid open/unsecured networks for sensitive activities"}),s.jsx("p",{children:" Use VPN when connecting to public WiFi"}),s.jsx("p",{children:" Verify network names with staff to avoid fake networks"}),s.jsx("p",{children:" Turn off auto-connect and file sharing on public networks"}),s.jsx("p",{children:" Use HTTPS websites and secure apps only"})]})]}),s.jsx("button",{onClick:g,disabled:o.length===0||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${o.length===0||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":`Submit Answer (${o.length} selected)`})]})}function Yv({links:a,correctAnswers:r,onSubmit:n,disabled:l}){const[o,u]=T.useState([]),[d,m]=T.useState([]),[p,g]=T.useState(!1),y=_=>{o.includes(_)?u(o.filter(w=>w!==_)):u([...o,_])},b=_=>{d.includes(_)||m([...d,_])},v=()=>{n(o.sort().join(","))},j=_=>{const w=[];return _.startsWith("http://")&&w.push("Uses insecure HTTP protocol"),(_.includes("@")||_.match(/[--]/)||_.match(/[^\x00-\x7F]/))&&w.push("Contains suspicious characters"),_.match(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/)&&w.push("Uses IP address instead of domain name"),_.match(/\.(xyz|tk|ml|ga|cf|gq)$/)&&w.push("Uses suspicious top-level domain"),_.match(/(g00gle|amaz0n|micr0soft|faceb00k|paypa1)/i)&&w.push("Possible typosquatting attempt"),w};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Identify suspicious links by revealing their actual URLs. Hover over each link to see where it really goes, then select all the SAFE links."]})}),s.jsx("div",{className:"space-y-4",children:a.map(_=>{const w=o.includes(_.id),N=d.includes(_.id),$=j(_.actualUrl);return s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-neutral-900 border-b border-neutral-700",children:s.jsx("div",{className:"text-small text-neutral-400",children:_.context})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx(vv,{className:"w-5 h-5 text-primary-400 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-body text-primary-400 font-medium mb-2 break-all",children:_.displayText}),s.jsxs("button",{onClick:()=>b(_.id),disabled:N,className:`flex items-center gap-2 px-3 py-2 rounded transition-all ${N?"bg-neutral-700 text-neutral-400 cursor-default":"bg-primary-900/30 text-primary-400 hover:bg-primary-900/50"}`,children:[s.jsx(Jn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small",children:N?"Actual URL Revealed":"Reveal Actual URL"})]})]})]}),N&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:`p-4 rounded-lg border-2 ${_.isSafe?"bg-success-900/20 border-success-700":"bg-error-900/20 border-error-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pv,{className:`w-4 h-4 ${_.isSafe?"text-success-400":"text-error-400"}`}),s.jsx("span",{className:"text-small font-semibold text-neutral-300",children:"Actual Destination:"})]}),s.jsx("div",{className:"font-mono text-small text-neutral-100 break-all bg-neutral-900 p-2 rounded",children:_.actualUrl})]}),$.length>0&&s.jsxs("div",{className:"bg-error-900/20 border border-error-700 p-3 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-error-400"}),s.jsx("span",{className:"text-small font-semibold text-error-400",children:"Warning Signs Detected"})]}),s.jsx("ul",{className:"space-y-1",children:$.map((E,R)=>s.jsxs("li",{className:"text-small text-neutral-300 ml-6",children:[" ",E]},R))})]}),_.warningSign&&s.jsx("div",{className:"bg-warning-900/20 border border-warning-700 p-3 rounded",children:s.jsxs("div",{className:"text-small text-neutral-300",children:[s.jsx("strong",{className:"text-warning-400",children:"Key Indicator:"})," ",_.warningSign]})}),s.jsx("button",{onClick:()=>y(_.id),disabled:l,className:`w-full p-3 rounded-lg border-2 transition-all ${w?"bg-primary-900/30 border-primary-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:w?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-5 h-5 text-primary-400"}),s.jsx("span",{className:"text-small font-medium text-primary-400",children:"Selected as SAFE"})]}):s.jsx("span",{className:"text-small font-medium text-neutral-300",children:"Click to mark as SAFE"})})})]})]})]},_.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(Tt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:p?"Hide Link Safety Tips":"Show Link Safety Tips"})]}),p&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Always hover over links to see the actual URL before clicking"}),s.jsx("p",{children:" Check for HTTPS and a valid padlock icon"}),s.jsx("p",{children:" Be suspicious of URLs with typos or unusual characters"}),s.jsx("p",{children:" Verify the domain matches the legitimate website"}),s.jsx("p",{children:" Watch out for IP addresses instead of domain names"}),s.jsx("p",{children:" Be cautious with shortened URLs (bit.ly, tinyurl, etc.)"})]})]}),s.jsx("button",{onClick:v,disabled:d.length!==a.length||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${d.length!==a.length||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":d.length!==a.length?`Reveal all links first (${d.length}/${a.length})`:"Submit Answer"})]})}function Xv({settings:a,correctSettings:r,onSubmit:n,disabled:l}){const[o,u]=T.useState([]),[d,m]=T.useState(!1),p=_=>{o.includes(_)?u(o.filter(w=>w!==_)):u([...o,_])},g=()=>{n(o.sort().join(","))},y=_=>{switch(_){case"shield":return s.jsx(lt,{className:"w-6 h-6"});case"eye":return s.jsx(Jn,{className:"w-6 h-6"});case"cookie":return s.jsx(hv,{className:"w-6 h-6"});case"lock":return s.jsx(rr,{className:"w-6 h-6"});default:return s.jsx(lt,{className:"w-6 h-6"})}},v=(()=>{const _=o.filter(E=>a.find(R=>R.id===E&&R.isSecure)).length,w=o.filter(E=>a.find(R=>R.id===E&&!R.isSecure)).length,N=a.filter(E=>E.isSecure).length;return Math.max(0,Math.round((_-w)/N*100))})(),j=_=>_>=80?"text-success-400":_>=50?"text-warning-400":"text-error-400";return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Configure your browser security settings by enabling the recommended protections. Toggle each setting on or off to create a secure browsing configuration."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Current Security Score"}),s.jsxs("div",{className:`text-h2 font-bold ${j(v)}`,children:[v,"%"]})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${v>=80?"bg-success-500":v>=50?"bg-warning-500":"bg-error-500"}`,style:{width:`${v}%`}})}),s.jsxs("p",{className:"text-small text-neutral-400 mt-2",children:[o.length," of ",a.length," settings configured"]})]}),s.jsx("div",{className:"space-y-3",children:a.map(_=>{const w=o.includes(_.id);return s.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${w?"bg-primary-900/30 border-primary-500":"bg-neutral-800 border-neutral-700"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${w?"bg-primary-600":"bg-neutral-700"}`,children:s.jsx("div",{className:w?"text-white":"text-neutral-400",children:y(_.icon)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-body font-semibold text-neutral-100 mb-1",children:_.name}),s.jsx("div",{className:"text-small text-neutral-400",children:_.description})]}),s.jsx("button",{onClick:()=>p(_.id),disabled:l,className:`relative w-14 h-7 rounded-full transition-all flex-shrink-0 ${w?"bg-primary-500":"bg-neutral-600"} ${l?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full transition-all ${w?"left-8":"left-1"}`})})]}),s.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-caption ${_.isSecure?"bg-success-900/30 text-success-400 border border-success-700":"bg-neutral-700 text-neutral-400 border border-neutral-600"}`,children:[_.isSecure&&s.jsx(me,{className:"w-3 h-3"}),s.jsxs("span",{children:["Impact: ",_.impact]})]})]})]})},_.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(lt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:d?"Hide Browser Security Tips":"Show Browser Security Tips"})]}),d&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Enable pop-up blockers to prevent unwanted windows"}),s.jsx("p",{children:" Use HTTPS-only mode for secure connections"}),s.jsx("p",{children:" Block third-party cookies to limit tracking"}),s.jsx("p",{children:" Keep your browser and extensions updated"}),s.jsx("p",{children:" Enable safe browsing warnings for dangerous sites"}),s.jsx("p",{children:" Regularly clear browsing data and cache"})]})]}),s.jsx("button",{onClick:g,disabled:o.length===0||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${o.length===0||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":"Submit Configuration"})]})}function Zv({privacyOptions:a,onSubmit:r,disabled:n}){const[l,o]=T.useState({}),[u,d]=T.useState(!1),m=(_,w)=>{o({...l,[_]:w})},p=()=>{const _=Object.entries(l).sort(([w],[N])=>w.localeCompare(N)).map(([w,N])=>`${w}:${N}`).join(",");r(_)},y=(()=>{const _=Object.keys(l).length,w=Object.entries(l).filter(([N,$])=>{const E=a.find(R=>R.id===N);return E&&$===E.recommendedOption}).length;return _===0?0:Math.round(w/a.length*100)})(),b=_=>_>=80?"text-success-400":_>=50?"text-warning-400":"text-error-400",v=_=>{switch(_.toLowerCase()){case"profile":return s.jsx(Ov,{className:"w-5 h-5"});case"location":return s.jsx(bm,{className:"w-5 h-5"});case"notifications":return s.jsx(ov,{className:"w-5 h-5"});case"messages":return s.jsx(Zs,{className:"w-5 h-5"});case"visibility":return s.jsx(Jn,{className:"w-5 h-5"});default:return s.jsx(rr,{className:"w-5 h-5"})}},j=_=>{const w={high:"bg-error-900/30 text-error-400 border-error-700",medium:"bg-warning-900/30 text-warning-400 border-warning-700",low:"bg-success-900/30 text-success-400 border-success-700"};return w[_]||w.medium};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Configure privacy settings to protect your personal information. Choose the most privacy-conscious option for each setting to maximize your privacy score."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Privacy Score"}),s.jsxs("div",{className:"text-small text-neutral-400",children:[Object.keys(l).length," of ",a.length," settings configured"]})]}),s.jsxs("div",{className:`text-h2 font-bold ${b(y)}`,children:[y,"%"]})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${y>=80?"bg-success-500":y>=50?"bg-warning-500":"bg-error-500"}`,style:{width:`${y}%`}})})]}),s.jsx("div",{className:"space-y-4",children:a.map(_=>{const w=l[_.id];return _.recommendedOption,s.jsx("div",{className:"bg-neutral-800 border border-neutral-700 p-5 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-neutral-700 rounded-lg text-neutral-300",children:v(_.category)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("div",{className:"text-body font-semibold text-neutral-100",children:_.setting}),s.jsxs("div",{className:`px-2 py-1 rounded text-caption border ${j(_.privacyImpact)}`,children:[_.privacyImpact," impact"]})]}),s.jsx("div",{className:"text-small text-neutral-400 mb-3",children:_.description}),s.jsx("div",{className:"space-y-2",children:_.options.map(N=>{const $=w===N,E=N===_.recommendedOption;return s.jsx("button",{onClick:()=>m(_.id,N),disabled:n,className:`w-full p-3 rounded-lg border-2 transition-all text-left ${$?E?"bg-success-900/20 border-success-500":"bg-primary-900/30 border-primary-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${n?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${$?"bg-primary-500 border-primary-500":"border-neutral-600"}`,children:$&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),s.jsx("span",{className:"text-small text-neutral-100 flex-1",children:N}),E&&s.jsxs("div",{className:"flex items-center gap-1 text-success-400",children:[s.jsx(me,{className:"w-4 h-4"}),s.jsx("span",{className:"text-caption",children:"Recommended"})]})]})},N)})})]})]})},_.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>d(!u),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(rr,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:u?"Hide Privacy Tips":"Show Privacy Tips"})]}),u&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Limit who can see your profile and posts"}),s.jsx("p",{children:" Disable location tracking when not needed"}),s.jsx("p",{children:" Review app permissions regularly"}),s.jsx("p",{children:" Use two-factor authentication"}),s.jsx("p",{children:" Be selective about friend requests"}),s.jsx("p",{children:" Regularly audit third-party app access"})]})]}),s.jsx("button",{onClick:p,disabled:Object.keys(l).length!==a.length||n,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${Object.keys(l).length!==a.length||n?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:n?"Submitting...":Object.keys(l).length!==a.length?`Configure all settings (${Object.keys(l).length}/${a.length})`:"Submit Privacy Configuration"})]})}function ew({scenarios:a,correctAnswers:r,onSubmit:n,disabled:l}){const[o,u]=T.useState({}),[d,m]=T.useState(!1),p=(v,j)=>{u({...o,[v]:j})},g=()=>{const v=Object.entries(o).sort(([j],[_])=>j.localeCompare(_)).map(([j,_])=>`${j}:${_}`).join(",");n(v)},y=v=>{switch(v){case"location":return"";case"photo":return"";case"personal-info":return"";case"financial":return"";case"work":return"";default:return""}},b=v=>v.split("-").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" ");return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Review each social media sharing scenario and decide whether it's safe or risky to share. Consider privacy implications, security risks, and potential consequences."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-small font-semibold text-neutral-100",children:"Progress"}),s.jsxs("div",{className:"text-small text-neutral-400",children:[Object.keys(o).length," of ",a.length," answered"]})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-2",children:s.jsx("div",{className:"h-2 bg-primary-500 rounded-full transition-all duration-300",style:{width:`${Object.keys(o).length/a.length*100}%`}})})]}),s.jsx("div",{className:"space-y-4",children:a.map(v=>{const j=o[v.id],_=j!==void 0;return s.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${_?"bg-neutral-800 border-primary-500":"bg-neutral-800 border-neutral-700"}`,children:[s.jsx("div",{className:"p-4 bg-neutral-900 border-b border-neutral-700",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"text-h3",children:y(v.contentType)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-small font-semibold text-primary-400",children:b(v.contentType)}),s.jsx("div",{className:"text-caption text-neutral-400",children:v.context})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"bg-neutral-900 border border-neutral-700 p-4 rounded-lg mb-4",children:s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(kv,{className:"w-4 h-4 text-neutral-400 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"text-body text-neutral-100 italic",children:['"',v.content,'"']})]})}),v.risks.length>0&&s.jsxs("div",{className:"bg-warning-900/20 border border-warning-700 p-3 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-warning-400"}),s.jsx("span",{className:"text-small font-semibold text-warning-400",children:"Potential Risks"})]}),s.jsx("ul",{className:"space-y-1",children:v.risks.map((w,N)=>s.jsxs("li",{className:"text-small text-neutral-300 ml-6",children:[" ",w]},N))})]}),v.safeAlternative&&s.jsxs("div",{className:"bg-success-900/20 border border-success-700 p-3 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(me,{className:"w-4 h-4 text-success-400"}),s.jsx("span",{className:"text-small font-semibold text-success-400",children:"Safe Alternative"})]}),s.jsx("p",{className:"text-small text-neutral-300 ml-6",children:v.safeAlternative})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>p(v.id,!0),disabled:l,className:`p-4 rounded-lg border-2 transition-all ${j===!0?"bg-success-900/30 border-success-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(me,{className:`w-5 h-5 ${j===!0?"text-success-400":"text-neutral-400"}`}),s.jsx("span",{className:`text-small font-medium ${j===!0?"text-success-400":"text-neutral-300"}`,children:"Safe to Share"})]})}),s.jsx("button",{onClick:()=>p(v.id,!1),disabled:l,className:`p-4 rounded-lg border-2 transition-all ${j===!1?"bg-error-900/30 border-error-500":"bg-neutral-900 border-neutral-700 hover:border-neutral-600"} ${l?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ym,{className:`w-5 h-5 ${j===!1?"text-error-400":"text-neutral-400"}`}),s.jsx("span",{className:`text-small font-medium ${j===!1?"text-error-400":"text-neutral-300"}`,children:"Risky to Share"})]})})]})]})]},v.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(Jn,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:d?"Hide Sharing Safety Tips":"Show Sharing Safety Tips"})]}),d&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Never share real-time location publicly"}),s.jsx("p",{children:" Avoid posting vacation plans before traveling"}),s.jsx("p",{children:" Don't share financial or sensitive personal information"}),s.jsx("p",{children:" Be cautious with photos that reveal personal details"}),s.jsx("p",{children:" Check privacy settings before posting"}),s.jsx("p",{children:" Consider who can see your posts (public vs. friends)"})]})]}),s.jsx("button",{onClick:g,disabled:Object.keys(o).length!==a.length||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${Object.keys(o).length!==a.length||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":Object.keys(o).length!==a.length?`Answer all scenarios (${Object.keys(o).length}/${a.length})`:"Submit Answers"})]})}function tw({profileData:a,redFlags:r,correctFlags:n,minRequiredFlags:l,onSubmit:o,disabled:u}){const[d,m]=T.useState([]),[p,g]=T.useState(!1),y=_=>{d.includes(_)?m(d.filter(w=>w!==_)):m([...d,_])},b=()=>{o(d.sort().join(","))},v=_=>{switch(_){case"high":return"bg-error-900/30 text-error-400 border-error-700";case"medium":return"bg-warning-900/30 text-warning-400 border-warning-700";case"low":return"bg-neutral-700 text-neutral-300 border-neutral-600";default:return"bg-neutral-700 text-neutral-300 border-neutral-600"}},j=_=>{switch(_.toLowerCase()){case"account age":return s.jsx(cv,{className:"w-5 h-5"});case"followers":return s.jsx(_c,{className:"w-5 h-5"});case"profile photo":return s.jsx(tc,{className:"w-5 h-5"});case"content":return s.jsx(nc,{className:"w-5 h-5"});default:return s.jsx(yv,{className:"w-5 h-5"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Analyze this social media profile and identify red flags that suggest it might be fake or suspicious. Select at least ",l," warning signs to complete the challenge."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-6 bg-neutral-900 border-b border-neutral-700",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-neutral-700 flex items-center justify-center",children:s.jsx(nc,{className:"w-10 h-10 text-neutral-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-h3 text-neutral-100 mb-1",children:a.username}),s.jsx("div",{className:"text-small text-neutral-400 mb-3",children:a.bio}),s.jsxs("div",{className:"flex gap-6 text-small",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-400",children:"Joined:"})," ",s.jsx("span",{className:"text-neutral-100",children:a.joinDate})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-neutral-400",children:"Followers:"})," ",s.jsx("span",{className:"text-neutral-100",children:a.followerCount})]})]})]})]})}),s.jsx("div",{className:"p-4 bg-neutral-900/50",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(tc,{className:"w-4 h-4 text-neutral-400 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"text-small text-neutral-300",children:[s.jsx("strong",{children:"Profile Photo:"})," ",a.photoDescription]})]})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Identify Red Flags"}),s.jsxs("div",{className:"text-small text-neutral-400",children:[d.length," selected (min. ",l," required)"]})]}),s.jsx("div",{className:"space-y-3",children:r.map(_=>{const w=d.includes(_.id);return s.jsx("button",{onClick:()=>y(_.id),disabled:u,className:`w-full p-4 rounded-lg border-2 transition-all text-left ${w?"bg-warning-900/20 border-warning-500 shadow-dark-card-hover":"bg-neutral-800 border-neutral-700 hover:border-neutral-600"} ${u?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 w-6 h-6 rounded border-2 flex items-center justify-center flex-shrink-0 ${w?"bg-warning-500 border-warning-500":"border-neutral-600"}`,children:w&&s.jsx(me,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-neutral-400",children:j(_.category)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-small font-semibold text-neutral-300 mb-1",children:_.category}),s.jsx("div",{className:"text-body text-neutral-100",children:_.indicator})]})]}),s.jsx("div",{className:`px-2 py-1 rounded text-caption border ${v(_.severity)}`,children:_.severity})]}),s.jsx("div",{className:"text-small text-neutral-400 ml-7",children:_.description})]})]})},_.id)})})]}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(Tt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:p?"Hide Profile Analysis Tips":"Show Profile Analysis Tips"})]}),p&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Check account creation date - very recent accounts may be suspicious"}),s.jsx("p",{children:" Look at follower-to-following ratio - fake accounts often follow many but have few followers"}),s.jsx("p",{children:" Examine profile photo - stock photos or celebrities are red flags"}),s.jsx("p",{children:" Review bio and posts for generic or copied content"}),s.jsx("p",{children:" Be wary of accounts with little to no activity"}),s.jsx("p",{children:" Watch for unusual posting patterns or spam-like behavior"})]})]}),s.jsx("button",{onClick:b,disabled:d.length<l||u,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${d.length<l||u?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:u?"Submitting...":d.length<l?`Select at least ${l} red flags`:"Submit Analysis"})]})}function rw({footprints:a,correctRemovals:r,onSubmit:n,disabled:l}){const[o,u]=T.useState([]),[d,m]=T.useState(!1),p=w=>{o.includes(w)?u(o.filter(N=>N!==w)):u([...o,w])},g=()=>{n(o.sort().join(","))},y=w=>{switch(w){case"social-media":return s.jsx(ec,{className:"w-5 h-5"});case"search-history":return s.jsx(Jn,{className:"w-5 h-5"});case"location":return s.jsx(bm,{className:"w-5 h-5"});case"photos":return s.jsx(tc,{className:"w-5 h-5"});case"accounts":return s.jsx(ec,{className:"w-5 h-5"});default:return s.jsx(ka,{className:"w-5 h-5"})}},b=w=>w.split("-").map(N=>N.charAt(0).toUpperCase()+N.slice(1)).join(" "),v=w=>{switch(w){case"high":return"bg-error-900/30 text-error-400 border-error-700";case"medium":return"bg-warning-900/30 text-warning-400 border-warning-700";case"low":return"bg-success-900/30 text-success-400 border-success-700";default:return"bg-neutral-700 text-neutral-300 border-neutral-600"}},_=(()=>{const w=a.filter($=>$.riskLevel==="high").length,N=o.filter($=>{const E=a.find(R=>R.id===$);return E&&E.riskLevel==="high"}).length;return w===0?100:Math.round(N/w*100)})();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Review your digital footprint and decide which items should be removed to protect your privacy. Click the trash icon to mark items for removal."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Cleanup Progress"}),s.jsxs("div",{className:"text-small text-neutral-400",children:[o.length," items marked for removal"]})]}),s.jsxs("div",{className:"text-h2 font-bold text-primary-400",children:[_,"%"]})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-3",children:s.jsx("div",{className:"h-3 bg-primary-500 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]}),s.jsx("div",{className:"space-y-3",children:a.map(w=>{const N=o.includes(w.id);return s.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${N?"bg-neutral-900 border-neutral-600 opacity-60":"bg-neutral-800 border-neutral-700"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-neutral-700",children:s.jsx("div",{className:"text-neutral-400",children:y(w.category)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-caption text-neutral-500 mb-1",children:b(w.category)}),s.jsx("div",{className:`text-body font-semibold mb-1 ${N?"text-neutral-500 line-through":"text-neutral-100"}`,children:w.item}),s.jsx("div",{className:"text-small text-neutral-400",children:w.description})]}),s.jsxs("div",{className:`px-2 py-1 rounded text-caption border ${v(w.riskLevel)}`,children:[w.riskLevel," risk"]})]}),s.jsx("button",{onClick:()=>p(w.id),disabled:l,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all mt-3 ${N?"bg-success-900/30 border-2 border-success-500 text-success-400":"bg-error-900/30 border-2 border-error-700 text-error-400 hover:bg-error-900/50"} ${l?"opacity-50 cursor-not-allowed":""}`,children:N?s.jsxs(s.Fragment,{children:[s.jsx(uv,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small font-medium",children:"Marked for Removal"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Tv,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small font-medium",children:"Remove This Item"})]})})]})]})},w.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(ka,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:d?"Hide Digital Footprint Tips":"Show Digital Footprint Tips"})]}),d&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Remove old social media posts that contain sensitive information"}),s.jsx("p",{children:" Delete unused online accounts to minimize exposure"}),s.jsx("p",{children:" Clear location history from maps and social media apps"}),s.jsx("p",{children:" Remove photos that reveal personal details or location"}),s.jsx("p",{children:" Request data deletion from websites you no longer use"}),s.jsx("p",{children:" Use privacy-focused search engines to limit tracking"})]})]}),s.jsx("button",{onClick:g,disabled:o.length===0||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${o.length===0||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":"Complete Cleanup"})]})}function nw({malwareTypes:a,requiredLearning:r,onSubmit:n,disabled:l}){const[o,u]=T.useState([]),[d,m]=T.useState([]),[p,g]=T.useState(!1),y=j=>{o.includes(j)?u(o.filter(_=>_!==j)):u([...o,j])},b=j=>{d.includes(j)||m([...d,j])},v=()=>{n(d.sort().join(","))};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Learn about different types of malware by reading each section. Mark at least ",r," malware types as learned to complete the challenge."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Learning Progress"}),s.jsxs("div",{className:"text-body text-primary-400 font-semibold",children:[d.length," / ",r," required"]})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-3",children:s.jsx("div",{className:"h-3 bg-primary-500 rounded-full transition-all duration-300",style:{width:`${Math.min(d.length/r*100,100)}%`}})})]}),s.jsx("div",{className:"space-y-3",children:a.map(j=>{const _=o.includes(j.id),w=d.includes(j.id);return s.jsxs("div",{className:`border-2 rounded-lg overflow-hidden transition-all ${w?"bg-success-900/20 border-success-700":"bg-neutral-800 border-neutral-700"}`,children:[s.jsxs("button",{onClick:()=>y(j.id),className:"w-full p-4 flex items-center justify-between hover:bg-neutral-900/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-h3",children:j.icon}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"text-body font-semibold text-neutral-100 flex items-center gap-2",children:[j.name,w&&s.jsx(me,{className:"w-4 h-4 text-success-400"})]}),s.jsx("div",{className:"text-small text-neutral-400",children:j.description})]})]}),_?s.jsx(vc,{className:"w-5 h-5 text-neutral-400 flex-shrink-0"}):s.jsx(xc,{className:"w-5 h-5 text-neutral-400 flex-shrink-0"})]}),_&&s.jsxs("div",{className:"p-4 border-t border-neutral-700 bg-neutral-900/30 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gm,{className:"w-4 h-4 text-error-400"}),s.jsx("div",{className:"text-small font-semibold text-neutral-100",children:"How It Works"})]}),s.jsx("p",{className:"text-small text-neutral-300 ml-6",children:j.howItWorks})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-warning-400"}),s.jsx("div",{className:"text-small font-semibold text-neutral-100",children:"Common Examples"})]}),s.jsx("ul",{className:"space-y-1 ml-6",children:j.examples.map((N,$)=>s.jsxs("li",{className:"text-small text-neutral-300",children:[" ",N]},$))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(lt,{className:"w-4 h-4 text-success-400"}),s.jsx("div",{className:"text-small font-semibold text-neutral-100",children:"How to Protect Yourself"})]}),s.jsx("ul",{className:"space-y-1 ml-6",children:j.prevention.map((N,$)=>s.jsxs("li",{className:"text-small text-neutral-300",children:[" ",N]},$))})]}),!w&&s.jsx("button",{onClick:()=>b(j.id),disabled:l,className:`w-full py-2 px-4 rounded-lg font-medium transition-all ${l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700"}`,children:"Mark as Learned"}),w&&s.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 text-success-400",children:[s.jsx(me,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:"Completed"})]})]})]},j.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(lt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:p?"Hide Malware Protection Tips":"Show Malware Protection Tips"})]}),p&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Keep your operating system and software updated"}),s.jsx("p",{children:" Install reputable antivirus software and keep it current"}),s.jsx("p",{children:" Be cautious with email attachments and downloads"}),s.jsx("p",{children:" Use strong, unique passwords for all accounts"}),s.jsx("p",{children:" Regularly backup important data"}),s.jsx("p",{children:" Avoid clicking on suspicious links or pop-ups"})]})]}),s.jsx("button",{onClick:v,disabled:d.length<r||l,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${d.length<r||l?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:l?"Submitting...":d.length<r?`Learn ${r-d.length} more types`:"Complete Learning"})]})}function sw({signs:a,correctSigns:r,minCorrectIdentifications:n,onSubmit:l,disabled:o}){const[u,d]=T.useState([]),[m,p]=T.useState(!1),g=j=>{u.includes(j)?d(u.filter(_=>_!==j)):d([...u,j])},y=()=>{l(u.sort().join(","))},b=j=>{switch(j){case"critical":return"bg-error-600 text-white";case"high":return"bg-error-500 text-white";case"medium":return"bg-warning-500 text-white";case"low":return"bg-neutral-600 text-white";default:return"bg-neutral-600 text-white"}},v=j=>j==="critical"||j==="high"?s.jsx(Tt,{className:"w-4 h-4"}):s.jsx(ef,{className:"w-4 h-4"});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Identify which symptoms indicate a malware infection on your computer. Select at least ",n," genuine infection signs to complete the challenge."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-h4 text-neutral-100 mb-1",children:"Detection Progress"}),s.jsxs("div",{className:"text-small text-neutral-400",children:[u.length," symptoms identified"]})]}),s.jsx("div",{className:"p-4 bg-neutral-900 rounded-lg",children:s.jsx(ef,{className:"w-8 h-8 text-primary-400"})})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-3",children:s.jsx("div",{className:"h-3 bg-primary-500 rounded-full transition-all duration-300",style:{width:`${Math.min(u.length/n*100,100)}%`}})})]}),s.jsx("div",{className:"space-y-3",children:a.map(j=>{const _=u.includes(j.id);return s.jsx("button",{onClick:()=>g(j.id),disabled:o,className:`w-full p-4 rounded-lg border-2 transition-all text-left ${_?"bg-warning-900/20 border-warning-500 shadow-dark-card-hover":"bg-neutral-800 border-neutral-700 hover:border-neutral-600"} ${o?"opacity-50 cursor-not-allowed":""}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`mt-1 w-6 h-6 rounded border-2 flex items-center justify-center flex-shrink-0 ${_?"bg-warning-500 border-warning-500":"border-neutral-600"}`,children:_&&s.jsx(me,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"text-body font-semibold text-neutral-100",children:j.symptom}),s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded text-caption ${b(j.severity)}`,children:[v(j.severity),s.jsx("span",{children:j.severity})]})]}),s.jsx("div",{className:"text-small text-neutral-400 mb-2",children:j.description}),s.jsx("div",{className:`p-3 rounded-lg ${j.isActualSign?"bg-error-900/20 border border-error-700":"bg-success-900/20 border border-success-700"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[j.isActualSign?s.jsx(Tt,{className:"w-4 h-4 text-error-400 mt-0.5 flex-shrink-0"}):s.jsx(lt,{className:"w-4 h-4 text-success-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-small text-neutral-300",children:[s.jsx("strong",{className:j.isActualSign?"text-error-400":"text-success-400",children:j.isActualSign?"Warning: ":"Normal: "}),j.explanation]})]})}),_&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-warning-400",children:[s.jsx(me,{className:"w-4 h-4"}),s.jsx("span",{className:"text-small font-medium",children:"Identified as Infection Sign"})]})]})]})},j.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(Tt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:m?"Hide Infection Warning Tips":"Show Infection Warning Tips"})]}),m&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Unexpected slowdowns or crashes may indicate malware"}),s.jsx("p",{children:" Pop-ups appearing when browser is closed are suspicious"}),s.jsx("p",{children:" Unexplained network activity could be data theft"}),s.jsx("p",{children:" New toolbars or programs you didn't install are red flags"}),s.jsx("p",{children:" Disabled security software is a critical warning sign"}),s.jsx("p",{children:" Files disappearing or changing unexpectedly need investigation"})]})]}),s.jsx("button",{onClick:y,disabled:u.length<n||o,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${u.length<n||o?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:o?"Submitting...":u.length<n?`Identify ${n-u.length} more signs`:"Submit Detection"})]})}function iw({features:a,correctFeatures:r,minRequired:n,onSubmit:l,disabled:o}){const[u,d]=T.useState([]),[m,p]=T.useState(!1),g=w=>{u.includes(w)?d(u.filter(N=>N!==w)):d([...u,w])},y=()=>{l(u.sort().join(","))},b=w=>{switch(w){case"shield":return s.jsx(lt,{className:"w-6 h-6"});case"zap":return s.jsx(_m,{className:"w-6 h-6"});case"clock":return s.jsx(xm,{className:"w-6 h-6"});case"globe":return s.jsx(ec,{className:"w-6 h-6"});case"lock":return s.jsx(rr,{className:"w-6 h-6"});default:return s.jsx(lt,{className:"w-6 h-6"})}},j=(()=>{const w=u.filter($=>{const E=a.find(R=>R.id===$);return E&&E.isEssential}).length,N=a.filter($=>$.isEssential).length;return N===0?100:Math.round(w/N*100)})(),_=w=>w>=80?"text-success-400":w>=50?"text-warning-400":"text-error-400";return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-primary-900/20 border border-primary-700 p-4 rounded-lg",children:s.jsxs("p",{className:"text-body text-neutral-100",children:[s.jsx("strong",{children:"Goal:"})," Learn about antivirus features and select the essential ones for comprehensive protection. Choose at least ",n," important features to complete the challenge."]})}),s.jsxs("div",{className:"bg-neutral-800 border border-neutral-700 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-h4 text-neutral-100",children:"Protection Level"}),s.jsxs("div",{className:"text-small text-neutral-400",children:[u.length," features enabled"]})]}),s.jsxs("div",{className:`text-h2 font-bold ${_(j)}`,children:[j,"%"]})]}),s.jsx("div",{className:"w-full bg-neutral-700 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${j>=80?"bg-success-500":j>=50?"bg-warning-500":"bg-error-500"}`,style:{width:`${j}%`}})})]}),s.jsx("div",{className:"space-y-3",children:a.map(w=>{const N=u.includes(w.id);return s.jsx("div",{className:`p-5 rounded-lg border-2 transition-all ${N?"bg-primary-900/30 border-primary-500 shadow-dark-card-hover":"bg-neutral-800 border-neutral-700"}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${N?"bg-primary-600":"bg-neutral-700"}`,children:s.jsx("div",{className:N?"text-white":"text-neutral-400",children:b(w.icon)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-body font-semibold text-neutral-100 mb-1",children:w.name}),s.jsx("div",{className:"text-small text-neutral-400 mb-2",children:w.description})]}),w.isEssential&&s.jsx("div",{className:"px-2 py-1 rounded text-caption bg-success-900/30 text-success-400 border border-success-700 flex-shrink-0 ml-2",children:"Essential"})]}),s.jsx("div",{className:"bg-neutral-900 border border-neutral-700 p-3 rounded-lg mb-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(me,{className:"w-4 h-4 text-primary-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-small font-semibold text-neutral-100 mb-1",children:"Benefit"}),s.jsx("div",{className:"text-small text-neutral-300",children:w.benefit})]})]})}),s.jsx("button",{onClick:()=>g(w.id),disabled:o,className:`w-full py-2 px-4 rounded-lg font-medium transition-all ${N?"bg-primary-600 text-white hover:bg-primary-700":"bg-neutral-700 text-neutral-300 hover:bg-neutral-600"} ${o?"opacity-50 cursor-not-allowed":""}`,children:N?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(me,{className:"w-4 h-4"}),s.jsx("span",{children:"Feature Enabled"})]}):"Enable This Feature"})]})]})},w.id)})}),s.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-4 rounded-lg",children:[s.jsxs("button",{onClick:()=>p(!m),className:"flex items-center gap-2 text-warning-400 hover:text-warning-300 transition-colors",children:[s.jsx(lt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-small font-medium",children:m?"Hide Antivirus Tips":"Show Antivirus Tips"})]}),m&&s.jsxs("div",{className:"mt-4 space-y-2 text-body text-neutral-300",children:[s.jsx("p",{children:" Real-time scanning catches threats as they appear"}),s.jsx("p",{children:" Regular automatic updates ensure protection against new malware"}),s.jsx("p",{children:" Email scanning prevents phishing and malicious attachments"}),s.jsx("p",{children:" Web protection blocks dangerous websites and downloads"}),s.jsx("p",{children:" Scheduled scans find hidden threats on your system"}),s.jsx("p",{children:" Firewall integration adds an extra layer of defense"})]})]}),s.jsx("button",{onClick:y,disabled:u.length<n||o,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all ${u.length<n||o?"bg-neutral-700 text-neutral-500 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 shadow-dark-card hover:shadow-dark-card-hover"}`,children:o?"Submitting...":u.length<n?`Select ${n-u.length} more features`:"Complete Setup"})]})}function aw(){const{moduleId:a,stageId:r}=Ta(),{user:n}=jt(),l=Ys(),[o,u]=T.useState(null),[d,m]=T.useState([]),[p,g]=T.useState(""),[y,b]=T.useState([]),[v,j]=T.useState([]),[_,w]=T.useState(null),[N,$]=T.useState(!0),[E,R]=T.useState(!1),[I]=T.useState(Date.now());T.useEffect(()=>{async function ue(){if(!(!r||!n))try{const{data:Se}=await oe.from("stages").select("*").eq("id",r).maybeSingle();u(Se);const{data:_e}=await oe.from("hints").select("*").eq("stage_id",r).order("hint_number");m(_e||[]);const{data:ve}=await oe.from("user_progress").select("hints_used, status").eq("user_id",n.id).eq("stage_id",r).maybeSingle();ve!=null&&ve.hints_used&&b(ve.hints_used),(ve==null?void 0:ve.status)==="completed"&&w({type:"success",message:"You have already completed this challenge!"})}catch(Se){console.error("Error loading challenge:",Se)}finally{$(!1)}}ue()},[r,n]);async function F(ue){if(y.includes(ue)){v.includes(ue)?j(v.filter(Se=>Se!==ue)):j([...v,ue]);return}b([...y,ue]),j([...v,ue])}async function W(ue){const Se=ue||p;if(!(!o||!n||!Se.trim())){R(!0),w(null);try{const _e=Math.floor((Date.now()-I)/1e3),{data:ve,error:Ge}=await oe.functions.invoke("submit-answer",{body:{stageId:o.id,answer:Se.trim(),hintsUsed:y,timeSpent:_e}});if(Ge)throw Ge;const Je=(ve==null?void 0:ve.data)||ve;Je.correct?(w({type:"success",message:`Correct! You earned ${Je.points_earned} points!`}),setTimeout(()=>{l(`/module/${a}`)},2e3)):(w({type:"error",message:Je.message||"Incorrect answer. Try again!"}),g(""))}catch(_e){console.error("Submission error:",_e),w({type:"error",message:_e.message||"Failed to submit answer"})}finally{R(!1)}}}const Z=ue=>{ue.preventDefault(),W()},se=ue=>{W(ue)},ge=()=>{var Se,_e,ve,Ge,Je,Qe,Ee,H,ee,q,P,U,le,ce,he,fe,we,ye,je,Ze,Ar,Qn,$r,rn,Yn,Xn,nn,Zn,sn,sr,Vt,an,es,ts,rs,ns,ln,Ir,ss,ir,ar,ei;if(!o)return null;switch(o.challenge_type||"text"){case"matching":return s.jsx(zv,{pairs:((Se=o.challenge_data)==null?void 0:Se.pairs)||[],onSubmit:se,disabled:E});case"scenario":return s.jsx(Bv,{sections:((_e=o.challenge_data)==null?void 0:_e.sections)||[],onSubmit:se,disabled:E});case"drag-drop":return s.jsx(Hv,{items:((ve=o.challenge_data)==null?void 0:ve.items)||[],zones:((Ge=o.challenge_data)==null?void 0:Ge.zones)||[],onSubmit:se,disabled:E});case"code-analysis":return s.jsx(Wv,{code:((Je=o.challenge_data)==null?void 0:Je.code)||"",issues:((Qe=o.challenge_data)==null?void 0:Qe.issues)||[],language:(Ee=o.challenge_data)==null?void 0:Ee.language,onSubmit:se,disabled:E});case"caesar-cipher":return s.jsx(Vv,{plaintext:((H=o.challenge_data)==null?void 0:H.plaintext)||"",correctShift:((ee=o.challenge_data)==null?void 0:ee.correctShift)||0,onSubmit:se,disabled:E});case"password-builder":return s.jsx(qv,{minStrength:((q=o.challenge_data)==null?void 0:q.minStrength)||70,requiresLength:((P=o.challenge_data)==null?void 0:P.requiresLength)||12,onSubmit:se,disabled:E});case"email-detective":return s.jsx(Kv,{emailContent:((U=o.challenge_data)==null?void 0:U.emailContent)||{},clues:((le=o.challenge_data)==null?void 0:le.clues)||[],correctClueIds:((ce=o.challenge_data)==null?void 0:ce.correctClueIds)||[],requiredClues:((he=o.challenge_data)==null?void 0:he.requiredClues)||3,onSubmit:se,disabled:E});case"website-comparison":return s.jsx(Gv,{features:((fe=o.challenge_data)==null?void 0:fe.features)||[],correctAnswer:((we=o.challenge_data)==null?void 0:we.correctAnswer)||"left",onSubmit:se,disabled:E});case"https-demo":return s.jsx(Jv,{sensitiveData:((ye=o.challenge_data)==null?void 0:ye.sensitiveData)||[],correctAnswer:((je=o.challenge_data)==null?void 0:je.correctAnswer)||"https",onSubmit:se,disabled:E});case"wifi-safety":return s.jsx(Qv,{scenarios:((Ze=o.challenge_data)==null?void 0:Ze.scenarios)||[],correctAnswers:((Ar=o.challenge_data)==null?void 0:Ar.correctAnswers)||[],onSubmit:se,disabled:E});case"link-safety":return s.jsx(Yv,{links:((Qn=o.challenge_data)==null?void 0:Qn.links)||[],correctAnswers:(($r=o.challenge_data)==null?void 0:$r.correctAnswers)||[],onSubmit:se,disabled:E});case"browser-security":return s.jsx(Xv,{settings:((rn=o.challenge_data)==null?void 0:rn.settings)||[],correctSettings:((Yn=o.challenge_data)==null?void 0:Yn.correctSettings)||[],onSubmit:se,disabled:E});case"privacy-settings":return s.jsx(Zv,{privacyOptions:((Xn=o.challenge_data)==null?void 0:Xn.privacyOptions)||[],onSubmit:se,disabled:E});case"social-sharing-quiz":return s.jsx(ew,{scenarios:((nn=o.challenge_data)==null?void 0:nn.scenarios)||[],correctAnswers:((Zn=o.challenge_data)==null?void 0:Zn.correctAnswers)||{},onSubmit:se,disabled:E});case"fake-profile-analysis":return s.jsx(tw,{profileData:((sn=o.challenge_data)==null?void 0:sn.profileData)||{},redFlags:((sr=o.challenge_data)==null?void 0:sr.redFlags)||[],correctFlags:((Vt=o.challenge_data)==null?void 0:Vt.correctFlags)||[],minRequiredFlags:((an=o.challenge_data)==null?void 0:an.minRequiredFlags)||3,onSubmit:se,disabled:E});case"digital-footprint-cleanup":return s.jsx(rw,{footprints:((es=o.challenge_data)==null?void 0:es.footprints)||[],correctRemovals:((ts=o.challenge_data)==null?void 0:ts.correctRemovals)||[],onSubmit:se,disabled:E});case"malware-education":return s.jsx(nw,{malwareTypes:((rs=o.challenge_data)==null?void 0:rs.malwareTypes)||[],requiredLearning:((ns=o.challenge_data)==null?void 0:ns.requiredLearning)||3,onSubmit:se,disabled:E});case"infection-signs":return s.jsx(sw,{signs:((ln=o.challenge_data)==null?void 0:ln.signs)||[],correctSigns:((Ir=o.challenge_data)==null?void 0:Ir.correctSigns)||[],minCorrectIdentifications:((ss=o.challenge_data)==null?void 0:ss.minCorrectIdentifications)||3,onSubmit:se,disabled:E});case"antivirus-demo":return s.jsx(iw,{features:((ir=o.challenge_data)==null?void 0:ir.features)||[],correctFeatures:((ar=o.challenge_data)==null?void 0:ar.correctFeatures)||[],minRequired:((ei=o.challenge_data)==null?void 0:ei.minRequired)||3,onSubmit:se,disabled:E});case"text":default:return s.jsxs("form",{onSubmit:Z,className:"space-y-3",children:[s.jsx("label",{htmlFor:"answer",className:"block text-body font-semibold text-neutral-100 mb-3",children:"Your Answer"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",id:"answer",value:p,onChange:ti=>g(ti.target.value),placeholder:"Enter your answer...",className:"flex-1 px-4 py-3 border-2 border-neutral-700 rounded-md focus:border-primary-500 focus:outline-none transition-colors font-mono bg-neutral-900 text-neutral-100",disabled:E}),s.jsxs("button",{type:"submit",disabled:E||!p.trim(),className:"px-6 py-3 bg-primary-500 text-white font-semibold rounded-md hover:bg-primary-600 transition-all duration-200 hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx(Nv,{className:"w-5 h-5"}),E?"Checking...":"Submit"]})]})]})}};return N?s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading challenge..."})})]}):o?s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs(De,{to:`/module/${a}`,className:"inline-flex items-center gap-2 text-body text-neutral-400 hover:text-primary-500 mb-6",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Back to Module"]}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-neutral-900 p-8 rounded-lg border border-neutral-800 shadow-dark-card mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h1",{className:"text-h2 font-bold text-neutral-100",children:["Stage ",o.stage_number,": ",o.title]}),s.jsxs("div",{className:"bg-primary-100 text-primary-500 px-4 py-2 rounded-full text-body font-semibold",children:[o.points," pts"]})]}),s.jsx("p",{className:"text-body text-neutral-400",children:o.description})]}),s.jsxs("div",{className:"bg-neutral-800 p-8 rounded-lg mb-6 border border-neutral-700",children:[s.jsx("h2",{className:"text-body font-semibold text-neutral-100 mb-3",children:"Challenge Scenario"}),s.jsx("p",{className:"text-body text-neutral-100 leading-relaxed whitespace-pre-wrap",children:o.scenario})]}),s.jsx("div",{className:"bg-neutral-900 p-8 rounded-lg border border-neutral-800 shadow-dark-card mb-6",children:ge()}),_&&s.jsxs("div",{className:`p-6 rounded-lg mb-6 flex items-center gap-3 ${_.type==="success"?"bg-success-900/20 border border-success-600":"bg-error-900/20 border border-error-600"}`,children:[_.type==="success"?s.jsx(me,{className:"w-6 h-6 text-success-600 flex-shrink-0"}):s.jsx(ym,{className:"w-6 h-6 text-error-600 flex-shrink-0"}),s.jsx("p",{className:`text-body font-medium ${_.type==="success"?"text-success-400":"text-error-400"}`,children:_.message})]}),s.jsxs("div",{className:"bg-neutral-900 p-8 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("h2",{className:"text-body font-semibold text-neutral-100 mb-4 flex items-center gap-2",children:[s.jsx(tf,{className:"w-5 h-5 text-primary-500"}),"Hints (",y.length,"/3 used)"]}),d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(tf,{className:"w-12 h-12 text-neutral-600 mx-auto mb-3"}),s.jsx("p",{className:"text-body text-neutral-400",children:"No hints available for this challenge."})]}):s.jsx("div",{className:"space-y-3",children:d.map(ue=>{const Se=y.includes(ue.hint_number),_e=v.includes(ue.hint_number);return s.jsxs("div",{className:"border border-neutral-700 rounded-md overflow-hidden",children:[s.jsxs("button",{onClick:()=>F(ue.hint_number),className:"hint-button w-full px-4 py-3 flex items-center justify-between bg-neutral-800 hover:bg-neutral-700 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500",style:{display:"flex",visibility:"visible",opacity:1},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${Se?"bg-warning-900 text-warning-300":"bg-primary-900 text-primary-300"}`,children:ue.hint_number}),s.jsx("span",{className:"text-body font-medium text-neutral-100",children:Se?"Revealed Hint":`Hint ${ue.hint_number}`}),s.jsxs("span",{className:"text-small text-warning-400 font-medium bg-warning-900/20 px-2 py-1 rounded",children:["-",ue.penalty_points," pts"]})]}),_e?s.jsx(vc,{className:"w-5 h-5 text-neutral-300"}):s.jsx(xc,{className:"w-5 h-5 text-neutral-300"})]}),_e&&s.jsx("div",{className:"px-4 py-3 bg-neutral-900 border-t border-neutral-700",children:s.jsx("p",{className:"text-body text-neutral-100 leading-relaxed",children:ue.hint_text})})]},ue.id)})})]})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Challenge not found"})})]})}function lw(){var g;const{user:a}=jt(),[r,n]=T.useState(null),[l,o]=T.useState([]),[u,d]=T.useState({completedStages:0,hintsUsed:0,avgScore:0}),[m,p]=T.useState(!0);return T.useEffect(()=>{async function y(){if(a)try{const{data:b}=await oe.from("user_profiles").select("*").eq("id",a.id).maybeSingle();n(b);const{data:v}=await oe.from("user_badges").select("badge_id, earned_at").eq("user_id",a.id);if(v&&v.length>0){const $=v.map(I=>I.badge_id),{data:E}=await oe.from("badges").select("id, title, description").in("id",$),R=v.map(I=>{const F=E==null?void 0:E.find(W=>W.id===I.badge_id);return{id:I.badge_id,title:(F==null?void 0:F.title)||"",description:(F==null?void 0:F.description)||"",earned_at:I.earned_at}});o(R)}const{data:j}=await oe.from("user_progress").select("*").eq("user_id",a.id).eq("status","completed"),_=(j==null?void 0:j.length)||0,w=(j==null?void 0:j.reduce(($,E)=>{var R;return $+(((R=E.hints_used)==null?void 0:R.length)||0)},0))||0,N=_>0?Math.round(j.reduce(($,E)=>$+(E.points_earned||0),0)/_):0;d({completedStages:_,hintsUsed:w,avgScore:N})}catch(b){console.error("Error loading profile:",b)}finally{p(!1)}}y()},[a]),m?s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading profile..."})})]}):s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsx("div",{className:"bg-gradient-to-br from-primary-500 to-primary-600 p-12 rounded-lg text-white mb-8",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center text-h1 font-bold",children:(g=r==null?void 0:r.username)==null?void 0:g.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-h1 font-bold mb-2",children:r==null?void 0:r.username}),s.jsxs("div",{className:"flex gap-6 text-body-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"opacity-75",children:"Level:"})," ",s.jsx("strong",{children:r==null?void 0:r.level})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-75",children:"Total Points:"})," ",s.jsx("strong",{children:r==null?void 0:r.total_points})]}),s.jsxs("div",{children:[s.jsx("span",{className:"opacity-75",children:"Member Since:"})," ",s.jsx("strong",{children:new Date((r==null?void 0:r.member_since)||"").toLocaleDateString()})]})]})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Ea,{className:"w-8 h-8 text-primary-500"}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100",children:"Stages Completed"})]}),s.jsx("p",{className:"text-h1 font-bold text-neutral-100",children:u.completedStages})]}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(jc,{className:"w-8 h-8 text-warning-700"}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100",children:"Average Score"})]}),s.jsxs("p",{className:"text-h1 font-bold text-neutral-100",children:[u.avgScore," pts"]})]}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(xm,{className:"w-8 h-8 text-success-600"}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100",children:"Hints Used"})]}),s.jsx("p",{className:"text-h1 font-bold text-neutral-100",children:u.hintsUsed})]})]}),s.jsxs("div",{className:"bg-neutral-900 p-8 rounded-lg border border-neutral-800 shadow-dark-card",children:[s.jsxs("h2",{className:"text-h2 font-bold text-neutral-100 mb-6 flex items-center gap-3",children:[s.jsx(Fn,{className:"w-8 h-8 text-primary-500"}),"Badge Collection (",l.length,")"]}),l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fn,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),s.jsx("p",{className:"text-body text-neutral-400",children:"No badges earned yet. Complete challenges to earn badges!"})]}):s.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:l.map(y=>s.jsxs("div",{className:"bg-gradient-to-br from-primary-900/30 to-neutral-900 p-6 rounded-lg border border-primary-700 text-center",children:[s.jsx(Fn,{className:"w-16 h-16 text-primary-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100 mb-2",children:y.title}),s.jsx("p",{className:"text-small text-neutral-400 mb-3",children:y.description}),s.jsxs("p",{className:"text-caption text-neutral-500",children:["Earned ",new Date(y.earned_at).toLocaleDateString()]})]},y.id))})]})]})]})}function ow(){const{user:a}=jt(),[r,n]=T.useState([]),[l,o]=T.useState(null),[u,d]=T.useState(!0);if(T.useEffect(()=>{async function g(){var y;if(a)try{const{data:b}=await oe.from("user_profiles").select("id, username, total_points, level").order("total_points",{ascending:!1}).limit(100),v=(b==null?void 0:b.map((_,w)=>({user_id:_.id,username:_.username,total_points:_.total_points,level:_.level,rank:w+1})))||[];n(v);const j=(y=v.find(_=>_.user_id===a.id))==null?void 0:y.rank;o(j||null)}catch(b){console.error("Error loading leaderboard:",b)}finally{d(!1)}}g()},[a]),u)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading leaderboard..."})})]});const m=r.slice(0,3),p=r.slice(3);return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-h1 font-bold text-neutral-100 mb-4",children:"Leaderboard"}),s.jsx("p",{className:"text-body-lg text-neutral-400",children:"Compete with other learners and climb to the top!"})]}),l&&s.jsx("div",{className:"max-w-3xl mx-auto mb-8 bg-primary-900/20 p-6 rounded-lg border-2 border-primary-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ea,{className:"w-8 h-8 text-primary-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-body font-semibold text-neutral-100",children:"Your Rank"}),s.jsx("p",{className:"text-small text-neutral-400",children:"Keep learning to improve your position!"})]})]}),s.jsxs("div",{className:"text-h2 font-bold text-primary-500",children:["#",l]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto mb-12",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-100 text-center mb-8",children:"Top Performers"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:m.map((g,y)=>{const v=[{bg:"from-yellow-400 to-yellow-600",icon:"text-yellow-600",medal:""},{bg:"from-gray-300 to-gray-500",icon:"text-gray-600",medal:""},{bg:"from-orange-400 to-orange-600",icon:"text-orange-600",medal:""}][y];return s.jsxs("div",{className:`bg-gradient-to-br ${v.bg} p-8 rounded-lg text-white text-center shadow-card-hover ${y===0?"md:scale-110 md:-translate-y-2":""}`,children:[s.jsx("div",{className:"text-6xl mb-4",children:v.medal}),s.jsx("h3",{className:"text-h3 font-bold mb-2",children:g.username}),s.jsxs("div",{className:"text-body-lg font-semibold mb-1",children:[g.total_points," points"]}),s.jsxs("div",{className:"text-body opacity-90",children:["Level ",g.level]})]},g.user_id)})})]}),s.jsxs("div",{className:"max-w-4xl mx-auto bg-neutral-900 rounded-lg border border-neutral-800 shadow-dark-card overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-neutral-800 border-b border-neutral-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-small font-semibold text-neutral-100",children:"Rank"}),s.jsx("th",{className:"px-6 py-4 text-left text-small font-semibold text-neutral-100",children:"Username"}),s.jsx("th",{className:"px-6 py-4 text-right text-small font-semibold text-neutral-100",children:"Level"}),s.jsx("th",{className:"px-6 py-4 text-right text-small font-semibold text-neutral-100",children:"Points"})]})}),s.jsx("tbody",{className:"divide-y divide-neutral-800",children:p.map(g=>{const y=g.user_id===(a==null?void 0:a.id);return s.jsxs("tr",{className:`transition-colors ${y?"bg-primary-900/20 border-l-4 border-l-primary-500":"hover:bg-neutral-800/50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"text-body font-semibold text-neutral-100",children:["#",g.rank]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-900/30 rounded-full flex items-center justify-center text-body font-semibold text-primary-400",children:g.username.charAt(0).toUpperCase()}),s.jsxs("span",{className:`text-body ${y?"font-semibold":""} text-neutral-100`,children:[g.username,y&&s.jsx("span",{className:"ml-2 text-primary-500",children:"(You)"})]})]})}),s.jsx("td",{className:"px-6 py-4 text-right text-body text-neutral-100",children:g.level}),s.jsx("td",{className:"px-6 py-4 text-right text-body font-semibold text-neutral-100",children:g.total_points})]},g.user_id)})})]})}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ea,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),s.jsx("p",{className:"text-body text-neutral-400",children:"No users on leaderboard yet. Be the first!"})]})]})]})]})}function cw(){const{user:a}=jt(),[r,n]=T.useState([]),[l,o]=T.useState([]),[u,d]=T.useState(!0);if(T.useEffect(()=>{async function p(){if(a)try{const{data:g}=await oe.from("tool_modules").select("*").order("order_index");n(g||[]);const{data:y}=await oe.from("user_tool_progress").select("tool_stage_id, status").eq("user_id",a.id).eq("status","completed");if(y&&y.length>0){const b=y.map(w=>w.tool_stage_id),{data:v}=await oe.from("tool_stages").select("id, tool_module_id").in("id",b),j={};v==null||v.forEach(w=>{j[w.tool_module_id]=(j[w.tool_module_id]||0)+1});const _=Object.entries(j).map(([w,N])=>({tool_module_id:parseInt(w),completed_count:N}));o(_)}}catch(g){console.error("Error loading tools:",g)}finally{d(!1)}}p()},[a]),u)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading tools..."})})]});const m=Array.from(new Set(r.map(p=>p.category)));return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(sf,{className:"w-12 h-12 text-primary-500"}),s.jsx("h1",{className:"text-h1 font-bold text-neutral-100",children:"Cybersecurity Tools Training"})]}),s.jsx("p",{className:"text-body-lg text-neutral-400 max-w-3xl",children:"Master essential cybersecurity tools through hands-on video tutorials, interactive labs, and practical challenges. From network analysis to penetration testing."})]}),m.map(p=>{const g=r.filter(y=>y.category===p);return s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-100 mb-6",children:p}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>{const b=l.find(w=>w.tool_module_id===y.id),v=(b==null?void 0:b.completed_count)||0,j=v/y.total_stages*100,_=v===y.total_stages;return s.jsxs(De,{to:`/tools-training/${y.id}`,className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 hover:border-primary-500 hover:shadow-dark-card-hover transition-all duration-250 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-900/30 rounded-lg flex items-center justify-center group-hover:bg-primary-500 transition-colors",children:s.jsx(sf,{className:"w-6 h-6 text-primary-500 group-hover:text-white"})}),_&&s.jsx(me,{className:"w-6 h-6 text-success-600"})]}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100 mb-2",children:y.title}),s.jsx("p",{className:"text-small text-neutral-400 mb-4 line-clamp-2",children:y.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bc,{className:"w-4 h-4 text-primary-500"}),s.jsx("span",{className:"text-small text-neutral-400",children:"Video Tutorial Included"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-small text-neutral-400",children:[s.jsxs("span",{children:[v,"/",y.total_stages," stages"]}),s.jsxs("span",{children:[Math.round(j),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${j}%`}})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-caption font-medium ${y.difficulty==="Beginner"?"bg-success-50 text-success-600":y.difficulty==="Intermediate"?"bg-warning-50 text-warning-700":"bg-error-50 text-error-600"}`,children:y.difficulty})})]},y.id)})})]},p)})]})]})}function uw(){const{user:a}=jt(),[r,n]=T.useState([]),[l,o]=T.useState([]),[u,d]=T.useState(!0);if(T.useEffect(()=>{async function p(){if(a)try{const{data:g}=await oe.from("dfir_modules").select("*").order("order_index");n(g||[]);const{data:y}=await oe.from("user_dfir_progress").select("dfir_stage_id, status").eq("user_id",a.id).eq("status","completed");if(y&&y.length>0){const b=y.map(w=>w.dfir_stage_id),{data:v}=await oe.from("dfir_stages").select("id, dfir_module_id").in("id",b),j={};v==null||v.forEach(w=>{j[w.dfir_module_id]=(j[w.dfir_module_id]||0)+1});const _=Object.entries(j).map(([w,N])=>({dfir_module_id:parseInt(w),completed_count:N}));o(_)}}catch(g){console.error("Error loading DFIR modules:",g)}finally{d(!1)}}p()},[a]),u)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading DFIR modules..."})})]});const m=Array.from(new Set(r.map(p=>p.category)));return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Sa,{className:"w-12 h-12 text-primary-500"}),s.jsx("h1",{className:"text-h1 font-bold text-neutral-100",children:"Digital Forensics & Incident Response"})]}),s.jsx("p",{className:"text-body-lg text-neutral-400 max-w-3xl",children:"Master digital forensics and incident response through comprehensive video tutorials, real-world scenarios, and hands-on investigations. From evidence collection to threat hunting."})]}),m.map(p=>{const g=r.filter(y=>y.category===p);return s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-h2 font-bold text-neutral-100 mb-6",children:p}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>{const b=l.find(w=>w.dfir_module_id===y.id),v=(b==null?void 0:b.completed_count)||0,j=v/y.total_stages*100,_=v===y.total_stages;return s.jsxs(De,{to:`/dfir/${y.id}`,className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800 hover:border-primary-500 hover:shadow-dark-card-hover transition-all duration-250 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-900/30 rounded-lg flex items-center justify-center group-hover:bg-primary-500 transition-colors",children:s.jsx(Sa,{className:"w-6 h-6 text-primary-500 group-hover:text-white"})}),_&&s.jsx(me,{className:"w-6 h-6 text-success-600"})]}),s.jsx("h3",{className:"text-body font-semibold text-neutral-100 mb-2",children:y.title}),s.jsx("p",{className:"text-small text-neutral-400 mb-4 line-clamp-2",children:y.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(bc,{className:"w-4 h-4 text-primary-500"}),s.jsx("span",{className:"text-small text-neutral-400",children:"Video Tutorial Included"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-small text-neutral-400",children:[s.jsxs("span",{children:[v,"/",y.total_stages," stages"]}),s.jsxs("span",{children:[Math.round(j),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${j}%`}})})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-caption font-medium ${y.difficulty==="Beginner"?"bg-success-50 text-success-600":y.difficulty==="Intermediate"?"bg-warning-50 text-warning-700":"bg-error-50 text-error-600"}`,children:y.difficulty})})]},y.id)})})]},p)})]})]})}function dw({stageId:a,userId:r}){var R;const[n,l]=T.useState([]),[o,u]=T.useState(new Map),[d,m]=T.useState(new Map),[p,g]=T.useState(!1),[y,b]=T.useState(!0);T.useEffect(()=>{v(),j()},[a]);async function v(){const{data:I,error:F}=await oe.from("stage_questions").select("*").eq("tool_stage_id",a).order("order_index");!F&&I&&l(I),b(!1)}async function j(){const{data:I}=await oe.from("user_answers").select("question_id, selected_option, is_correct").eq("user_id",r).in("question_id",n.map(F=>F.id));if(I){const F=new Map(I.map(W=>[W.question_id,W]));u(F)}}const _=(I,F)=>{m(new Map(d.set(I,F)))},w=async()=>{const I=[];let F=0;for(const Z of n){const se=d.get(Z.id);if(!se)continue;const ge=se===Z.correct_option;ge&&(F+=Z.points),I.push({question_id:Z.id,selected_option:se,is_correct:ge}),await oe.from("user_answers").upsert({user_id:r,question_id:Z.id,selected_option:se,is_correct:ge,points_earned:ge?Z.points:0,answered_at:new Date().toISOString()})}F>0&&await oe.rpc("increment_user_points",{user_id:r,points_to_add:F});const W=new Map(o);I.forEach(Z=>{W.set(Z.question_id,Z)}),u(W),g(!0)},N=()=>{let I=0,F=0;return n.forEach(W=>{const Z=o.get(W.id);Z&&(F++,Z.is_correct&&I++)}),{correct:I,total:F}};if(y)return s.jsx("div",{className:"text-neutral-400",children:"Loading questions..."});if(n.length===0)return null;const{correct:$,total:E}=N();return s.jsxs("div",{className:"bg-neutral-900 rounded-lg border border-neutral-800 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-h3 text-white font-semibold",children:"Tool Usage Questions"}),p&&E>0&&s.jsxs("div",{className:"text-primary-400 font-medium",children:["Score: ",$,"/",E," (",Math.round($/E*100),"%)"]})]}),s.jsx("div",{className:"space-y-8",children:n.map((I,F)=>{const W=o.get(I.id),Z=d.get(I.id),se=!!W;return s.jsxs("div",{className:"bg-neutral-950 rounded-lg border border-neutral-800 p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsxs("span",{className:"text-primary-400 font-medium",children:["Q",F+1]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-body text-white mb-2",children:I.question_text}),s.jsxs("span",{className:`text-caption px-2 py-1 rounded ${I.difficulty==="basic"?"bg-green-500/10 text-green-400":"bg-orange-500/10 text-orange-400"}`,children:[I.difficulty==="basic"?"Basic Command":"Advanced Scenario","  ",I.points," pts"]})]})]}),s.jsx("div",{className:"space-y-3 ml-10",children:I.options.map(ge=>{const ue=Z===ge.id,Se=ge.id===I.correct_option,_e=se||p;return s.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-lg border cursor-pointer transition-all ${_e?Se?"bg-green-500/10 border-green-500/50":ue?"bg-red-500/10 border-red-500/50":"bg-neutral-900 border-neutral-800":ue?"bg-primary-500/10 border-primary-500/50":"bg-neutral-900 border-neutral-800 hover:border-neutral-700"}`,children:[s.jsx("input",{type:"radio",name:`question-${I.id}`,value:ge.id,checked:ue,onChange:()=>_(I.id,ge.id),disabled:se,className:"w-4 h-4 text-primary-500 border-neutral-700 focus:ring-primary-500"}),s.jsx("span",{className:"flex-1 text-body text-white",children:ge.text}),_e&&Se&&s.jsx(me,{className:"w-5 h-5 text-green-400"})]},ge.id)})}),(se||p)&&s.jsx("div",{className:"mt-4 ml-10 p-4 bg-neutral-900 rounded-lg border border-neutral-800",children:s.jsxs("p",{className:"text-caption text-neutral-300",children:[s.jsx("span",{className:"font-medium text-white",children:"Explanation:"})," ",I.explanation]})})]},I.id)})}),!p&&d.size>0&&s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsxs("button",{onClick:w,className:"px-8 py-3 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-lg transition-colors",children:["Submit All Answers (",d.size,"/",n.length,")"]})}),p&&s.jsxs("div",{className:"mt-8 p-6 bg-primary-500/10 border border-primary-500/50 rounded-lg text-center",children:[s.jsxs("p",{className:"text-body text-white mb-2",children:["You scored ",s.jsxs("span",{className:"font-bold text-primary-400",children:[$," out of ",E]})," questions correctly!"]}),s.jsxs("p",{className:"text-caption text-neutral-300",children:["Earned ",$*(((R=n[0])==null?void 0:R.points)||10)," points"]})]})]})}const hw={installation:Zo,commands:Cv,scenarios:wm,advanced:_m,troubleshooting:ka},fw={installation:"text-blue-400",commands:"text-green-400",scenarios:"text-yellow-400",advanced:"text-purple-400",troubleshooting:"text-red-400"};function mw({toolName:a}){const[r,n]=T.useState([]),[l,o]=T.useState(new Set([])),[u,d]=T.useState(null),[m,p]=T.useState(!0);T.useEffect(()=>{g()},[a]);async function g(){const{data:v,error:j}=await oe.from("walkthroughs").select("*").eq("tool_name",a).order("category").order("order_index");!j&&v&&(n(v),v.length>0&&o(new Set([v[0].id]))),p(!1)}const y=v=>{const j=new Set(l);j.has(v)?j.delete(v):j.add(v),o(j)},b=async(v,j)=>{await navigator.clipboard.writeText(v),d(j),setTimeout(()=>d(null),2e3)};return m?s.jsx("div",{className:"text-neutral-400",children:"Loading walkthrough..."}):r.length===0?null:s.jsxs("div",{className:"bg-neutral-900 rounded-lg border border-neutral-800 p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Zo,{className:"w-6 h-6 text-primary-400"}),s.jsx("h2",{className:"text-h3 text-white font-semibold",children:"Comprehensive Walkthrough"})]}),s.jsx("div",{className:"space-y-4",children:r.map(v=>{const j=l.has(v.id),_=hw[v.category]||Zo,w=fw[v.category]||"text-primary-400";return s.jsxs("div",{className:"bg-neutral-950 rounded-lg border border-neutral-800 overflow-hidden",children:[s.jsxs("button",{onClick:()=>y(v.id),className:"w-full flex items-center justify-between p-5 hover:bg-neutral-900 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_,{className:`w-5 h-5 ${w}`}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-body text-white font-medium",children:v.title}),s.jsx("p",{className:"text-caption text-neutral-400 capitalize",children:v.category})]})]}),j?s.jsx(vc,{className:"w-5 h-5 text-neutral-400"}):s.jsx(xc,{className:"w-5 h-5 text-neutral-400"})]}),j&&s.jsxs("div",{className:"p-5 pt-0 border-t border-neutral-800",children:[s.jsx("div",{className:"prose prose-invert max-w-none",children:s.jsx("div",{className:"text-body text-neutral-300 whitespace-pre-wrap leading-relaxed",children:v.content})}),v.code_examples&&v.code_examples.length>0&&s.jsx("div",{className:"mt-6 space-y-3",children:v.code_examples.map((N,$)=>s.jsxs("div",{className:"relative bg-neutral-900 rounded-lg border border-neutral-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-neutral-900 border-b border-neutral-800",children:[s.jsx("span",{className:"text-caption text-neutral-400 uppercase font-mono",children:N.language}),s.jsxs("button",{onClick:()=>b(N.code,`${v.id}-${$}`),className:"flex items-center gap-2 text-caption text-primary-400 hover:text-primary-300 transition-colors",children:[s.jsx(fv,{className:"w-4 h-4"}),u===`${v.id}-${$}`?"Copied!":"Copy"]})]}),s.jsx("div",{className:"p-4",children:s.jsx("pre",{className:"text-caption text-neutral-200 font-mono overflow-x-auto",children:s.jsx("code",{children:N.code})})})]},$))})]})]},v.id)})}),s.jsx("div",{className:"mt-6 p-4 bg-primary-500/10 border border-primary-500/30 rounded-lg",children:s.jsxs("p",{className:"text-caption text-neutral-300",children:[s.jsx("span",{className:"font-medium text-primary-400",children:"Pro Tip:"})," Practice these commands in a safe lab environment before using in production."]})})]})}function pw(){var N,$;const{toolId:a}=Ta(),{user:r}=jt(),[n,l]=T.useState(null),[o,u]=T.useState([]),[d,m]=T.useState([]),[p,g]=T.useState(null),[y,b]=T.useState(!0);T.useEffect(()=>{v()},[a,r]),T.useEffect(()=>{o.length>0&&!p&&g(o[0])},[o]);async function v(){if(!a)return;const{data:E}=await oe.from("tool_modules").select("*").eq("id",a).single();E&&l(E);const{data:R}=await oe.from("tool_stages").select("*").eq("tool_module_id",a).order("stage_number");if(R&&u(R),r){const{data:I}=await oe.from("user_tool_progress").select("*").eq("user_id",r.id).in("tool_stage_id",(R==null?void 0:R.map(F=>F.id))||[]);I&&m(I)}b(!1)}const j=async E=>{if(r)try{const{error:R}=await oe.from("user_tool_progress").upsert({user_id:r.id,tool_stage_id:E,status:"completed",video_completed:!0,completed_at:new Date().toISOString()});if(!R){const{data:I}=await oe.from("user_tool_progress").select("*").eq("user_id",r.id).in("tool_stage_id",o.map(F=>F.id));m(I||[])}}catch(R){console.error("Error marking stage complete:",R)}};if(y)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading tool training..."})})]});if(!n)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Tool not found"})})]});const _=d.filter(E=>E.status==="completed").length,w=_/o.length*100;return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsxs(De,{to:"/tools",className:"inline-flex items-center gap-2 text-body text-primary-400 hover:text-primary-300 mb-6",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Back to Tools Training"]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-h1 text-white font-bold mb-4",children:n.title}),s.jsx("p",{className:"text-body text-neutral-300 mb-6",children:n.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-caption text-neutral-400",children:[s.jsx("span",{children:"Your Progress"}),s.jsxs("span",{children:[_,"/",o.length," Stages Complete"]})]}),s.jsx("div",{className:"w-full bg-neutral-900 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-primary-500 h-2 transition-all duration-300",style:{width:`${w}%`}})})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[s.jsx("h2",{className:"text-h3 text-white font-semibold mb-4",children:"Training Stages"}),o.map(E=>{const R=d.find(W=>W.tool_stage_id===E.id),I=(R==null?void 0:R.status)==="completed",F=(p==null?void 0:p.id)===E.id;return s.jsx("button",{onClick:()=>g(E),className:`w-full text-left p-4 rounded-lg border transition-all ${F?"bg-primary-500/10 border-primary-500/50":"bg-neutral-900 border-neutral-800 hover:border-neutral-700"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:I?s.jsx(me,{className:"w-5 h-5 text-green-400"}):s.jsx(wc,{className:"w-5 h-5 text-neutral-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-caption text-primary-400 font-medium mb-1",children:["Stage ",E.stage_number]}),s.jsx("div",{className:"text-body text-white font-medium mb-1",children:E.title}),s.jsxs("div",{className:"text-caption text-neutral-400",children:[E.points," points"]})]})]})},E.id)})]}),s.jsx("div",{className:"lg:col-span-2 space-y-8",children:p&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsxs("span",{className:"text-caption text-primary-400 font-medium",children:["Stage ",p.stage_number]}),s.jsx("span",{className:"text-caption text-neutral-500",children:""}),s.jsxs("span",{className:"text-caption text-neutral-400",children:[p.points," points"]})]}),s.jsx("h2",{className:"text-h2 text-white font-bold mb-4",children:p.title}),s.jsx("p",{className:"text-body text-neutral-300 mb-6",children:p.description})]}),p.video_url&&s.jsx("div",{className:"bg-neutral-900 rounded-lg border border-neutral-800 overflow-hidden",children:s.jsx("div",{className:"aspect-video",children:s.jsx("iframe",{src:p.video_url,title:p.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),p.tutorial_content&&s.jsxs("div",{className:"bg-neutral-900 rounded-lg border border-neutral-800 p-6",children:[s.jsx("h3",{className:"text-h3 text-white font-semibold mb-4",children:"Tutorial"}),s.jsx("div",{className:"prose prose-invert max-w-none",children:s.jsx("p",{className:"text-body text-neutral-300 whitespace-pre-wrap",children:p.tutorial_content})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:()=>j(p.id),disabled:((N=d.find(E=>E.tool_stage_id===p.id))==null?void 0:N.status)==="completed",className:"px-8 py-3 bg-primary-500 hover:bg-primary-600 disabled:bg-neutral-800 disabled:text-neutral-500 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:(($=d.find(E=>E.tool_stage_id===p.id))==null?void 0:$.status)==="completed"?"Stage Completed":"Mark Stage Complete"})}),s.jsx(mw,{toolName:gw(n.title)}),r&&s.jsx(dw,{stageId:p.id,userId:r.id})]})})]})]})]})}function gw(a){return{"Wireshark Mastery":"Wireshark","Nmap Scanning Techniques":"Nmap","Metasploit Framework":"Metasploit","Burp Suite Pro":"Burp Suite","Autopsy Forensics":"Autopsy","Volatility Framework":"Volatility"}[a]||a.split(" ")[0]}function yw(){const{dfirId:a}=Ta(),{user:r}=jt(),[n,l]=T.useState(null),[o,u]=T.useState([]),[d,m]=T.useState([]),[p,g]=T.useState(null),[y,b]=T.useState(!0);T.useEffect(()=>{async function w(){if(!(!r||!a))try{const{data:N}=await oe.from("dfir_modules").select("*").eq("id",a).single();l(N);const{data:$}=await oe.from("dfir_stages").select("*").eq("dfir_module_id",a).order("stage_number");u($||[]),$&&$.length>0&&g($[0]);const{data:E}=await oe.from("user_dfir_progress").select("*").eq("user_id",r.id).in("dfir_stage_id",($==null?void 0:$.map(R=>R.id))||[]);m(E||[])}catch(N){console.error("Error loading DFIR data:",N)}finally{b(!1)}}w()},[r,a]);const v=async w=>{if(r)try{const{error:N}=await oe.from("user_dfir_progress").upsert({user_id:r.id,dfir_stage_id:w,status:"completed",video_completed:!0,completed_at:new Date().toISOString()});if(!N){const{data:$}=await oe.from("user_dfir_progress").select("*").eq("user_id",r.id).in("dfir_stage_id",o.map(E=>E.id));m($||[])}}catch(N){console.error("Error marking stage complete:",N)}};if(y)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Loading DFIR module..."})})]});if(!n)return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsx("div",{className:"container mx-auto py-16 text-center",children:s.jsx("div",{className:"text-neutral-400",children:"Module not found"})})]});const j=d.filter(w=>w.status==="completed").length,_=j/o.length*100;return s.jsxs("div",{className:"min-h-screen bg-neutral-950",children:[s.jsx(Pe,{}),s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsxs(De,{to:"/dfir",className:"inline-flex items-center gap-2 text-body text-primary-400 hover:text-primary-300 mb-6",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Back to DFIR Training"]}),s.jsxs("div",{className:"bg-neutral-900 p-8 rounded-lg border border-neutral-800 mb-8",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Sa,{className:"w-8 h-8 text-primary-500"}),s.jsx("h1",{className:"text-h1 font-bold text-neutral-100",children:n.title})]}),s.jsx("p",{className:"text-body text-neutral-400 mb-4",children:n.description}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-caption font-medium ${n.difficulty==="Beginner"?"bg-success-50 text-success-600":n.difficulty==="Intermediate"?"bg-warning-50 text-warning-700":"bg-error-50 text-error-600"}`,children:n.difficulty}),s.jsx("span",{className:"text-small text-neutral-400",children:n.category})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-small text-neutral-400",children:[s.jsxs("span",{children:["Progress: ",j,"/",o.length," stages"]}),s.jsxs("span",{children:[Math.round(_),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary-500 transition-all duration-300",style:{width:`${_}%`}})})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 bg-neutral-900 p-6 rounded-lg border border-neutral-800 h-fit",children:[s.jsx("h2",{className:"text-h3 font-bold text-neutral-100 mb-4",children:"Training Stages"}),s.jsx("div",{className:"space-y-2",children:o.map(w=>{const N=d.find(R=>R.dfir_stage_id===w.id),$=(N==null?void 0:N.status)==="completed",E=(p==null?void 0:p.id)===w.id;return s.jsx("button",{onClick:()=>g(w),className:`w-full text-left p-4 rounded-lg transition-all border ${E?"bg-primary-900/30 border-primary-500":"bg-neutral-800 border-neutral-700 hover:border-primary-400"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[$?s.jsx(me,{className:"w-5 h-5 text-success-600 flex-shrink-0"}):s.jsx(wc,{className:"w-5 h-5 text-neutral-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"text-small font-medium text-neutral-100",children:["Stage ",w.stage_number]}),s.jsx("div",{className:"text-caption text-neutral-400 truncate",children:w.title})]})]})},w.id)})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:p?s.jsxs(s.Fragment,{children:[p.video_url&&s.jsx("div",{className:"bg-neutral-900 rounded-lg border border-neutral-800 overflow-hidden",children:s.jsx("div",{className:"aspect-video bg-neutral-900 relative",children:s.jsx("iframe",{src:p.video_url,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),s.jsxs("div",{className:"bg-neutral-900 p-6 rounded-lg border border-neutral-800",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-h2 font-bold text-neutral-100 mb-2",children:["Stage ",p.stage_number,": ",p.title]}),s.jsx("p",{className:"text-body text-neutral-400 mb-4",children:p.description})]})}),p.audio_url&&s.jsxs("div",{className:"mb-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Rv,{className:"w-5 h-5 text-primary-500"}),s.jsx("span",{className:"text-small font-medium text-neutral-100",children:"Audio Narration"})]}),s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:p.audio_url,type:"audio/mpeg"}),"Your browser does not support audio playback."]})]}),s.jsx("div",{className:"prose prose-neutral max-w-none mb-6",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:p.content}})}),!d.find(w=>w.dfir_stage_id===p.id&&w.status==="completed")&&s.jsxs("button",{onClick:()=>v(p.id),className:"w-full px-6 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx(me,{className:"w-5 h-5"}),"Mark Stage as Complete"]}),d.find(w=>w.dfir_stage_id===p.id&&w.status==="completed")&&s.jsxs("div",{className:"w-full px-6 py-3 bg-success-50 text-success-600 rounded-lg flex items-center justify-center gap-2",children:[s.jsx(me,{className:"w-5 h-5"}),"Stage Completed"]})]})]}):s.jsxs("div",{className:"bg-neutral-900 p-12 rounded-lg border border-neutral-800 text-center",children:[s.jsx(bc,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),s.jsx("p",{className:"text-body text-neutral-400",children:"Select a stage to begin training"})]})})]})]})]})}function er({children:a}){const{user:r,loading:n}=jt();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-950",children:s.jsx("div",{className:"text-neutral-400",children:"Loading..."})}):r?s.jsx(s.Fragment,{children:a}):s.jsx(vg,{to:"/login",replace:!0})}function xw(){return s.jsxs(bg,{children:[s.jsx(xt,{path:"/",element:s.jsx(Lv,{})}),s.jsx(xt,{path:"/login",element:s.jsx(Uv,{})}),s.jsx(xt,{path:"/signup",element:s.jsx(Dv,{})}),s.jsx(xt,{path:"/dashboard",element:s.jsx(er,{children:s.jsx(Mv,{})})}),s.jsx(xt,{path:"/module/:moduleId",element:s.jsx(er,{children:s.jsx(Fv,{})})}),s.jsx(xt,{path:"/module/:moduleId/stage/:stageId",element:s.jsx(er,{children:s.jsx(aw,{})})}),s.jsx(xt,{path:"/profile",element:s.jsx(er,{children:s.jsx(lw,{})})}),s.jsx(xt,{path:"/leaderboard",element:s.jsx(er,{children:s.jsx(ow,{})})}),s.jsx(xt,{path:"/tools",element:s.jsx(er,{children:s.jsx(cw,{})})}),s.jsx(xt,{path:"/dfir",element:s.jsx(er,{children:s.jsx(uw,{})})}),s.jsx(xt,{path:"/tools-training/:toolId",element:s.jsx(er,{children:s.jsx(pw,{})})}),s.jsx(xt,{path:"/dfir/:dfirId",element:s.jsx(er,{children:s.jsx(yw,{})})})]})}function vw(){return s.jsx("div",{className:"dark",children:s.jsx(iv,{children:s.jsx(Cg,{children:s.jsx(xw,{})})})})}E0.createRoot(document.getElementById("root")).render(s.jsx(T.StrictMode,{children:s.jsx(T0,{children:s.jsx(vw,{})})}));
